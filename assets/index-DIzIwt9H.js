(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function zb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ud={exports:{}},vl={};var q_;function Lb(){if(q_)return vl;q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var H_;function Ub(){return H_||(H_=1,Ud.exports=Lb()),Ud.exports}var N=Ub(),Pd={exports:{}},At={};var G_;function Pb(){if(G_)return At;G_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,et={};function pt(O,Y,rt){this.props=O,this.context=Y,this.refs=et,this.updater=rt||tt}pt.prototype.isReactComponent={},pt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},pt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function bt(){}bt.prototype=pt.prototype;function yt(O,Y,rt){this.props=O,this.context=Y,this.refs=et,this.updater=rt||tt}var Ft=yt.prototype=new bt;Ft.constructor=yt,it(Ft,pt.prototype),Ft.isPureReactComponent=!0;var Bt=Array.isArray;function Ct(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Y,rt){var at=rt.ref;return{$$typeof:r,type:O,key:Y,ref:at!==void 0?at:null,props:rt}}function V(O,Y){return I(O.type,Y,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function z(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return Y[rt]})}var w=/\/+/g;function ie(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?z(""+O.key):Y.toString(36)}function _e(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ct,Ct):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,rt,at,ft){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var J=!1;if(O===null)J=!0;else switch(St){case"bigint":case"string":case"number":J=!0;break;case"object":switch(O.$$typeof){case r:case t:J=!0;break;case E:return J=O._init,H(J(O._payload),Y,rt,at,ft)}}if(J)return ft=ft(O),J=at===""?"."+ie(O,0):at,Bt(ft)?(rt="",J!=null&&(rt=J.replace(w,"$&/")+"/"),H(ft,Y,rt,"",function(Lt){return Lt})):ft!=null&&(x(ft)&&(ft=V(ft,rt+(ft.key==null||O&&O.key===ft.key?"":(""+ft.key).replace(w,"$&/")+"/")+J)),Y.push(ft)),1;J=0;var W=at===""?".":at+":";if(Bt(O))for(var Z=0;Z<O.length;Z++)at=O[Z],St=W+ie(at,Z),J+=H(at,Y,rt,St,ft);else if(Z=F(O),typeof Z=="function")for(O=Z.call(O),Z=0;!(at=O.next()).done;)at=at.value,St=W+ie(at,Z++),J+=H(at,Y,rt,St,ft);else if(St==="object"){if(typeof O.then=="function")return H(_e(O),Y,rt,at,ft);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return J}function st(O,Y,rt){if(O==null)return O;var at=[],ft=0;return H(O,at,"","",function(St){return Y.call(rt,St,ft++)}),at}function ht(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Dt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:st,forEach:function(O,Y,rt){st(O,function(){Y.apply(this,arguments)},rt)},count:function(O){var Y=0;return st(O,function(){Y++}),Y},toArray:function(O){return st(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=A,At.Children=qt,At.Component=pt,At.Fragment=i,At.Profiler=l,At.PureComponent=yt,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,Y,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=it({},O.props),ft=O.key;if(Y!=null)for(St in Y.key!==void 0&&(ft=""+Y.key),Y)!S.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(at[St]=Y[St]);var St=arguments.length-2;if(St===1)at.children=rt;else if(1<St){for(var J=Array(St),W=0;W<St;W++)J[W]=arguments[W+2];at.children=J}return I(O.type,ft,at)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,Y,rt){var at,ft={},St=null;if(Y!=null)for(at in Y.key!==void 0&&(St=""+Y.key),Y)S.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(ft[at]=Y[at]);var J=arguments.length-2;if(J===1)ft.children=rt;else if(1<J){for(var W=Array(J),Z=0;Z<J;Z++)W[Z]=arguments[Z+2];ft.children=W}if(O&&O.defaultProps)for(at in J=O.defaultProps,J)ft[at]===void 0&&(ft[at]=J[at]);return I(O,St,ft)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=x,At.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ht}},At.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},At.startTransition=function(O){var Y=C.T,rt={};C.T=rt;try{var at=O(),ft=C.S;ft!==null&&ft(rt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,Dt)}catch(St){Dt(St)}finally{Y!==null&&rt.types!==null&&(Y.types=rt.types),C.T=Y}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(O){return C.H.use(O)},At.useActionState=function(O,Y,rt){return C.H.useActionState(O,Y,rt)},At.useCallback=function(O,Y){return C.H.useCallback(O,Y)},At.useContext=function(O){return C.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},At.useEffect=function(O,Y){return C.H.useEffect(O,Y)},At.useEffectEvent=function(O){return C.H.useEffectEvent(O)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(O,Y,rt){return C.H.useImperativeHandle(O,Y,rt)},At.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},At.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},At.useMemo=function(O,Y){return C.H.useMemo(O,Y)},At.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},At.useReducer=function(O,Y,rt){return C.H.useReducer(O,Y,rt)},At.useRef=function(O){return C.H.useRef(O)},At.useState=function(O){return C.H.useState(O)},At.useSyncExternalStore=function(O,Y,rt){return C.H.useSyncExternalStore(O,Y,rt)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.3",At}var F_;function xm(){return F_||(F_=1,Pd.exports=Pb()),Pd.exports}var oe=xm();const xc=zb(oe);var jd={exports:{}},El={},Bd={exports:{}},qd={};var Q_;function jb(){return Q_||(Q_=1,(function(r){function t(H,st){var ht=H.length;H.push(st);t:for(;0<ht;){var Dt=ht-1>>>1,qt=H[Dt];if(0<l(qt,st))H[Dt]=st,H[ht]=qt,ht=Dt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var st=H[0],ht=H.pop();if(ht!==st){H[0]=ht;t:for(var Dt=0,qt=H.length,O=qt>>>1;Dt<O;){var Y=2*(Dt+1)-1,rt=H[Y],at=Y+1,ft=H[at];if(0>l(rt,ht))at<qt&&0>l(ft,rt)?(H[Dt]=ft,H[at]=ht,Dt=at):(H[Dt]=rt,H[Y]=ht,Dt=Y);else if(at<qt&&0>l(ft,ht))H[Dt]=ft,H[at]=ht,Dt=at;else break t}}return st}function l(H,st){var ht=H.sortIndex-st.sortIndex;return ht!==0?ht:H.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],E=1,A=null,M=3,F=!1,tt=!1,it=!1,et=!1,pt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Ft(H){for(var st=i(y);st!==null;){if(st.callback===null)a(y);else if(st.startTime<=H)a(y),st.sortIndex=st.expirationTime,t(_,st);else break;st=i(y)}}function Bt(H){if(it=!1,Ft(H),!tt)if(i(_)!==null)tt=!0,Ct||(Ct=!0,z());else{var st=i(y);st!==null&&_e(Bt,st.startTime-H)}}var Ct=!1,C=-1,S=5,I=-1;function V(){return et?!0:!(r.unstable_now()-I<S)}function x(){if(et=!1,Ct){var H=r.unstable_now();I=H;var st=!0;try{t:{tt=!1,it&&(it=!1,bt(C),C=-1),F=!0;var ht=M;try{e:{for(Ft(H),A=i(_);A!==null&&!(A.expirationTime>H&&V());){var Dt=A.callback;if(typeof Dt=="function"){A.callback=null,M=A.priorityLevel;var qt=Dt(A.expirationTime<=H);if(H=r.unstable_now(),typeof qt=="function"){A.callback=qt,Ft(H),st=!0;break e}A===i(_)&&a(_),Ft(H)}else a(_);A=i(_)}if(A!==null)st=!0;else{var O=i(y);O!==null&&_e(Bt,O.startTime-H),st=!1}}break t}finally{A=null,M=ht,F=!1}st=void 0}}finally{st?z():Ct=!1}}}var z;if(typeof yt=="function")z=function(){yt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=x,z=function(){ie.postMessage(null)}}else z=function(){pt(x,0)};function _e(H,st){C=pt(function(){H(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var st=3;break;default:st=M}var ht=M;M=st;try{return H()}finally{M=ht}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(H,st){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=M;M=H;try{return st()}finally{M=ht}},r.unstable_scheduleCallback=function(H,st,ht){var Dt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Dt+ht:Dt):ht=Dt,H){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ht+qt,H={id:E++,callback:st,priorityLevel:H,startTime:ht,expirationTime:qt,sortIndex:-1},ht>Dt?(H.sortIndex=ht,t(y,H),i(_)===null&&H===i(y)&&(it?(bt(C),C=-1):it=!0,_e(Bt,ht-Dt))):(H.sortIndex=qt,t(_,H),tt||F||(tt=!0,Ct||(Ct=!0,z()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var st=M;return function(){var ht=M;M=st;try{return H.apply(this,arguments)}finally{M=ht}}}})(qd)),qd}var Y_;function Bb(){return Y_||(Y_=1,Bd.exports=jb()),Bd.exports}var Hd={exports:{}},nn={};var K_;function qb(){if(K_)return nn;K_=1;var r=xm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,E)},nn.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,A=p(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):E==="script"&&a.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=p(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var X_;function Hb(){if(X_)return Hd.exports;X_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=qb(),Hd.exports}var $_;function Gb(){if($_)return El;$_=1;var r=Bb(),t=xm(),i=Hb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case pt:return"Profiler";case et:return"StrictMode";case Bt:return"Suspense";case Ct:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case yt:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var _e=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Dt=[],qt=-1;function O(e){return{current:e}}function Y(e){0>qt||(e.current=Dt[qt],Dt[qt]=null,qt--)}function rt(e,n){qt++,Dt[qt]=e.current,e.current=n}var at=O(null),ft=O(null),St=O(null),J=O(null);function W(e,n){switch(rt(St,n),rt(ft,e),rt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?h_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=h_(n),e=f_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),rt(at,e)}function Z(){Y(at),Y(ft),Y(St)}function Lt(e){e.memoizedState!==null&&rt(J,e);var n=at.current,s=f_(n,e.type);n!==s&&(rt(ft,e),rt(at,s))}function Fe(e){ft.current===e&&(Y(at),Y(ft)),J.current===e&&(Y(J),gl._currentValue=ht)}var we,Zt;function ce(e){if(we===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);we=n&&n[1]||"",Zt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+e+Zt}var Jn=!1;function Vn(e,n){if(!e||Jn)return"";Jn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Jn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ce(s):""}function Pe(e,n){switch(e.tag){case 26:case 27:case 5:return ce(e.type);case 16:return ce("Lazy");case 13:return e.child!==n&&n!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return Vn(e.type,!1);case 11:return Vn(e.type.render,!1);case 1:return Vn(e.type,!0);case 31:return ce("Activity");default:return""}}function Wn(e){try{var n="",s=null;do n+=Pe(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var he=Object.prototype.hasOwnProperty,se=r.unstable_scheduleCallback,fn=r.unstable_cancelCallback,kn=r.unstable_shouldYield,eu=r.unstable_requestPaint,ln=r.unstable_now,vr=r.unstable_getCurrentPriorityLevel,_o=r.unstable_ImmediatePriority,vo=r.unstable_UserBlockingPriority,vs=r.unstable_NormalPriority,jh=r.unstable_LowPriority,nu=r.unstable_IdlePriority,iu=r.log,su=r.unstable_setDisableYieldValue,ti=null,Qe=null;function zn(e){if(typeof iu=="function"&&su(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ti,e)}catch{}}var ve=Math.clz32?Math.clz32:au,ru=Math.log,na=Math.LN2;function au(e){return e>>>=0,e===0?32:31-(ru(e)/na|0)|0}var mi=256,Er=262144,Re=4194304;function gi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=gi(o):(g&=T,g!==0?h=gi(g):s||(s=T&~e,s!==0&&(h=gi(s))))):(T=o&~f,T!==0?h=gi(T):g!==0?h=gi(g):s||(s=o&~e,s!==0&&(h=gi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ei(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function yi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-ve(s),K=1<<G;T[G]=0,R[G]=-1;var j=P[G];if(j!==null)for(P[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~K}o!==0&&br(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function br(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Eo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ve(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function To(e,n){var s=n&-n;return s=(s&42)!==0?1:Ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function Ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:k_(e.type))}function ni(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var ii=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ii,je="__reactProps$"+ii,_i="__reactContainer$"+ii,ia="__reactEvents$"+ii,Hh="__reactListeners$"+ii,uu="__reactHandles$"+ii,cu="__reactResources$"+ii,vi="__reactMarker$"+ii;function sa(e){delete e[Ie],delete e[je],delete e[ia],delete e[Hh],delete e[uu]}function Ei(e){var n=e[Ie];if(n)return n;for(var s=e.parentNode;s;){if(n=s[_i]||s[Ie]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=v_(e);e!==null;){if(s=e[Ie])return s;e=v_(e)}return n}e=s,s=e.parentNode}return null}function Ln(e){if(e=e[Ie]||e[_i]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ti(e){var n=e[cu];return n||(n=e[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(e){e[vi]=!0}var bo=new Set,Ao={};function bi(e,n){Ai(e,n),Ai(e+"Capture",n)}function Ai(e,n){for(Ao[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function hu(e){return he.call(Ro,e)?!0:he.call(wo,e)?!1:So.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function ra(e,n,s){if(hu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function bn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ne(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Es(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Io(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=Es(e)?"checked":"value";e._valueTracker=Io(e,n,""+e[n])}}function Sr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Es(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wr=/[\n"\\]/g;function dn(e){return e.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,Be(n)):s!=null?Co(e,g,Be(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Be(T):e.removeAttribute("name")}function fu(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+Be(s):"",n=n!=null?""+Be(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function Co(e,n,s){n==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ts(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function du(e,n,s){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Be(s):""}function bs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(_e(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Be(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function mn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||mu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function xo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return As.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function si(){}var Do=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,wi=null;function Rr(e){var n=Ln(e);if(n&&(e=n.stateNode)){var s=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Sr(o)}break t;case"textarea":du(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ts(e,!!s.multiple,n,!1)}}}var ua=!1;function ws(e,n,s){if(ua)return e(n,s);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(Ss!==null||wi!==null)&&(lc(),Ss&&(n=Ss,e=wi,wi=Ss=null,Rr(n),e)))for(n=0;n<e.length;n++)Rr(e[n])}}function ri(e,n){var s=e.stateNode;if(s===null)return null;var o=s[je]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Pn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Ir=!1}var Ri=null,Oo=null,Cr=null;function Mo(){if(Cr)return Cr;var e,n=Oo,s=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Cr=h.slice(e,1<o?1-o:void 0)}function Nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function ai(){return!1}function Ye(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:ai,this.isPropagationStopped=ai,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ye(Fi),Rs=A({},Fi,{view:0,detail:0}),Vo=Ye(Rs),Is,ca,Ci,ha=A({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Is=e.screenX-Ci.screenX,ca=e.screenY-Ci.screenY):ca=Is=0,Ci=e),Is)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),ko=Ye(ha),xr=A({},ha,{dataTransfer:0}),pu=Ye(xr),yu=A({},Rs,{relatedTarget:0}),Dr=Ye(yu),zo=A({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Ye(zo),fa=A({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vu=Ye(fa),Eu=A({},Fi,{data:0}),Ni=Ye(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Au[e])?!!n[e]:!1}function Cs(){return Su}var un=A({},Rs,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wu=Ye(un),Ru=A({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ye(Ru),u=A({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=Ye(u),v=A({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ye(v),L=A({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ye(L),nt=A({},Fi,{newState:0,oldState:0}),wt=Ye(nt),Ee=[9,13,27,32],Qt=Pn&&"CompositionEvent"in window,fe=null;Pn&&"documentMode"in document&&(fe=document.documentMode);var jn=Pn&&"TextEvent"in window&&!fe,xi=Pn&&(!Qt||fe&&8<fe&&11>=fe),oi=" ",li=!1;function Or(e,n){switch(e){case"keyup":return Ee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function a1(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:(li=!0,oi);case"textInput":return e=n.data,e===oi&&li?null:e;default:return null}}function o1(e,n){if(ma)return e==="compositionend"||!Qt&&Or(e,n)?(e=Mo(),Cr=Oo=Ri=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xi&&n.locale!=="ko"?null:n.data;default:return null}}var l1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!l1[e.type]:n==="textarea"}function Ag(e,n,s,o){Ss?wi?wi.push(o):wi=[o]:Ss=o,n=gc(n,"onChange"),0<n.length&&(s=new Ii("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Lo=null,Uo=null;function u1(e){r_(e,0)}function Iu(e){var n=Tn(e);if(Sr(n))return e}function Sg(e,n){if(e==="change")return n}var wg=!1;if(Pn){var Gh;if(Pn){var Fh="oninput"in document;if(!Fh){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Fh=typeof Rg.oninput=="function"}Gh=Fh}else Gh=!1;wg=Gh&&(!document.documentMode||9<document.documentMode)}function Ig(){Lo&&(Lo.detachEvent("onpropertychange",Cg),Uo=Lo=null)}function Cg(e){if(e.propertyName==="value"&&Iu(Uo)){var n=[];Ag(n,Uo,e,Un(e)),ws(u1,n)}}function c1(e,n,s){e==="focusin"?(Ig(),Lo=n,Uo=s,Lo.attachEvent("onpropertychange",Cg)):e==="focusout"&&Ig()}function h1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(Uo)}function f1(e,n){if(e==="click")return Iu(n)}function d1(e,n){if(e==="input"||e==="change")return Iu(n)}function m1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:m1;function Po(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!he.call(n,h)||!An(e[h],n[h]))return!1}return!0}function Ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xg(e,n){var s=Ng(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ng(s)}}function Dg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Dg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Si(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Si(e.document)}return n}function Qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var g1=Pn&&"documentMode"in document&&11>=document.documentMode,ga=null,Yh=null,jo=null,Kh=!1;function Mg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Kh||ga==null||ga!==Si(o)||(o=ga,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&Po(jo,o)||(jo=o,o=gc(Yh,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ga)))}function Mr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var pa={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Xh={},Vg={};Pn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Vr(e){if(Xh[e])return Xh[e];if(!pa[e])return e;var n=pa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Vg)return Xh[e]=n[s];return e}var kg=Vr("animationend"),zg=Vr("animationiteration"),Lg=Vr("animationstart"),p1=Vr("transitionrun"),y1=Vr("transitionstart"),_1=Vr("transitioncancel"),Ug=Vr("transitionend"),Pg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function ui(e,n){Pg.set(e,n),bi(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],ya=0,Zh=0;function Nu(){for(var e=ya,n=Zh=ya=0;n<e;){var s=Bn[n];Bn[n++]=null;var o=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&jg(s,h,f)}}function xu(e,n,s,o){Bn[ya++]=e,Bn[ya++]=n,Bn[ya++]=s,Bn[ya++]=o,Zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Jh(e,n,s,o){return xu(e,n,s,o),Du(e)}function kr(e,n){return xu(e,null,null,n),Du(e)}function jg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ve(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Du(e){if(50<ll)throw ll=0,ld=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function v1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,s,o){return new v1(e,n,s,o)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yi(e,n){var s=e.alternate;return s===null?(s=Sn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Bg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Wh(e)&&(g=1);else if(typeof e=="string")g=Sb(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Sn(31,s,n,h),e.elementType=I,e.lanes=f,e;case it:return zr(s.children,h,f,n);case et:g=8,h|=24;break;case pt:return e=Sn(12,s,n,h|2),e.elementType=pt,e.lanes=f,e;case Bt:return e=Sn(13,s,n,h),e.elementType=Bt,e.lanes=f,e;case Ct:return e=Sn(19,s,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:g=10;break t;case bt:g=9;break t;case Ft:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function zr(e,n,s,o){return e=Sn(7,e,o,n),e.lanes=s,e}function tf(e,n,s){return e=Sn(6,e,null,n),e.lanes=s,e}function qg(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function ef(e,n,s){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Hg=new WeakMap;function qn(e,n){if(typeof e=="object"&&e!==null){var s=Hg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Wn(n)},Hg.set(e,n),n)}return{value:e,source:n,stack:Wn(n)}}var va=[],Ea=0,Mu=null,Bo=0,Hn=[],Gn=0,Ns=null,Di=1,Oi="";function Ki(e,n){va[Ea++]=Bo,va[Ea++]=Mu,Mu=e,Bo=n}function Gg(e,n,s){Hn[Gn++]=Di,Hn[Gn++]=Oi,Hn[Gn++]=Ns,Ns=e;var o=Di;e=Oi;var h=32-ve(o)-1;o&=~(1<<h),s+=1;var f=32-ve(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Di=1<<32-ve(n)+h|s<<h|o,Oi=f+e}else Di=1<<f|s<<h|o,Oi=e}function nf(e){e.return!==null&&(Ki(e,1),Gg(e,1,0))}function sf(e){for(;e===Mu;)Mu=va[--Ea],va[Ea]=null,Bo=va[--Ea],va[Ea]=null;for(;e===Ns;)Ns=Hn[--Gn],Hn[Gn]=null,Oi=Hn[--Gn],Hn[Gn]=null,Di=Hn[--Gn],Hn[Gn]=null}function Fg(e,n){Hn[Gn++]=Di,Hn[Gn++]=Oi,Hn[Gn++]=Ns,Di=n.id,Oi=n.overflow,Ns=e}var Ke=null,re=null,Ut=!1,xs=null,Fn=!1,rf=Error(a(519));function Ds(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(qn(n,e)),rf}function Qg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ie]=e,n[je]=o,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<cl.length;s++)xt(cl[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),bs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||u_(n.textContent,s)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||Ds(e,!0)}function Yg(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ke=Ke.return}}function Ta(e){if(e!==Ke)return!1;if(!Ut)return Yg(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ad(e.type,e.memoizedProps)),s=!s),s&&re&&Ds(e),Yg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));re=__(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));re=__(e)}else n===27?(n=re,Fs(e.type)?(e=Cd,Cd=null,re=e):re=n):re=Ke?Yn(e.stateNode.nextSibling):null;return!0}function Lr(){re=Ke=null,Ut=!1}function af(){var e=xs;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),xs=null),e}function qo(e){xs===null?xs=[e]:xs.push(e)}var of=O(null),Ur=null,Xi=null;function Os(e,n,s){rt(of,n._currentValue),n._currentValue=s}function $i(e){e._currentValue=of.current,Y(of)}function lf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function uf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),lf(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),lf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ba(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;An(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===J.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&uf(n,e,s,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pr(e){Ur=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return Kg(Ur,e)}function ku(e,n){return Ur===null&&Pr(e),Kg(e,n)}function Kg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xi===null){if(e===null)throw Error(a(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return s}var E1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},T1=r.unstable_scheduleCallback,b1=r.unstable_NormalPriority,xe={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new E1,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&T1(b1,function(){e.controller.abort()})}var Go=null,hf=0,Aa=0,Sa=null;function A1(e,n){if(Go===null){var s=Go=[];hf=0,Aa=md(),Sa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return hf++,n.then(Xg,Xg),n}function Xg(){if(--hf===0&&Go!==null){Sa!==null&&(Sa.status="fulfilled");var e=Go;Go=null,Aa=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function S1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var $g=H.S;H.S=function(e,n){My=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&A1(e,n),$g!==null&&$g(e,n)};var jr=O(null);function ff(){var e=jr.current;return e!==null?e:ne.pooledCache}function zu(e,n){n===null?rt(jr,jr.current):rt(jr,n.pool)}function Zg(){var e=ff();return e===null?null:{parent:xe._currentValue,pool:e}}var wa=Error(a(460)),df=Error(a(474)),Lu=Error(a(542)),Uu={then:function(){}};function Jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(si,si),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ep(e),e;default:if(typeof n.status=="string")n.then(si,si);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ep(e),e}throw qr=n,wa}}function Br(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(qr=s,wa):s}}var qr=null;function tp(){if(qr===null)throw Error(a(459));var e=qr;return qr=null,e}function ep(e){if(e===wa||e===Lu)throw Error(a(483))}var Ra=null,Fo=0;function Pu(e){var n=Fo;return Fo+=1,Ra===null&&(Ra=[]),Wg(Ra,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function np(e){function n(k,D){if(e){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Yi(k,D),k.index=0,k.sibling=null,k}function f(k,D,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,U,Q){return D===null||D.tag!==6?(D=tf(U,k.mode,Q),D.return=k,D):(D=h(D,U),D.return=k,D)}function R(k,D,U,Q){var dt=U.type;return dt===it?G(k,D,U.props.children,Q,U.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Br(dt)===D.type)?(D=h(D,U.props),Qo(D,U),D.return=k,D):(D=Ou(U.type,U.key,U.props,null,k.mode,Q),Qo(D,U),D.return=k,D)}function P(k,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=ef(U,k.mode,Q),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function G(k,D,U,Q,dt){return D===null||D.tag!==7?(D=zr(U,k.mode,Q,dt),D.return=k,D):(D=h(D,U),D.return=k,D)}function K(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=tf(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return U=Ou(D.type,D.key,D.props,null,k.mode,U),Qo(U,D),U.return=k,U;case tt:return D=ef(D,k.mode,U),D.return=k,D;case S:return D=Br(D),K(k,D,U)}if(_e(D)||z(D))return D=zr(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return K(k,Pu(D),U);if(D.$$typeof===yt)return K(k,ku(k,D),U);ju(k,D)}return null}function j(k,D,U,Q){var dt=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return dt!==null?null:T(k,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return U.key===dt?R(k,D,U,Q):null;case tt:return U.key===dt?P(k,D,U,Q):null;case S:return U=Br(U),j(k,D,U,Q)}if(_e(U)||z(U))return dt!==null?null:G(k,D,U,Q,null);if(typeof U.then=="function")return j(k,D,Pu(U),Q);if(U.$$typeof===yt)return j(k,D,ku(k,U),Q);ju(k,U)}return null}function q(k,D,U,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(U)||null,T(D,k,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?U:Q.key)||null,R(D,k,Q,dt);case tt:return k=k.get(Q.key===null?U:Q.key)||null,P(D,k,Q,dt);case S:return Q=Br(Q),q(k,D,U,Q,dt)}if(_e(Q)||z(Q))return k=k.get(U)||null,G(D,k,Q,dt,null);if(typeof Q.then=="function")return q(k,D,U,Pu(Q),dt);if(Q.$$typeof===yt)return q(k,D,U,ku(D,Q),dt);ju(D,Q)}return null}function lt(k,D,U,Q){for(var dt=null,Ht=null,ct=D,It=D=0,Mt=null;ct!==null&&It<U.length;It++){ct.index>It?(Mt=ct,ct=null):Mt=ct.sibling;var Gt=j(k,ct,U[It],Q);if(Gt===null){ct===null&&(ct=Mt);break}e&&ct&&Gt.alternate===null&&n(k,ct),D=f(Gt,D,It),Ht===null?dt=Gt:Ht.sibling=Gt,Ht=Gt,ct=Mt}if(It===U.length)return s(k,ct),Ut&&Ki(k,It),dt;if(ct===null){for(;It<U.length;It++)ct=K(k,U[It],Q),ct!==null&&(D=f(ct,D,It),Ht===null?dt=ct:Ht.sibling=ct,Ht=ct);return Ut&&Ki(k,It),dt}for(ct=o(ct);It<U.length;It++)Mt=q(ct,k,It,U[It],Q),Mt!==null&&(e&&Mt.alternate!==null&&ct.delete(Mt.key===null?It:Mt.key),D=f(Mt,D,It),Ht===null?dt=Mt:Ht.sibling=Mt,Ht=Mt);return e&&ct.forEach(function($s){return n(k,$s)}),Ut&&Ki(k,It),dt}function _t(k,D,U,Q){if(U==null)throw Error(a(151));for(var dt=null,Ht=null,ct=D,It=D=0,Mt=null,Gt=U.next();ct!==null&&!Gt.done;It++,Gt=U.next()){ct.index>It?(Mt=ct,ct=null):Mt=ct.sibling;var $s=j(k,ct,Gt.value,Q);if($s===null){ct===null&&(ct=Mt);break}e&&ct&&$s.alternate===null&&n(k,ct),D=f($s,D,It),Ht===null?dt=$s:Ht.sibling=$s,Ht=$s,ct=Mt}if(Gt.done)return s(k,ct),Ut&&Ki(k,It),dt;if(ct===null){for(;!Gt.done;It++,Gt=U.next())Gt=K(k,Gt.value,Q),Gt!==null&&(D=f(Gt,D,It),Ht===null?dt=Gt:Ht.sibling=Gt,Ht=Gt);return Ut&&Ki(k,It),dt}for(ct=o(ct);!Gt.done;It++,Gt=U.next())Gt=q(ct,k,It,Gt.value,Q),Gt!==null&&(e&&Gt.alternate!==null&&ct.delete(Gt.key===null?It:Gt.key),D=f(Gt,D,It),Ht===null?dt=Gt:Ht.sibling=Gt,Ht=Gt);return e&&ct.forEach(function(kb){return n(k,kb)}),Ut&&Ki(k,It),dt}function ee(k,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===it&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case F:t:{for(var dt=U.key;D!==null;){if(D.key===dt){if(dt=U.type,dt===it){if(D.tag===7){s(k,D.sibling),Q=h(D,U.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&Br(dt)===D.type){s(k,D.sibling),Q=h(D,U.props),Qo(Q,U),Q.return=k,k=Q;break t}s(k,D);break}else n(k,D);D=D.sibling}U.type===it?(Q=zr(U.props.children,k.mode,Q,U.key),Q.return=k,k=Q):(Q=Ou(U.type,U.key,U.props,null,k.mode,Q),Qo(Q,U),Q.return=k,k=Q)}return g(k);case tt:t:{for(dt=U.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){s(k,D.sibling),Q=h(D,U.children||[]),Q.return=k,k=Q;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Q=ef(U,k.mode,Q),Q.return=k,k=Q}return g(k);case S:return U=Br(U),ee(k,D,U,Q)}if(_e(U))return lt(k,D,U,Q);if(z(U)){if(dt=z(U),typeof dt!="function")throw Error(a(150));return U=dt.call(U),_t(k,D,U,Q)}if(typeof U.then=="function")return ee(k,D,Pu(U),Q);if(U.$$typeof===yt)return ee(k,D,ku(k,U),Q);ju(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,U),Q.return=k,k=Q):(s(k,D),Q=tf(U,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,D)}return function(k,D,U,Q){try{Fo=0;var dt=ee(k,D,U,Q);return Ra=null,dt}catch(ct){if(ct===wa||ct===Lu)throw ct;var Ht=Sn(29,ct,null,k.mode);return Ht.lanes=Q,Ht.return=k,Ht}}}var Hr=np(!0),ip=np(!1),Ms=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ks(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),jg(e,null,s),n}return xu(e,o,n,s),Du(e)}function Yo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}function pf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var yf=!1;function Ko(){if(yf){var e=Sa;if(e!==null)throw e}}function Xo(e,n,s,o){yf=!1;var h=e.updateQueue;Ms=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==g&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,G=P=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Ot&j)===j:(o&j)===j){j!==0&&j===Aa&&(yf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,_t=T;j=n;var ee=s;switch(_t.tag){case 1:if(lt=_t.payload,typeof lt=="function"){K=lt.call(ee,K,j);break t}K=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=_t.payload,j=typeof lt=="function"?lt.call(ee,K,j):lt,j==null)break t;K=A({},K,j);break t;case 2:Ms=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=q,R=K):G=G.next=q,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),js|=g,e.lanes=g,e.memoizedState=K}}function sp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function rp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)sp(s[e],n)}var Ia=O(null),Bu=O(0);function ap(e,n){e=rs,rt(Bu,e),rt(Ia,n),rs=e|n.baseLanes}function _f(){rt(Bu,rs),rt(Ia,Ia.current)}function vf(){rs=Bu.current,Y(Ia),Y(Bu)}var wn=O(null),Qn=null;function zs(e){var n=e.alternate;rt(Te,Te.current&1),rt(wn,e),Qn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(Qn=e)}function Ef(e){rt(Te,Te.current),rt(wn,e),Qn===null&&(Qn=e)}function op(e){e.tag===22?(rt(Te,Te.current),rt(wn,e),Qn===null&&(Qn=e)):Ls()}function Ls(){rt(Te,Te.current),rt(wn,wn.current)}function Rn(e){Y(wn),Qn===e&&(Qn=null),Y(Te)}var Te=O(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Rd(s)||Id(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Rt=null,Wt=null,De=null,Hu=!1,Ca=!1,Gr=!1,Gu=0,$o=0,Na=null,w1=0;function pe(){throw Error(a(321))}function Tf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function bf(e,n,s,o,h,f){return Zi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Gp:Lf,Gr=!1,f=s(o,h),Gr=!1,Ca&&(f=up(n,s,o,h)),lp(e),f}function lp(e){H.H=Wo;var n=Wt!==null&&Wt.next!==null;if(Zi=0,De=Wt=Rt=null,Hu=!1,$o=0,Na=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&Vu(e)&&(Oe=!0))}function up(e,n,s,o){Rt=e;var h=0;do{if(Ca&&(Na=null),$o=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,De=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Fp,f=n(s,o)}while(Ca);return f}function R1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Af(){var e=Gu!==0;return Gu=0,e}function Sf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function wf(e){if(Hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hu=!1}Zi=0,De=Wt=Rt=null,Ca=!1,$o=Gu=0,Na=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Rt.memoizedState=De=e:De=De.next=e,De}function be(){if(Wt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=De===null?Rt.memoizedState:De.next;if(n!==null)De=n,Wt=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},De===null?Rt.memoizedState=De=e:De=De.next=e}return De}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=$o;return $o+=1,Na===null&&(Na=[]),e=Wg(Na,e,n),n=Rt,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Gp:Lf),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===yt)return Xe(e)}throw Error(a(438,String(e)))}function Rf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Fu(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Ji(e,n){return typeof n=="function"?n(e):n}function Yu(e){var n=be();return If(n,Wt,e)}function If(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,G=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Ot&K)===K:(Zi&K)===K){var j=P.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Aa&&(G=!0);else if((Zi&j)===j){P=P.next,j===Aa&&(G=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=K,g=f):R=R.next=K,Rt.lanes|=j,js|=j;K=P.action,Gr&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else j={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=j,g=f):R=R.next=j,Rt.lanes|=K,js|=K;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!An(f,e.memoizedState)&&(Oe=!0,G&&(s=Sa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Cf(e){var n=be(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function cp(e,n,s){var o=Rt,h=be(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!An((Wt||h).memoizedState,s);if(g&&(h.memoizedState=s,Oe=!0),h=h.queue,Df(dp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},fp.bind(null,o,h,s,n),null),ne===null)throw Error(a(349));f||(Zi&127)!==0||hp(o,n,s)}return s}function hp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Fu(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function fp(e,n,s,o){n.value=s,n.getSnapshot=o,mp(n)&&gp(e)}function dp(e,n,s){return s(function(){mp(n)&&gp(e)})}function mp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function gp(e){var n=kr(e,2);n!==null&&vn(n,e,2)}function Nf(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Gr){zn(!0);try{s()}finally{zn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function pp(e,n,s,o){return e.baseState=s,If(e,Wt,typeof o=="function"?o:Ji)}function I1(e,n,s,o,h){if($u(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,yp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function yp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var T=s(h,o),R=H.S;R!==null&&R(g,T),_p(e,n,T)}catch(P){xf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),_p(e,n,f)}catch(P){xf(e,n,P)}}function _p(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){vp(e,n,o)},function(o){return xf(e,n,o)}):vp(e,n,s)}function vp(e,n,s){n.status="fulfilled",n.value=s,Ep(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,yp(e,s)))}function xf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Ep(n),n=n.next;while(n!==o)}e.action=null}function Ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Tp(e,n){return n}function bp(e,n){if(Ut){var s=ne.formState;if(s!==null){t:{var o=Rt;if(Ut){if(re){e:{for(var h=re,f=Fn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){re=Yn(h.nextSibling),o=h.data==="F!";break t}}Ds(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:n},s.queue=o,s=Bp.bind(null,Rt,o),o.dispatch=s,o=Nf(!1),f=zf.bind(null,Rt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=I1.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Ap(e){var n=be();return Sp(n,Wt,e)}function Sp(e,n,s){if(n=If(e,n,Tp)[0],e=Yu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(g){throw g===wa?Lu:g}else o=n;n=be();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,xa(9,{destroy:void 0},C1.bind(null,h,s),null)),[o,f,e]}function C1(e,n){e.action=n}function wp(e){var n=be(),s=Wt;if(s!==null)return Sp(n,s,e);be(),n=n.memoizedState,s=be();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function xa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Fu(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Rp(){return be().memoizedState}function Ku(e,n,s,o){var h=cn();Rt.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Xu(e,n,s,o){var h=be();o=o===void 0?null:o;var f=h.memoizedState.inst;Wt!==null&&o!==null&&Tf(o,Wt.memoizedState.deps)?h.memoizedState=xa(n,f,s,o):(Rt.flags|=e,h.memoizedState=xa(1|n,f,s,o))}function Ip(e,n){Ku(8390656,8,e,n)}function Df(e,n){Xu(2048,8,e,n)}function N1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Fu(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Cp(e){var n=be().memoizedState;return N1({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Np(e,n){return Xu(4,2,e,n)}function xp(e,n){return Xu(4,4,e,n)}function Dp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Op(e,n,s){s=s!=null?s.concat([e]):null,Xu(4,4,Dp.bind(null,n,e),s)}function Of(){}function Mp(e,n){var s=be();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Vp(e,n){var s=be();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=e(),Gr){zn(!0);try{e()}finally{zn(!1)}}return s.memoizedState=[o,n],o}function Mf(e,n,s){return s===void 0||(Zi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=ky(),Rt.lanes|=e,js|=e,s)}function kp(e,n,s,o){return An(s,n)?s:Ia.current!==null?(e=Mf(e,s,o),An(e,n)||(Oe=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(Ot&261930)===0?(Oe=!0,e.memoizedState=s):(e=ky(),Rt.lanes|=e,js|=e,n)}function zp(e,n,s,o,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=H.T,T={};H.T=T,zf(e,!1,n,s);try{var R=h(),P=H.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=S1(R,o);Jo(e,n,G,Nn(e))}else Jo(e,n,o,Nn(e))}catch(K){Jo(e,n,{then:function(){},status:"rejected",reason:K},Nn())}finally{st.p=f,g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}function x1(){}function Vf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Lp(e).queue;zp(e,h,n,ht,s===null?x1:function(){return Up(e),s(o)})}function Lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Up(e){var n=Lp(e);n.next===null&&(n=e.alternate.memoizedState),Jo(e,n.next.queue,{},Nn())}function kf(){return Xe(gl)}function Pp(){return be().memoizedState}function jp(){return be().memoizedState}function D1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Nn();e=Vs(s);var o=ks(n,e,s);o!==null&&(vn(o,n,s),Yo(o,n,s)),n={cache:cf()},e.payload=n;return}n=n.return}}function O1(e,n,s){var o=Nn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(e)?qp(n,s):(s=Jh(e,n,s,o),s!==null&&(vn(s,e,o),Hp(s,n,o)))}function Bp(e,n,s){var o=Nn();Jo(e,n,s,o)}function Jo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(e))qp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,An(T,g))return xu(e,n,h,0),ne===null&&Nu(),!1}catch{}if(s=Jh(e,n,h,o),s!==null)return vn(s,e,o),Hp(s,n,o),!0}return!1}function zf(e,n,s,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(a(479))}else n=Jh(e,s,o,2),n!==null&&vn(n,e,2)}function $u(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function qp(e,n){Ca=Hu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Hp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}var Wo={readContext:Xe,use:Qu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Wo.useEffectEvent=pe;var Gp={readContext:Xe,use:Qu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:Ip,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ku(4194308,4,Dp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(Gr){zn(!0);try{e()}finally{zn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(Gr){zn(!0);try{s(n)}finally{zn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=O1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Nf(e);var n=e.queue,s=Bp.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Of,useDeferredValue:function(e,n){var s=cn();return Mf(s,e,n)},useTransition:function(){var e=Nf(!1);return e=zp.bind(null,Rt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=cn();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ne===null)throw Error(a(349));(Ot&127)!==0||hp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ip(dp.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},fp.bind(null,o,f,s,n),null),s},useId:function(){var e=cn(),n=ne.identifierPrefix;if(Ut){var s=Oi,o=Di;s=(o&~(1<<32-ve(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Gu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=w1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:kf,useFormState:bp,useActionState:bp,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=zf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Rf,useCacheRefresh:function(){return cn().memoizedState=D1.bind(null,Rt)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Lf={readContext:Xe,use:Qu,useCallback:Mp,useContext:Xe,useEffect:Df,useImperativeHandle:Op,useInsertionEffect:Np,useLayoutEffect:xp,useMemo:Vp,useReducer:Yu,useRef:Rp,useState:function(){return Yu(Ji)},useDebugValue:Of,useDeferredValue:function(e,n){var s=be();return kp(s,Wt.memoizedState,e,n)},useTransition:function(){var e=Yu(Ji)[0],n=be().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:kf,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,n){var s=be();return pp(s,Wt,e,n)},useMemoCache:Rf,useCacheRefresh:jp};Lf.useEffectEvent=Cp;var Fp={readContext:Xe,use:Qu,useCallback:Mp,useContext:Xe,useEffect:Df,useImperativeHandle:Op,useInsertionEffect:Np,useLayoutEffect:xp,useMemo:Vp,useReducer:Cf,useRef:Rp,useState:function(){return Cf(Ji)},useDebugValue:Of,useDeferredValue:function(e,n){var s=be();return Wt===null?Mf(s,e,n):kp(s,Wt.memoizedState,e,n)},useTransition:function(){var e=Cf(Ji)[0],n=be().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:kf,useFormState:wp,useActionState:wp,useOptimistic:function(e,n){var s=be();return Wt!==null?pp(s,Wt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:jp};Fp.useEffectEvent=Cp;function Uf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Pf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Nn(),h=Vs(o);h.payload=n,s!=null&&(h.callback=s),n=ks(e,h,o),n!==null&&(vn(n,e,o),Yo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Nn(),h=Vs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ks(e,h,o),n!==null&&(vn(n,e,o),Yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Nn(),o=Vs(s);o.tag=2,n!=null&&(o.callback=n),n=ks(e,o,s),n!==null&&(vn(n,e,s),Yo(n,e,s))}};function Qp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(s,o)||!Po(h,f):!0}function Yp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Pf.enqueueReplaceState(n,n.state,null)}function Fr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Kp(e){Cu(e)}function Xp(e){console.error(e)}function $p(e){Cu(e)}function Zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Zp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,n,s){return s=Vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Zu(e,n)},s}function Jp(e){return e=Vs(e),e.tag=3,e}function Wp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Zp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Zp(n,s,o),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function M1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ba(n,s,h,!0),s=wn.current,s!==null){switch(s.tag){case 31:case 13:return Qn===null?uc():s.alternate===null&&ye===0&&(ye=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),hd(e,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),hd(e,o,h)),!1}throw Error(a(435,s.tag))}return hd(e,o,h),uc(),!1}if(Ut)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(e=Error(a(422),{cause:o}),qo(qn(e,s)))):(o!==rf&&(n=Error(a(423),{cause:o}),qo(qn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=qn(o,s),h=jf(e.stateNode,o,h),pf(e,h),ye!==4&&(ye=2)),!1;var f=Error(a(520),{cause:o});if(f=qn(f,s),ol===null?ol=[f]:ol.push(f),ye!==4&&(ye=2),n===null)return!0;o=qn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=jf(s.stateNode,o,e),pf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Jp(h),Wp(h,e,s,o),pf(s,h),!1}s=s.return}while(s!==null);return!1}var Bf=Error(a(461)),Oe=!1;function $e(e,n,s,o){n.child=e===null?ip(n,null,s,o):Hr(n,e.child,s,o)}function ty(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Pr(n),o=bf(e,n,s,g,f,h),T=Af(),e!==null&&!Oe?(Sf(e,n,h),Wi(e,n,h)):(Ut&&T&&nf(n),n.flags|=1,$e(e,n,o,h),n.child)}function ey(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ny(e,n,f,o,h)):(e=Ou(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Xf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(g,o)&&e.ref===n.ref)return Wi(e,n,h)}return n.flags|=1,e=Yi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ny(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Xf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Wi(e,n,h)}return qf(e,n,s,o,h)}function iy(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return sy(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,f!==null?f.cachePool:null),f!==null?ap(n,f):_f(),op(n);else return o=n.lanes=536870912,sy(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(zu(n,f.cachePool),ap(n,f),Ls(),n.memoizedState=null):(e!==null&&zu(n,null),_f(),Ls());return $e(e,n,h,s),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(e,n,s,o,h){var f=ff();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&zu(n,null),_f(),op(n),e!==null&&ba(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ry(e,n,s){return Hr(n,e.child,null,s),e=Ju(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function V1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,tl(null,e);if(Ef(n),(e=re)?(e=y_(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},s=qg(e),s.return=n,n.child=s,Ke=n,re=null)):e=null,e===null)throw Ds(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=ry(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Oe||ba(e,n,s,!1),h=(s&e.childLanes)!==0,Oe||h){if(o=ne,o!==null&&(g=To(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,kr(e,g),vn(o,e,g),Bf;uc(),n=ry(e,n,s)}else e=f.treeContext,re=Yn(g.nextSibling),Ke=n,Ut=!0,xs=null,Fn=!1,e!==null&&Fg(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=Yi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function qf(e,n,s,o,h){return Pr(n),s=bf(e,n,s,o,void 0,h),o=Af(),e!==null&&!Oe?(Sf(e,n,h),Wi(e,n,h)):(Ut&&o&&nf(n),n.flags|=1,$e(e,n,s,h),n.child)}function ay(e,n,s,o,h,f){return Pr(n),n.updateQueue=null,s=up(n,o,s,h),lp(e),o=Af(),e!==null&&!Oe?(Sf(e,n,f),Wi(e,n,f)):(Ut&&o&&nf(n),n.flags|=1,$e(e,n,s,f),n.child)}function oy(e,n,s,o,h){if(Pr(n),n.stateNode===null){var f=_a,g=s.contextType;typeof g=="object"&&g!==null&&(f=Xe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Xe(g):_a,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Pf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Fr(s,T);f.props=R;var P=f.context,G=s.contextType;g=_a,typeof G=="object"&&G!==null&&(g=Xe(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Yp(n,f,o,g),Ms=!1;var j=n.memoizedState;f.state=j,Xo(n,o,f,h),Ko(),P=n.memoizedState,T||j!==P||Ms?(typeof K=="function"&&(Uf(n,s,K,o),P=n.memoizedState),(R=Ms||Qp(n,s,R,o,j,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(e,n),g=n.memoizedProps,G=Fr(s,g),f.props=G,K=n.pendingProps,j=f.context,P=s.contextType,R=_a,typeof P=="object"&&P!==null&&(R=Xe(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==R)&&Yp(n,f,o,R),Ms=!1,j=n.memoizedState,f.state=j,Xo(n,o,f,h),Ko();var q=n.memoizedState;g!==K||j!==q||Ms||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof T=="function"&&(Uf(n,s,T,o),q=n.memoizedState),(G=Ms||Qp(n,s,G,o,j,q,R)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Hr(n,e.child,null,h),n.child=Hr(n,null,s,h)):$e(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Wi(e,n,h),e}function ly(e,n,s,o){return Lr(),n.flags|=256,$e(e,n,s,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:Zg()}}function Ff(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Cn),e}function uy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?zs(n):Ls(),(e=re)?(e=y_(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},s=qg(e),s.return=n,n.child=s,Ke=n,re=null)):e=null,e===null)throw Ds(n);return Id(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ls(),h=n.mode,T=tc({mode:"hidden",children:T},h),o=zr(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Gf(s),o.childLanes=Ff(e,g,s),n.memoizedState=Hf,tl(null,o)):(zs(n),Qf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=Yf(e,n,s)):n.memoizedState!==null?(Ls(),n.child=e.child,n.flags|=128,n=null):(Ls(),T=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),T=zr(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Hr(n,e.child,null,s),o=n.child,o.memoizedState=Gf(s),o.childLanes=Ff(e,g,s),n.memoizedState=Hf,n=tl(null,o));else if(zs(n),Id(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,qo({value:o,source:null,stack:null}),n=Yf(e,n,s)}else if(Oe||ba(e,n,s,!1),g=(s&e.childLanes)!==0,Oe||g){if(g=ne,g!==null&&(o=To(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,kr(e,o),vn(g,e,o),Bf;Rd(T)||uc(),n=Yf(e,n,s)}else Rd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,re=Yn(T.nextSibling),Ke=n,Ut=!0,xs=null,Fn=!1,e!==null&&Fg(n,e),n=Qf(n,o.children),n.flags|=4096);return n}return h?(Ls(),T=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Yi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=Yi(P,T):(T=zr(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,tl(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Gf(s):(h=T.cachePool,h!==null?(R=xe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Zg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Ff(e,g,s),n.memoizedState=Hf,tl(e.child,o)):(zs(n),s=e.child,e=s.sibling,s=Yi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Qf(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Yf(e,n,s){return Hr(n,e.child,null,s),e=Qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function cy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),lf(e.return,n,s)}function Kf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function hy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Te.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,rt(Te,g),$e(e,n,o,s),o=Ut?Bo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,s,n);else if(e.tag===19)cy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&qu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Kf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Kf(n,!0,s,null,f,o);break;case"together":Kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),js|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ba(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Yi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Yi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function k1(e,n,s){switch(n.tag){case 3:W(n,n.stateNode.containerInfo),Os(n,xe,e.memoizedState.cache),Lr();break;case 27:case 5:Lt(n);break;case 4:W(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?uy(e,n,s):(zs(n),e=Wi(e,n,s),e!==null?e.sibling:null);zs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ba(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return hy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(Te,Te.current),o)break;return null;case 22:return n.lanes=0,iy(e,n,s,n.pendingProps);case 24:Os(n,xe,e.memoizedState.cache)}return Wi(e,n,s)}function fy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Xf(e,s)&&(n.flags&128)===0)return Oe=!1,k1(e,n,s);Oe=(e.flags&131072)!==0}else Oe=!1,Ut&&(n.flags&1048576)!==0&&Gg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Br(n.elementType),n.type=e,typeof e=="function")Wh(e)?(o=Fr(e,o),n.tag=1,n=oy(null,n,e,o,s)):(n.tag=0,n=qf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=ty(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=ey(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return qf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Fr(o,n.pendingProps),oy(e,n,o,h,s);case 3:t:{if(W(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(e,n),Xo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Os(n,xe,o),o!==f.cache&&uf(n,[xe],s,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(e,n,o,s);break t}else if(o!==h){h=qn(Error(a(424)),n),qo(h),n=ly(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,re=Yn(e.firstChild),Ke=n,Ut=!0,xs=null,Fn=!0,s=ip(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Lr(),o===h){n=Wi(e,n,s);break t}$e(e,n,o,s)}n=n.child}return n;case 26:return Wu(e,n),e===null?(s=A_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,o=pc(St.current).createElement(s),o[Ie]=n,o[je]=e,Ze(o,s,e),Ce(o),n.stateNode=o):n.memoizedState=A_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Lt(n),e===null&&Ut&&(o=n.stateNode=E_(n.type,n.pendingProps,St.current),Ke=n,Fn=!0,h=re,Fs(n.type)?(Cd=h,re=Yn(o.firstChild)):re=h),$e(e,n,n.pendingProps.children,s),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=re)&&(o=hb(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,Ke=n,re=Yn(o.firstChild),Fn=!1,h=!0):h=!1),h||Ds(n)),Lt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Ad(h,f)?o=null:g!==null&&Ad(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(e,n,R1,null,null,s),gl._currentValue=h),Wu(e,n),$e(e,n,o,s),n.child;case 6:return e===null&&Ut&&((e=s=re)&&(s=fb(s,n.pendingProps,Fn),s!==null?(n.stateNode=s,Ke=n,re=null,e=!0):e=!1),e||Ds(n)),null;case 13:return uy(e,n,s);case 4:return W(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Hr(n,null,o,s):$e(e,n,o,s),n.child;case 11:return ty(e,n,n.type,n.pendingProps,s);case 7:return $e(e,n,n.pendingProps,s),n.child;case 8:return $e(e,n,n.pendingProps.children,s),n.child;case 12:return $e(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),$e(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Pr(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,s),n.child;case 14:return ey(e,n,n.type,n.pendingProps,s);case 15:return ny(e,n,n.type,n.pendingProps,s);case 19:return hy(e,n,s);case 31:return V1(e,n,s);case 22:return iy(e,n,s,n.pendingProps);case 24:return Pr(n),o=Xe(xe),e===null?(h=ff(),h===null&&(h=ne,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},mf(n),Os(n,xe,h)):((e.lanes&s)!==0&&(gf(e,n),Xo(n,null,null,s),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,xe,o)):(o=f.cache,Os(n,xe,o),o!==h.cache&&uf(n,[xe],s,!0))),$e(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(e){e.flags|=4}function $f(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Py())e.flags|=8192;else throw qr=Uu,df}else e.flags&=-16777217}function dy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!C_(n))if(Py())e.flags|=8192;else throw qr=Uu,df}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ou():536870912,e.lanes|=n,Va|=n)}function el(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function z1(e,n,s){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(xe),Z(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),ae(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ts(n),f!==null?(ae(n),dy(n,f)):(ae(n),$f(n,h,null,o,s))):f?f!==e.memoizedState?(ts(n),ae(n),dy(n,f)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ts(n),ae(n),$f(n,h,e,o,s)),null;case 27:if(Fe(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ae(n),null}e=at.current,Ta(n)?Qg(n):(e=E_(h,o,s),n.stateNode=e,ts(n))}return ae(n),null;case 5:if(Fe(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ae(n),null}if(f=at.current,Ta(n))Qg(n);else{var g=pc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ie]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ze(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ts(n)}}return ae(n),$f(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,Ta(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||u_(e.nodeValue,s)),e||Ds(n,!0)}else e=pc(e).createTextNode(o),e[Ie]=n,n.stateNode=e}return ae(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ie]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else s=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ae(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ie]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ec(n,n.updateQueue),ae(n),null);case 4:return Z(),e===null&&_d(n.stateNode.containerInfo),ae(n),null;case 10:return $i(n.type),ae(n),null;case 19:if(Y(Te),o=n.memoizedState,o===null)return ae(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Bg(s,e),s=s.sibling;return rt(Te,Te.current&1|2),Ut&&Ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>ac&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ae(n),null}else 2*ln()-o.renderingStartTime>ac&&s!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,s=Te.current,rt(Te,h?s&1|2:s&1),Ut&&Ki(n,o.treeForkCount),e):(ae(n),null);case 22:case 23:return Rn(n),vf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),s=n.updateQueue,s!==null&&ec(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(jr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(xe),ae(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function L1(e,n){switch(sf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(xe),Z(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fe(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(a(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Te),null;case 4:return Z(),null;case 10:return $i(n.type),null;case 22:case 23:return Rn(n),vf(),e!==null&&Y(jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $i(xe),null;case 25:return null;default:return null}}function my(e,n){switch(sf(n),n.tag){case 3:$i(xe),Z();break;case 26:case 27:case 5:Fe(n);break;case 4:Z();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:Y(Te);break;case 10:$i(n.type);break;case 22:case 23:Rn(n),vf(),e!==null&&Y(jr);break;case 24:$i(xe)}}function nl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){$t(n,n.return,T)}}function Us(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=s,P=T;try{P()}catch(G){$t(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){$t(n,n.return,G)}}function gy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{rp(n,s)}catch(o){$t(e,e.return,o)}}}function py(e,n,s){s.props=Fr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function il(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function Mi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function yy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Zf(e,n,s){try{var o=e.stateNode;rb(o,e.type,s,n),o[je]=n}catch(h){$t(e,e.return,h)}}function _y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fs(e.type)||e.tag===4}function Jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=si));else if(o!==4&&(o===27&&Fs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Wf(e,n,s),e=e.sibling;e!==null;)Wf(e,n,s),e=e.sibling}function nc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Fs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(nc(e,n,s),e=e.sibling;e!==null;)nc(e,n,s),e=e.sibling}function vy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,o,s),n[Ie]=e,n[je]=s}catch(f){$t(e,e.return,f)}}var es=!1,Me=!1,td=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,qe=null;function U1(e,n){if(e=e.containerInfo,Td=Ac,e=Og(e),Qh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,R=-1,P=0,G=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(T=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++P===h&&(T=g),j===f&&++G===o&&(R=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(bd={focusedElem:e,selectionRange:s},Ac=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=Fr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){$t(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)wd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function Ty(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:is(e,s),o&4&&nl(5,s);break;case 1:if(is(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(s,s.return,g)}else{var h=Fr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(s,s.return,g)}}o&64&&gy(s),o&512&&il(s,s.return);break;case 3:if(is(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{rp(e,n)}catch(g){$t(s,s.return,g)}}break;case 27:n===null&&o&4&&vy(s);case 26:case 5:is(e,s),n===null&&o&4&&yy(s),o&512&&il(s,s.return);break;case 12:is(e,s);break;case 31:is(e,s),o&4&&Sy(e,s);break;case 13:is(e,s),o&4&&wy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Y1.bind(null,s),db(e,s))));break;case 22:if(o=s.memoizedState!==null||es,!o){n=n!==null&&n.memoizedState!==null||Me,h=es;var f=Me;es=o,(Me=n)&&!f?ss(e,s,(s.subtreeFlags&8772)!==0):is(e,s),es=h,Me=f}break;case 30:break;default:is(e,s)}}function by(e){var n=e.alternate;n!==null&&(e.alternate=null,by(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,gn=!1;function ns(e,n,s){for(s=s.child;s!==null;)Ay(e,n,s),s=s.sibling}function Ay(e,n,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ti,s)}catch{}switch(s.tag){case 26:Me||Mi(s,n),ns(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Me||Mi(s,n);var o=de,h=gn;Fs(s.type)&&(de=s.stateNode,gn=!1),ns(e,n,s),fl(s.stateNode),de=o,gn=h;break;case 5:Me||Mi(s,n);case 6:if(o=de,h=gn,de=null,ns(e,n,s),de=o,gn=h,de!==null)if(gn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{de.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:de!==null&&(gn?(e=de,g_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),qa(e)):g_(de,s.stateNode));break;case 4:o=de,h=gn,de=s.stateNode.containerInfo,gn=!0,ns(e,n,s),de=o,gn=h;break;case 0:case 11:case 14:case 15:Us(2,s,n),Me||Us(4,s,n),ns(e,n,s);break;case 1:Me||(Mi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&py(s,n,o)),ns(e,n,s);break;case 21:ns(e,n,s);break;case 22:Me=(o=Me)||s.memoizedState!==null,ns(e,n,s),Me=o;break;default:ns(e,n,s)}}function Sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(s){$t(n,n.return,s)}}}function wy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(s){$t(n,n.return,s)}}function P1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ey),n;default:throw Error(a(435,e.tag))}}function ic(e,n){var s=P1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=K1.bind(null,e,o);o.then(h,h)}})}function pn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Fs(T.type)){de=T.stateNode,gn=!1;break t}break;case 5:de=T.stateNode,gn=!1;break t;case 3:case 4:de=T.stateNode.containerInfo,gn=!0;break t}T=T.return}if(de===null)throw Error(a(160));Ay(f,g,h),de=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ry(n,e),n=n.sibling}var ci=null;function Ry(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(n,e),yn(e),o&4&&(Us(3,e,e.return),nl(3,e),Us(5,e,e.return));break;case 1:pn(n,e),yn(e),o&512&&(Me||s===null||Mi(s,s.return)),o&64&&es&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ci;if(pn(n,e),yn(e),o&512&&(Me||s===null||Mi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,o,s),f[Ie]=e,Ce(f),o=f;break t;case"link":var g=R_("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Ze(f,o,s),h.head.appendChild(f);break;case"meta":if(g=R_("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Ze(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ie]=e,Ce(f),o=f}e.stateNode=o}else I_(h,e.type,e.stateNode);else e.stateNode=w_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?I_(h,e.type,e.stateNode):w_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:pn(n,e),yn(e),o&512&&(Me||s===null||Mi(s,s.return)),s!==null&&o&4&&Zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(pn(n,e),yn(e),o&512&&(Me||s===null||Mi(s,s.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(lt){$t(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(pn(n,e),yn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){$t(e,e.return,lt)}}break;case 3:if(vc=null,h=ci,ci=yc(n.containerInfo),pn(n,e),ci=h,yn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(lt){$t(e,e.return,lt)}td&&(td=!1,Iy(e));break;case 4:o=ci,ci=yc(e.stateNode.containerInfo),pn(n,e),yn(e),ci=o;break;case 12:pn(n,e),yn(e);break;case 31:pn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 13:pn(n,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rc=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=es,G=Me;if(es=P||h,Me=G||R,pn(n,e),Me=G,es=P,yn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||es||Me||Qr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var K=R.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){$t(R,R.return,lt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){$t(R,R.return,lt)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?p_(q,!0):p_(R.stateNode,!1)}catch(lt){$t(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ic(e,s))));break;case 19:pn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 30:break;case 21:break;default:pn(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(_y(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Jf(e);nc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(mn(g,""),s.flags&=-33);var T=Jf(e);nc(e,T,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=Jf(e);Wf(e,P,R);break;default:throw Error(a(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ty(e,n.alternate,n),n=n.sibling}function Qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Us(4,n,n.return),Qr(n);break;case 1:Mi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&py(n,n.return,s),Qr(n);break;case 27:fl(n.stateNode);case 26:case 5:Mi(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}e=e.sibling}}function ss(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,s),nl(4,f);break;case 1:if(ss(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$t(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)sp(R[h],T)}catch(P){$t(o,o.return,P)}}s&&g&64&&gy(f),il(f,f.return);break;case 27:vy(f);case 26:case 5:ss(h,f,s),s&&o===null&&g&4&&yy(f),il(f,f.return);break;case 12:ss(h,f,s);break;case 31:ss(h,f,s),s&&g&4&&Sy(h,f);break;case 13:ss(h,f,s),s&&g&4&&wy(h,f);break;case 22:f.memoizedState===null&&ss(h,f,s),il(f,f.return);break;case 30:break;default:ss(h,f,s)}n=n.sibling}}function ed(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ho(s))}function nd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function hi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(e,n,s,o),n=n.sibling}function Cy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(e,n,s,o),h&2048&&nl(9,n);break;case 1:hi(e,n,s,o);break;case 3:hi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){hi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else hi(e,n,s,o);break;case 31:hi(e,n,s,o);break;case 13:hi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?hi(e,n,s,o):sl(e,n):f._visibility&2?hi(e,n,s,o):(f._visibility|=2,Da(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:hi(e,n,s,o),h&2048&&nd(n.alternate,n);break;default:hi(e,n,s,o)}}function Da(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Da(f,g,T,R,h),nl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Da(f,g,T,R,h):sl(f,g):(G._visibility|=2,Da(f,g,T,R,h)),h&&P&2048&&ed(g.alternate,g);break;case 24:Da(f,g,T,R,h),h&&P&2048&&nd(g.alternate,g);break;default:Da(f,g,T,R,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:sl(s,o),h&2048&&ed(o.alternate,o);break;case 24:sl(s,o),h&2048&&nd(o.alternate,o);break;default:sl(s,o)}n=n.sibling}}var rl=8192;function Oa(e,n,s){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)Ny(e,n,s),e=e.sibling}function Ny(e,n,s){switch(e.tag){case 26:Oa(e,n,s),e.flags&rl&&e.memoizedState!==null&&wb(s,ci,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,s);break;case 3:case 4:var o=ci;ci=yc(e.stateNode.containerInfo),Oa(e,n,s),ci=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Oa(e,n,s),rl=o):Oa(e,n,s));break;default:Oa(e,n,s)}}function xy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,Oy(o,e)}xy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dy(e),e=e.sibling}function Dy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Us(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):al(e);break;default:al(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,Oy(o,e)}xy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Us(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function Oy(e,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Us(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(by(o),o===s){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var j1={getCacheForType:function(e){var n=Xe(xe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Xe(xe).controller.signal}},B1=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,Nt=null,Ot=0,Xt=0,In=null,Ps=!1,Ma=!1,id=!1,rs=0,ye=0,js=0,Yr=0,sd=0,Cn=0,Va=0,ol=null,_n=null,rd=!1,rc=0,My=0,ac=1/0,oc=null,Bs=null,ze=0,qs=null,ka=null,as=0,ad=0,od=null,Vy=null,ll=0,ld=null;function Nn(){return(Yt&2)!==0&&Ot!==0?Ot&-Ot:H.T!==null?md():lu()}function ky(){if(Cn===0)if((Ot&536870912)===0||Ut){var e=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),Cn=e}else Cn=536870912;return e=wn.current,e!==null&&(e.flags|=32),Cn}function vn(e,n,s){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(za(e,0),Hs(e,Ot,Cn,!1)),Tr(e,s),((Yt&2)===0||e!==ne)&&(e===ne&&((Yt&2)===0&&(Yr|=s),ye===4&&Hs(e,Ot,Cn,!1)),Vi(e))}function zy(e,n,s){if((Yt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||ei(e,n),h=o?G1(e,n):cd(e,n,!0),f=o;do{if(h===0){Ma&&!o&&Hs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!q1(s)){h=cd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=ol;var R=T.current.memoizedState.isDehydrated;if(R&&(za(T,g).flags|=256),g=cd(T,g,!1),g!==2){if(id&&!R){T.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break t}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){za(e,0),Hs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Hs(o,n,Cn,!Ps);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-ln(),10<h)){if(Hs(o,n,Cn,!Ps),pi(o,0,!0)!==0)break t;as=n,o.timeoutHandle=d_(Ly.bind(null,o,s,_n,oc,rd,n,Cn,Yr,Va,Ps,f,"Throttled",-0,0),h);break t}Ly(o,s,_n,oc,rd,n,Cn,Yr,Va,Ps,f,null,-0,0)}}break}while(!0);Vi(e)}function Ly(e,n,s,o,h,f,g,T,R,P,G,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},Ny(n,f,K);var lt=(f&62914560)===f?rc-ln():(f&4194048)===f?My-ln():0;if(lt=Rb(K,lt),lt!==null){as=f,e.cancelPendingCommit=lt(Fy.bind(null,e,n,f,s,o,h,g,T,R,G,K,null,j,q)),Hs(e,f,g,!P);return}}Fy(e,n,f,s,o,h,g,T,R)}function q1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hs(e,n,s,o){n&=~sd,n&=~Yr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&br(e,s,n)}function lc(){return(Yt&6)===0?(ul(0),!1):!0}function ud(){if(Nt!==null){if(Xt===0)var e=Nt.return;else e=Nt,Xi=Ur=null,wf(e),Ra=null,Fo=0,e=Nt;for(;e!==null;)my(e.alternate,e),e=e.return;Nt=null}}function za(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,lb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),as=0,ud(),ne=e,Nt=s=Yi(e.current,null),Ot=n,Xt=0,In=null,Ps=!1,Ma=ei(e,n),id=!1,Va=Cn=sd=Yr=js=ye=0,_n=ol=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ve(o),f=1<<h;n|=e[h],o&=~f}return rs=n,Nu(),s}function Uy(e,n){Rt=null,H.H=Wo,n===wa||n===Lu?(n=tp(),Xt=3):n===df?(n=tp(),Xt=4):Xt=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Nt===null&&(ye=1,Zu(e,qn(n,e.current)))}function Py(){var e=wn.current;return e===null?!0:(Ot&4194048)===Ot?Qn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Qn:!1}function jy(){var e=H.H;return H.H=Wo,e===null?Wo:e}function By(){var e=H.A;return H.A=j1,e}function uc(){ye=4,Ps||(Ot&4194048)!==Ot&&wn.current!==null||(Ma=!0),(js&134217727)===0&&(Yr&134217727)===0||ne===null||Hs(ne,Ot,Cn,!1)}function cd(e,n,s){var o=Yt;Yt|=2;var h=jy(),f=By();(ne!==e||Ot!==n)&&(oc=null,za(e,n)),n=!1;var g=ye;t:do try{if(Xt!==0&&Nt!==null){var T=Nt,R=In;switch(Xt){case 8:ud(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var P=Xt;if(Xt=0,In=null,La(e,T,R,P),s&&Ma){g=0;break t}break;default:P=Xt,Xt=0,In=null,La(e,T,R,P)}}H1(),g=ye;break}catch(G){Uy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Xi=Ur=null,Yt=o,H.H=h,H.A=f,Nt===null&&(ne=null,Ot=0,Nu()),g}function H1(){for(;Nt!==null;)qy(Nt)}function G1(e,n){var s=Yt;Yt|=2;var o=jy(),h=By();ne!==e||Ot!==n?(oc=null,ac=ln()+500,za(e,n)):Ma=ei(e,n);t:do try{if(Xt!==0&&Nt!==null){n=Nt;var f=In;e:switch(Xt){case 1:Xt=0,In=null,La(e,n,f,1);break;case 2:case 9:if(Jg(f)){Xt=0,In=null,Hy(n);break}n=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Vi(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Jg(f)?(Xt=0,In=null,Hy(n)):(Xt=0,In=null,La(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var T=Nt;if(g?C_(g):T.stateNode.complete){Xt=0,In=null;var R=T.sibling;if(R!==null)Nt=R;else{var P=T.return;P!==null?(Nt=P,cc(P)):Nt=null}break e}}Xt=0,In=null,La(e,n,f,5);break;case 6:Xt=0,In=null,La(e,n,f,6);break;case 8:ud(),ye=6;break t;default:throw Error(a(462))}}F1();break}catch(G){Uy(e,G)}while(!0);return Xi=Ur=null,H.H=o,H.A=h,Yt=s,Nt!==null?0:(ne=null,Ot=0,Nu(),ye)}function F1(){for(;Nt!==null&&!kn();)qy(Nt)}function qy(e){var n=fy(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?cc(e):Nt=n}function Hy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ay(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=ay(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:wf(n);default:my(s,n),n=Nt=Bg(n,rs),n=fy(s,n,rs)}e.memoizedProps=e.pendingProps,n===null?cc(e):Nt=n}function La(e,n,s,o){Xi=Ur=null,wf(n),Ra=null,Fo=0;var h=n.return;try{if(M1(e,h,n,s,Ot)){ye=1,Zu(e,qn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;ye=1,Zu(e,qn(s,e.current)),Nt=null;return}n.flags&32768?(Ut||o===1?e=!0:Ma||(Ot&536870912)!==0?e=!1:(Ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gy(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){Gy(n,Ps);return}e=n.return;var s=z1(n.alternate,n,rs);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);ye===0&&(ye=5)}function Gy(e,n){do{var s=L1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);ye=6,Nt=null}function Fy(e,n,s,o,h,f,g,T,R){e.cancelPendingCommit=null;do hc();while(ze!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Zh,qh(e,s,f,g,T,R),e===ne&&(Nt=ne=null,Ot=0),ka=n,qs=e,as=s,ad=f,od=h,Vy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,X1(vs,function(){return $y(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=st.p,st.p=2,g=Yt,Yt|=4;try{U1(e,n,s)}finally{Yt=g,st.p=h,H.T=o}}ze=1,Qy(),Yy(),Ky()}}function Qy(){if(ze===1){ze=0;var e=qs,n=ka,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=st.p;st.p=2;var h=Yt;Yt|=4;try{Ry(n,e);var f=bd,g=Og(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Dg(T.ownerDocument.documentElement,T)){if(R!==null&&Qh(T)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var K=T.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=T.textContent.length,_t=Math.min(R.start,lt),ee=R.end===void 0?_t:Math.min(R.end,lt);!q.extend&&_t>ee&&(g=ee,ee=_t,_t=g);var k=xg(T,_t),D=xg(T,ee);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var U=K.createRange();U.setStart(k.node,k.offset),q.removeAllRanges(),_t>ee?(q.addRange(U),q.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),q.addRange(U))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Q=K[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ac=!!Td,bd=Td=null}finally{Yt=h,st.p=o,H.T=s}}e.current=n,ze=2}}function Yy(){if(ze===2){ze=0;var e=qs,n=ka,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=st.p;st.p=2;var h=Yt;Yt|=4;try{Ty(e,n.alternate,n)}finally{Yt=h,st.p=o,H.T=s}}ze=3}}function Ky(){if(ze===4||ze===3){ze=0,eu();var e=qs,n=ka,s=as,o=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,ka=qs=null,Xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Bs=null),Hi(s),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ti,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=st.p,st.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{H.T=n,st.p=h}}(as&3)!==0&&hc(),Vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===ld?ll++:(ll=0,ld=e):ll=0,ul(0)}}function Xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function hc(){return Qy(),Yy(),Ky(),$y()}function $y(){if(ze!==5)return!1;var e=qs,n=ad;ad=0;var s=Hi(as),o=H.T,h=st.p;try{st.p=32>s?32:s,H.T=null,s=od,od=null;var f=qs,g=as;if(ze=0,ka=qs=null,as=0,(Yt&6)!==0)throw Error(a(331));var T=Yt;if(Yt|=4,Dy(f.current),Cy(f,f.current,g,s),Yt=T,ul(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ti,f)}catch{}return!0}finally{st.p=h,H.T=o,Xy(e,n)}}function Zy(e,n,s){n=qn(s,n),n=jf(e.stateNode,n,2),e=ks(e,n,2),e!==null&&(Tr(e,2),Vi(e))}function $t(e,n,s){if(e.tag===3)Zy(e,e,s);else for(;n!==null;){if(n.tag===3){Zy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bs===null||!Bs.has(o))){e=qn(s,e),s=Jp(2),o=ks(n,s,2),o!==null&&(Wp(s,o,n,e),Tr(o,2),Vi(o));break}}n=n.return}}function hd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new B1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(id=!0,h.add(s),e=Q1.bind(null,e,n,s),n.then(e,e))}function Q1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ne===e&&(Ot&s)===s&&(ye===4||ye===3&&(Ot&62914560)===Ot&&300>ln()-rc?(Yt&2)===0&&za(e,0):sd|=s,Va===Ot&&(Va=0)),Vi(e)}function Jy(e,n){n===0&&(n=ou()),e=kr(e,n),e!==null&&(Tr(e,n),Vi(e))}function Y1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Jy(e,s)}function K1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Jy(e,s)}function X1(e,n){return se(e,n)}var fc=null,Ua=null,fd=!1,dc=!1,dd=!1,Gs=0;function Vi(e){e!==Ua&&e.next===null&&(Ua===null?fc=Ua=e:Ua=Ua.next=e),dc=!0,fd||(fd=!0,Z1())}function ul(e,n){if(!dd&&dc){dd=!0;do for(var s=!1,o=fc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,n_(o,f))}else f=Ot,f=pi(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ei(o,f)||(s=!0,n_(o,f));o=o.next}while(s);dd=!1}}function $1(){Wy()}function Wy(){dc=fd=!1;var e=0;Gs!==0&&ob()&&(e=Gs);for(var n=ln(),s=null,o=fc;o!==null;){var h=o.next,f=t_(o,n);f===0?(o.next=null,s===null?fc=h:s.next=h,h===null&&(Ua=s)):(s=o,(e!==0||(f&3)!==0)&&(dc=!0)),o=h}ze!==0&&ze!==5||ul(e),Gs!==0&&(Gs=0)}function t_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ve(f),T=1<<g,R=h[g];R===-1?((T&s)===0||(T&o)!==0)&&(h[g]=Bh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=ne,s=Ot,s=pi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&fn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ei(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&fn(o),Hi(s)){case 2:case 8:s=vo;break;case 32:s=vs;break;case 268435456:s=nu;break;default:s=vs}return o=e_.bind(null,e),s=se(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&fn(o),e.callbackPriority=2,e.callbackNode=null,2}function e_(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(hc()&&e.callbackNode!==s)return null;var o=Ot;return o=pi(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(zy(e,o,n),t_(e,ln()),e.callbackNode!=null&&e.callbackNode===s?e_.bind(null,e):null)}function n_(e,n){if(hc())return null;zy(e,n,!0)}function Z1(){ub(function(){(Yt&6)!==0?se(_o,$1):Wy()})}function md(){if(Gs===0){var e=Aa;e===0&&(e=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Gs=e}return Gs}function i_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function s_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function J1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=i_((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?i_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ii("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gs!==0){var R=g?s_(h,g):new FormData(h);Vf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?s_(h,g):new FormData(h),Vf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var gd=0;gd<$h.length;gd++){var pd=$h[gd],W1=pd.toLowerCase(),tb=pd[0].toUpperCase()+pd.slice(1);ui(W1,"on"+tb)}ui(kg,"onAnimationEnd"),ui(zg,"onAnimationIteration"),ui(Lg,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(p1,"onTransitionRun"),ui(y1,"onTransitionStart"),ui(_1,"onTransitionCancel"),ui(Ug,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function r_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(T=o[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=R}}}}function xt(e,n){var s=n[ia];s===void 0&&(s=n[ia]=new Set);var o=e+"__bubble";s.has(o)||(a_(n,e,2,!1),s.add(o))}function yd(e,n,s){var o=0;n&&(o|=4),a_(s,e,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[mc]){e[mc]=!0,bo.forEach(function(s){s!=="selectionchange"&&(eb.has(s)||yd(s,!1,e),yd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,yd("selectionchange",!1,n))}}function a_(e,n,s,o){switch(k_(n)){case 2:var h=Nb;break;case 8:h=xb;break;default:h=Md}s=h.bind(null,n,s,e),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function vd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ei(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}T=T.parentNode}}o=o.return}ws(function(){var P=f,G=Un(s),K=[];t:{var j=Pg.get(e);if(j!==void 0){var q=Ii,lt=e;switch(e){case"keypress":if(Nr(s)===0)break t;case"keydown":case"keyup":q=wu;break;case"focusin":lt="focus",q=Dr;break;case"focusout":lt="blur",q=Dr;break;case"beforeblur":case"afterblur":q=Dr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case kg:case zg:case Lg:q=_u;break;case Ug:q=b;break;case"scroll":case"scrollend":q=Vo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qi;break;case"toggle":case"beforetoggle":q=wt}var _t=(n&4)!==0,ee=!_t&&(e==="scroll"||e==="scrollend"),k=_t?j!==null?j+"Capture":null:j;_t=[];for(var D=P,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||k===null||(Q=ri(D,k),Q!=null&&_t.push(hl(D,Q,U))),ee)break;D=D.return}0<_t.length&&(j=new q(j,lt,null,s,G),K.push({event:j,listeners:_t}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Do&&(lt=s.relatedTarget||s.fromElement)&&(Ei(lt)||lt[_i]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=s.relatedTarget||s.toElement,q=P,lt=lt?Ei(lt):null,lt!==null&&(ee=c(lt),_t=lt.tag,lt!==ee||_t!==5&&_t!==27&&_t!==6)&&(lt=null)):(q=null,lt=P),q!==lt)){if(_t=ko,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Qi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),ee=q==null?j:Tn(q),U=lt==null?j:Tn(lt),j=new _t(Q,D+"leave",q,s,G),j.target=ee,j.relatedTarget=U,Q=null,Ei(G)===P&&(_t=new _t(k,D+"enter",lt,s,G),_t.target=U,_t.relatedTarget=ee,Q=_t),ee=Q,q&&lt)e:{for(_t=nb,k=q,D=lt,U=0,Q=k;Q;Q=_t(Q))U++;Q=0;for(var dt=D;dt;dt=_t(dt))Q++;for(;0<U-Q;)k=_t(k),U--;for(;0<Q-U;)D=_t(D),Q--;for(;U--;){if(k===D||D!==null&&k===D.alternate){_t=k;break e}k=_t(k),D=_t(D)}_t=null}else _t=null;q!==null&&o_(K,j,q,_t,!1),lt!==null&&ee!==null&&o_(K,ee,lt,_t,!0)}}t:{if(j=P?Tn(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ht=Sg;else if(bg(j))if(wg)Ht=d1;else{Ht=h1;var ct=c1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&oa(P.elementType)&&(Ht=Sg):Ht=f1;if(Ht&&(Ht=Ht(e,P))){Ag(K,Ht,s,G);break t}ct&&ct(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Co(j,"number",j.value)}switch(ct=P?Tn(P):window,e){case"focusin":(bg(ct)||ct.contentEditable==="true")&&(ga=ct,Yh=P,jo=null);break;case"focusout":jo=Yh=ga=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Mg(K,s,G);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":Mg(K,s,G)}var It;if(Qt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ma?Or(e,s)&&(Mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(xi&&s.locale!=="ko"&&(ma||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ma&&(It=Mo()):(Ri=G,Oo="value"in Ri?Ri.value:Ri.textContent,ma=!0)),ct=gc(P,Mt),0<ct.length&&(Mt=new Ni(Mt,e,null,s,G),K.push({event:Mt,listeners:ct}),It?Mt.data=It:(It=da(s),It!==null&&(Mt.data=It)))),(It=jn?a1(e,s):o1(e,s))&&(Mt=gc(P,"onBeforeInput"),0<Mt.length&&(ct=new Ni("onBeforeInput","beforeinput",null,s,G),K.push({event:ct,listeners:Mt}),ct.data=It)),J1(K,e,P,s,G)}r_(K,n)})}function hl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function gc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ri(e,s),h!=null&&o.unshift(hl(e,h,f)),h=ri(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function nb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function o_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=ri(s,f),P!=null&&g.unshift(hl(s,P,R))):h||(P=ri(s,f),P!=null&&g.push(hl(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var ib=/\r\n?/g,sb=/\u0000|\uFFFD/g;function l_(e){return(typeof e=="string"?e:""+e).replace(ib,`
`).replace(sb,"")}function u_(e,n){return n=l_(n),l_(e)===n}function te(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,s,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=si);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ra(e,"popover",o);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gu.get(s)||s,ra(e,s,o))}}function Ed(e,n,s,o,h,f){switch(s){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ra(e,s,o)}}}function Ze(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,g,s,null)}}h&&te(e,n,"srcSet",s.srcSet,s,null),o&&te(e,n,"src",s.src,s,null);return;case"input":xt("invalid",e);var T=f=g=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:te(e,n,o,G,s,null)}}fu(e,f,T,R,P,g,h,!1);return;case"select":xt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:te(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Ts(e,!!o,n,!1):s!=null&&Ts(e,!!o,s,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:te(e,n,g,T,s,null)}bs(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":te(e,n,R,o,s,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)xt(cl[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,P,o,s,null)}return;default:if(oa(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&Ed(e,n,G,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&te(e,n,T,o,s,null))}function rb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(q)||te(e,n,q,null,o,K)}}for(var j in o){var q=o[j];if(K=s[j],o.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&te(e,n,j,q,o,K)}}aa(e,g,T,R,P,G,f,h);return;case"select":q=g=T=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||te(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&te(e,n,h,f,o,R)}n=T,s=g,o=q,j!=null?Ts(e,!!s,j,!1):!!o!=!!s&&(n!=null?Ts(e,!!s,n,!0):Ts(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,g,h,o,f)}du(e,j,q);return;case"option":for(var lt in s)j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:te(e,n,lt,null,o,j));for(R in o)j=o[R],q=s[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":te(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)j=s[_t],s.hasOwnProperty(_t)&&j!=null&&!o.hasOwnProperty(_t)&&te(e,n,_t,null,o,j);for(P in o)if(j=o[P],q=s[P],o.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:te(e,n,P,j,o,q)}return;default:if(oa(n)){for(var ee in s)j=s[ee],s.hasOwnProperty(ee)&&j!==void 0&&!o.hasOwnProperty(ee)&&Ed(e,n,ee,void 0,o,j);for(G in o)j=o[G],q=s[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||Ed(e,n,G,j,o,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&te(e,n,k,null,o,j);for(K in o)j=o[K],q=s[K],!o.hasOwnProperty(K)||j===q||j==null&&q==null||te(e,n,K,j,o,q)}function c_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ab(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&c_(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>T)break;var G=R.transferSize,K=R.initiatorType;G&&c_(K)&&(R=R.responseEnd,g+=G*(R<T?1:(T-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,bd=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function h_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function ob(){var e=window.event;return e&&e.type==="popstate"?e===Sd?!1:(Sd=e,!0):(Sd=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,ub=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(e){return m_.resolve(null).then(e).catch(cb)}:d_;function cb(e){setTimeout(function(){throw e})}function Fs(e){return e==="head"}function g_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")fl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,fl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[vi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&fl(e.ownerDocument.body);s=h}while(s);qa(n)}function p_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function wd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":wd(s),sa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function hb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[vi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function fb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Yn(e.nextSibling),e===null))return null;return e}function y_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function db(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Cd=null;function __(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Yn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function v_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function E_(e,n,s){switch(n=pc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var Kn=new Map,T_=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=st.d;st.d={f:mb,r:gb,D:pb,C:yb,L:_b,m:vb,X:Tb,S:Eb,M:bb};function mb(){var e=os.f(),n=lc();return e||n}function gb(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?Up(n):os.r(e)}var Pa=typeof document>"u"?null:document;function b_(e,n,s){var o=Pa;if(o&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),T_.has(h)||(T_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ze(n,"link",e),Ce(n),o.head.appendChild(n)))}}function pb(e){os.D(e),b_("dns-prefetch",e,null)}function yb(e,n){os.C(e,n),b_("preconnect",e,n)}function _b(e,n,s){os.L(e,n,s);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+dn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+dn(s.imageSizes)+'"]')):h+='[href="'+dn(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=Ba(e)}Kn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Ze(n,"link",e),Ce(n),o.head.appendChild(n)))}}function vb(e,n){os.m(e,n);var s=Pa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!Kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Kn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ml(f)))return}o=s.createElement("link"),Ze(o,"link",e),Ce(o),s.head.appendChild(o)}}}function Eb(e,n,s){os.S(e,n,s);var o=Pa;if(o&&e){var h=Ti(o).hoistableStyles,f=ja(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(dl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Kn.get(f))&&Nd(e,s);var R=g=o.createElement("link");Ce(R),Ze(R,"link",e),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function Tb(e,n){os.X(e,n);var s=Pa;if(s&&e){var o=Ti(s).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=A({src:e,async:!0},n),(n=Kn.get(h))&&xd(e,n),f=s.createElement("script"),Ce(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function bb(e,n){os.M(e,n);var s=Pa;if(s&&e){var o=Ti(s).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&xd(e,n),f=s.createElement("script"),Ce(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function A_(e,n,s,o){var h=(h=St.current)?yc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ja(s.href),s=Ti(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ja(s.href);var f=Ti(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Kn.set(e,s),f||Ab(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(s),s=Ti(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ja(e){return'href="'+dn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function S_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Ab(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ze(n,"link",s),Ce(n),e.head.appendChild(n))}function Ba(e){return'[src="'+dn(e)+'"]'}function ml(e){return"script[async]"+e}function w_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+dn(s.href)+'"]');if(o)return n.instance=o,Ce(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ce(o),Ze(o,"style",h),_c(o,s.precedence,e),n.instance=o;case"stylesheet":h=ja(s.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Ce(f),f;o=S_(s),(h=Kn.get(h))&&Nd(o,h),f=(e.ownerDocument||e).createElement("link"),Ce(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Ze(f,"link",o),n.state.loading|=4,_c(f,s.precedence,e),n.instance=f;case"script":return f=Ba(s.src),(h=e.querySelector(ml(f)))?(n.instance=h,Ce(h),h):(o=s,(h=Kn.get(f))&&(o=A({},s),xd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),Ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,s.precedence,e));return n.instance}function _c(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function R_(e,n,s){if(vc===null){var o=new Map,h=vc=new Map;h.set(s,o)}else h=vc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[vi]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function I_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Sb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function wb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ja(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ce(f);return}f=n.ownerDocument||n,o=S_(o),(h=Kn.get(h))&&Nd(o,h),f=f.createElement("link"),Ce(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Ze(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ec.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Dd=0;function Rb(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Dd===0&&(Dd=62500*ab());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Dd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(Ib,e),Tc=null,Ec.call(e))}function Ib(e,n){if(!(n.state.loading&4)){var s=Tc.get(e);if(s)var o=s.get(null);else{s=new Map,Tc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Cb(e,n,s,o,h,f,g,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function N_(e,n,s,o,h,f,g,T,R,P,G,K){return e=new Cb(e,n,s,g,R,P,G,K,T),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=cf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},mf(f),e}function x_(e){return e?(e=_a,e):_a}function D_(e,n,s,o,h,f){h=x_(h),o.context===null?o.context=h:o.pendingContext=h,o=Vs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ks(e,o,n),s!==null&&(vn(s,e,n),Yo(s,e,n))}function O_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Od(e,n){O_(e,n),(e=e.alternate)&&O_(e,n)}function M_(e){if(e.tag===13||e.tag===31){var n=kr(e,67108864);n!==null&&vn(n,e,67108864),Od(e,67108864)}}function V_(e){if(e.tag===13||e.tag===31){var n=Nn();n=Ar(n);var s=kr(e,n);s!==null&&vn(s,e,n),Od(e,n)}}var Ac=!0;function Nb(e,n,s,o){var h=H.T;H.T=null;var f=st.p;try{st.p=2,Md(e,n,s,o)}finally{st.p=f,H.T=h}}function xb(e,n,s,o){var h=H.T;H.T=null;var f=st.p;try{st.p=8,Md(e,n,s,o)}finally{st.p=f,H.T=h}}function Md(e,n,s,o){if(Ac){var h=Vd(o);if(h===null)vd(e,n,o,Sc,s),z_(e,o);else if(Ob(h,e,n,s,o))o.stopPropagation();else if(z_(e,o),n&4&&-1<Db.indexOf(e)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=gi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-ve(g);T.entanglements[1]|=R,g&=~R}Vi(f),(Yt&6)===0&&(ac=ln()+500,ul(0))}}break;case 31:case 13:T=kr(f,2),T!==null&&vn(T,f,2),lc(),Od(f,2)}if(f=Vd(o),f===null&&vd(e,n,o,Sc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(e,n,o,null,s)}}function Vd(e){return e=Un(e),kd(e)}var Sc=null;function kd(e){if(Sc=null,e=Ei(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function k_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vr()){case _o:return 2;case vo:return 8;case vs:case jh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var zd=!1,Qs=null,Ys=null,Ks=null,pl=new Map,yl=new Map,Xs=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(e,n){switch(e){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&M_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Ob(e,n,s,o,h){switch(n){case"focusin":return Qs=_l(Qs,e,n,s,o,h),!0;case"dragenter":return Ys=_l(Ys,e,n,s,o,h),!0;case"mouseover":return Ks=_l(Ks,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,s,o,h)),!0}return!1}function L_(e){var n=Ei(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ni(e.priority,function(){V_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,ni(e.priority,function(){V_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Vd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Do=o,s.target.dispatchEvent(o),Do=null}else return n=Ln(s),n!==null&&M_(n),e.blockedOn=s,!1;n.shift()}return!0}function U_(e,n,s){wc(e)&&s.delete(n)}function Mb(){zd=!1,Qs!==null&&wc(Qs)&&(Qs=null),Ys!==null&&wc(Ys)&&(Ys=null),Ks!==null&&wc(Ks)&&(Ks=null),pl.forEach(U_),yl.forEach(U_)}function Rc(e,n){e.blockedOn===n&&(e.blockedOn=null,zd||(zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Mb)))}var Ic=null;function P_(e){Ic!==e&&(Ic=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ic===e&&(Ic=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(kd(o||s)===null)continue;break}var f=Ln(s);f!==null&&(e.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function qa(e){function n(R){return Rc(R,e)}Qs!==null&&Rc(Qs,e),Ys!==null&&Rc(Ys,e),Ks!==null&&Rc(Ks,e),pl.forEach(n),yl.forEach(n);for(var s=0;s<Xs.length;s++){var o=Xs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Xs.length&&(s=Xs[0],s.blockedOn===null);)L_(s),s.blockedOn===null&&Xs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[je]||null;if(typeof f=="function")g||P_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)T=g.formAction;else if(kd(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),P_(s)}}}function j_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}Cc.prototype.render=Ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Nn();D_(s,o,e,n,null,null)},Cc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;D_(e.current,2,null,e,null,null),lc(),n[_i]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Xs.length&&n!==0&&n<Xs[s].priority;s++);Xs.splice(s,0,e),s===0&&L_(e)}};var B_=t.version;if(B_!=="19.2.3")throw Error(a(527,B_,"19.2.3"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Vb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{ti=Nc.inject(Vb),Qe=Nc}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Kp,f=Xp,g=$p;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=N_(e,1,!1,null,null,s,o,null,h,f,g,j_),e[_i]=n.current,_d(e),new Ld(n)},El.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Kp,g=Xp,T=$p,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=N_(e,1,!0,n,s??null,o,h,R,f,g,T,j_),n.context=x_(null),s=n.current,o=Nn(),o=Ar(o),h=Vs(o),h.callback=null,ks(s,h,o),s=o,n.current.lanes=s,Tr(n,s),Vi(n),e[_i]=n.current,_d(e),new Cc(n)},El.version="19.2.3",El}var Z_;function Fb(){if(Z_)return jd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=Gb(),jd.exports}var Qb=Fb();const Yb=()=>{};var J_={};const Dv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Kb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(M=64)),a.push(i[E],i[A],i[M],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Dv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Kb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new Xb;const M=c<<2|p>>4;if(a.push(M),y!==64){const F=p<<4&240|y>>2;if(a.push(F),A!==64){const tt=y<<6&192|A;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $b=function(r){const t=Dv(r);return Ov.encodeByteArray(t,!0)},$c=function(r){return $b(r).replace(/\./g,"")},Mv=function(r){try{return Ov.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Jb=()=>Zb().__FIREBASE_DEFAULTS__,Wb=()=>{if(typeof process>"u"||typeof J_>"u")return;const r=J_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Mv(r[1]);return t&&JSON.parse(t)},vh=()=>{try{return Yb()||Jb()||Wb()||tA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Vv=r=>vh()?.emulatorHosts?.[r],eA=r=>{const t=Vv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},kv=()=>vh()?.config,zv=r=>vh()?.[`_${r}`];class nA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(r){return(await fetch(r,{credentials:"include"})).ok}function iA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$c(JSON.stringify(i)),$c(JSON.stringify(d)),""].join(".")}const wl={};function sA(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function rA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let W_=!1;function Uv(r,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||wl[r]===t||wl[r]||W_)return;wl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=sA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{W_=!0,d()},M}function E(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=rA(a),F=i("text"),tt=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),et=document.getElementById(it)||document.createElement("a"),pt=i("preprendIcon"),bt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const yt=M.element;p(yt),E(et,it);const Ft=y();_(bt,pt),yt.append(bt,tt,et,Ft),document.body.appendChild(yt)}c?(tt.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function oA(){const r=vh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hA(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fA(){return!oA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const gA="FirebaseError";class _s extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=gA,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?pA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new _s(l,p,a)}}function pA(r,t){return r.replace(yA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const yA=/\{\$([^}]+)}/g;function _A(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ur(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(t0(c)&&t0(d)){if(!ur(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function t0(r){return r!==null&&typeof r=="object"}function Bl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function vA(r,t){const i=new EA(r,t);return i.subscribe.bind(i)}class EA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");TA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Gd(){}function tn(r){return r&&r._delegate?r._delegate:r}class $r{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Kr="[DEFAULT]";class bA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new nA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SA(t))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kr){return this.instances.has(t)}getOptions(t=Kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Kr){return this.component?this.component.multipleInstances?t:Kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(r){return r===Kr?void 0:r}function SA(r){return r.instantiationMode==="EAGER"}class wA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new bA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const RA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},IA=Vt.INFO,CA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},NA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=CA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dm{constructor(t){this.name=t,this._logLevel=IA,this._logHandler=NA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const xA=(r,t)=>t.some(i=>r instanceof i);let e0,n0;function DA(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OA(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,im=new WeakMap,jv=new WeakMap,Fd=new WeakMap,Om=new WeakMap;function MA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(sr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Pv.set(i,r)}).catch(()=>{}),Om.set(t,r),t}function VA(r){if(im.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});im.set(r,t)}let sm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return im.get(r);if(t==="objectStoreNames")return r.objectStoreNames||jv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function kA(r){sm=r(sm)}function zA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Qd(this),t,...i);return jv.set(a,t.sort?t.sort():[t]),sr(a)}:OA().includes(r)?function(...t){return r.apply(Qd(this),t),sr(Pv.get(this))}:function(...t){return sr(r.apply(Qd(this),t))}}function LA(r){return typeof r=="function"?zA(r):(r instanceof IDBTransaction&&VA(r),xA(r,DA())?new Proxy(r,sm):r)}function sr(r){if(r instanceof IDBRequest)return MA(r);if(Fd.has(r))return Fd.get(r);const t=LA(r);return t!==r&&(Fd.set(r,t),Om.set(t,r)),t}const Qd=r=>Om.get(r);function UA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=sr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(sr(d.result),_.oldVersion,_.newVersion,sr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const PA=["get","getKey","getAll","getAllKeys","count"],jA=["put","add","delete","clear"],Yd=new Map;function i0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Yd.get(t))return Yd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=jA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||PA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Yd.set(t,c),c}kA(r=>({...r,get:(t,i,a)=>i0(t,i)||r.get(t,i,a),has:(t,i)=>!!i0(t,i)||r.has(t,i)}));class BA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function qA(r){return r.getComponent()?.type==="VERSION"}const rm="@firebase/app",s0="0.14.6";const fs=new Dm("@firebase/app"),HA="@firebase/app-compat",GA="@firebase/analytics-compat",FA="@firebase/analytics",QA="@firebase/app-check-compat",YA="@firebase/app-check",KA="@firebase/auth",XA="@firebase/auth-compat",$A="@firebase/database",ZA="@firebase/data-connect",JA="@firebase/database-compat",WA="@firebase/functions",tS="@firebase/functions-compat",eS="@firebase/installations",nS="@firebase/installations-compat",iS="@firebase/messaging",sS="@firebase/messaging-compat",rS="@firebase/performance",aS="@firebase/performance-compat",oS="@firebase/remote-config",lS="@firebase/remote-config-compat",uS="@firebase/storage",cS="@firebase/storage-compat",hS="@firebase/firestore",fS="@firebase/ai",dS="@firebase/firestore-compat",mS="firebase",gS="12.6.0";const am="[DEFAULT]",pS={[rm]:"fire-core",[HA]:"fire-core-compat",[FA]:"fire-analytics",[GA]:"fire-analytics-compat",[YA]:"fire-app-check",[QA]:"fire-app-check-compat",[KA]:"fire-auth",[XA]:"fire-auth-compat",[$A]:"fire-rtdb",[ZA]:"fire-data-connect",[JA]:"fire-rtdb-compat",[WA]:"fire-fn",[tS]:"fire-fn-compat",[eS]:"fire-iid",[nS]:"fire-iid-compat",[iS]:"fire-fcm",[sS]:"fire-fcm-compat",[rS]:"fire-perf",[aS]:"fire-perf-compat",[oS]:"fire-rc",[lS]:"fire-rc-compat",[uS]:"fire-gcs",[cS]:"fire-gcs-compat",[hS]:"fire-fst",[dS]:"fire-fst-compat",[fS]:"fire-vertex","fire-js":"fire-js",[mS]:"fire-js-all"};const Zc=new Map,yS=new Map,om=new Map;function r0(r,t){try{r.container.addComponent(t)}catch(i){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function no(r){const t=r.name;if(om.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,r);for(const i of Zc.values())r0(i,r);for(const i of yS.values())r0(i,r);return!0}function Mm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}const _S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new jl("app","Firebase",_S);class vS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const ho=gS;function Bv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:am,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw rr.create("bad-app-name",{appName:String(l)});if(i||(i=kv()),!i)throw rr.create("no-options");const c=Zc.get(l);if(c){if(ur(i,c.options)&&ur(a,c.config))return c;throw rr.create("duplicate-app",{appName:l})}const d=new wA(l);for(const _ of om.values())d.addComponent(_);const p=new vS(i,a,d);return Zc.set(l,p),p}function qv(r=am){const t=Zc.get(r);if(!t&&r===am&&kv())return Bv();if(!t)throw rr.create("no-app",{appName:r});return t}function ar(r,t,i){let a=pS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(d.join(" "));return}no(new $r(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ES="firebase-heartbeat-database",TS=1,Ol="firebase-heartbeat-store";let Kd=null;function Hv(){return Kd||(Kd=UA(ES,TS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(r=>{throw rr.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function bS(r){try{const i=(await Hv()).transaction(Ol),a=await i.objectStore(Ol).get(Gv(r));return await i.done,a}catch(t){if(t instanceof _s)fs.warn(t.message);else{const i=rr.create("idb-get",{originalErrorMessage:t?.message});fs.warn(i.message)}}}async function a0(r,t){try{const a=(await Hv()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(t,Gv(r)),await a.done}catch(i){if(i instanceof _s)fs.warn(i.message);else{const a=rr.create("idb-set",{originalErrorMessage:i?.message});fs.warn(a.message)}}}function Gv(r){return`${r.name}!${r.options.appId}`}const AS=1024,SS=30;class wS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new IS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=o0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>SS){const l=CS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=o0(),{heartbeatsToSend:i,unsentEntries:a}=RS(this._heartbeatsCache.heartbeats),l=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return fs.warn(t),""}}}function o0(){return new Date().toISOString().substring(0,10)}function RS(r,t=AS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),l0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),l0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class IS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dA()?mA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return a0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return a0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function l0(r){return $c(JSON.stringify({version:2,heartbeats:r})).length}function CS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function NS(r){no(new $r("platform-logger",t=>new BA(t),"PRIVATE")),no(new $r("heartbeat",t=>new wS(t),"PRIVATE")),ar(rm,s0,r),ar(rm,s0,"esm2020"),ar("fire-js","")}NS("");var xS="firebase",DS="12.7.0";ar(xS,DS,"app");function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OS=Fv,Qv=new jl("auth","Firebase",Fv());const Jc=new Dm("@firebase/auth");function MS(r,...t){Jc.logLevel<=Vt.WARN&&Jc.warn(`Auth (${ho}): ${r}`,...t)}function jc(r,...t){Jc.logLevel<=Vt.ERROR&&Jc.error(`Auth (${ho}): ${r}`,...t)}function ds(r,...t){throw Vm(r,...t)}function zi(r,...t){return Vm(r,...t)}function Yv(r,t,i){const a={...OS(),[t]:i};return new jl("auth","Firebase",a).create(t,{appName:r.name})}function cs(r){return Yv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Qv.create(r,...t)}function Et(r,t,...i){if(!r)throw Vm(t,...i)}function ls(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jc(t),new Error(t)}function ms(r,t){r||ls(t)}function lm(){return typeof self<"u"&&self.location?.href||""}function VS(){return u0()==="http:"||u0()==="https:"}function u0(){return typeof self<"u"&&self.location?.protocol||null}function kS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VS()||uA()||"connection"in navigator)?navigator.onLine:!0}function zS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ms(i>t,"Short delay should be less than long delay!"),this.isMobile=aA()||cA()}get(){return kS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function km(r,t){ms(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Kv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const US=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PS=new ql(3e4,6e4);function Hl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function fo(r,t,i,a,l={}){return Xv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return lA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(y.credentials="include"),Kv.fetch()(await $v(r,r.config.apiHost,i,p),y)})}async function Xv(r,t,i){r._canInitEmulator=!1;const a={...LS,...t};try{const l=new jS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Dc(r,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Yv(r,E,y);ds(r,E)}}catch(l){if(l instanceof _s)throw l;ds(r,"network-request-failed",{message:String(l)})}}async function zm(r,t,i,a,l={}){const c=await fo(r,t,i,a,l);return"mfaPendingCredential"in c&&ds(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function $v(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?km(r.config,l):`${r.config.apiScheme}://${l}`;return US.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class jS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),PS.get())})}}function Dc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=zi(r,t,a);return l.customData._tokenResponse=i,l}async function BS(r,t){return fo(r,"POST","/v1/accounts:delete",t)}async function Wc(r,t){return fo(r,"POST","/v1/accounts:lookup",t)}function Rl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qS(r,t=!1){const i=tn(r),a=await i.getIdToken(t),l=Lm(a);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Rl(Xd(l.auth_time)),issuedAtTime:Rl(Xd(l.iat)),expirationTime:Rl(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(r){return Number(r)*1e3}function Lm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Mv(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function c0(r){const t=Lm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ml(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof _s&&HS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function HS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class GS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(r){const t=r.auth,i=await r.getIdToken(),a=await Ml(r,Wc(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Zv(l.providerUserInfo):[],d=QS(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function FS(r){const t=tn(r);await th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QS(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Zv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function YS(r,t){const i=await Xv(r,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await $v(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function KS(r,t){return fo(r,"POST","/v2/accounts:revokeToken",Hl(r,t))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):c0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=c0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await YS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Za;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return ls("not implemented")}}function Zs(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class di{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new GS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return qS(this,t)}reload(){return FS(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new di({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(cs(this.auth));const t=await this.getIdToken();return await Ml(this,BS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:tt,stsTokenManager:it}=i;Et(A&&it,t,"internal-error");const et=Za.fromJSON(this.name,it);Et(typeof A=="string",t,"internal-error"),Zs(a,t.name),Zs(l,t.name),Et(typeof M=="boolean",t,"internal-error"),Et(typeof F=="boolean",t,"internal-error"),Zs(c,t.name),Zs(d,t.name),Zs(p,t.name),Zs(_,t.name),Zs(y,t.name),Zs(E,t.name);const pt=new di({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:y,lastLoginAt:E});return tt&&Array.isArray(tt)&&(pt.providerData=tt.map(bt=>({...bt}))),_&&(pt._redirectEventId=_),pt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Za;l.updateFromServerResponse(i);const c=new di({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await th(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Zv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Za;p.updateFromIdToken(a);const _=new di({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const h0=new Map;function us(r){ms(r instanceof Function,"Expected a class definition");let t=h0.get(r);return t?(ms(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,h0.set(r,t),t)}class Jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Jv.type="NONE";const f0=Jv;function Bc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ja{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Wc(this.auth,{idToken:t}).catch(()=>{});return i?di._fromGetAccountInfoResponse(this.auth,i,t):null}return di._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ja(us(f0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||us(f0);const d=Bc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const E=await y._get(d);if(E){let A;if(typeof E=="string"){const M=await Wc(t,{idToken:E}).catch(()=>{});if(!M)break;A=await di._fromGetAccountInfoResponse(t,M,E)}else A=di._fromJSON(t,E);y!==c&&(p=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ja(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ja(c,t,a))}}function d0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sE(t))return"Blackberry";if(rE(t))return"Webos";if(tE(t))return"Safari";if((t.includes("chrome/")||eE(t))&&!t.includes("edge/"))return"Chrome";if(iE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Wv(r=on()){return/firefox\//i.test(r)}function tE(r=on()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eE(r=on()){return/crios\//i.test(r)}function nE(r=on()){return/iemobile/i.test(r)}function iE(r=on()){return/android/i.test(r)}function sE(r=on()){return/blackberry/i.test(r)}function rE(r=on()){return/webos/i.test(r)}function Um(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function XS(r=on()){return Um(r)&&!!window.navigator?.standalone}function $S(){return hA()&&document.documentMode===10}function aE(r=on()){return Um(r)||iE(r)||rE(r)||sE(r)||/windows phone/i.test(r)||nE(r)}function oE(r,t=[]){let i;switch(r){case"Browser":i=d0(on());break;case"Worker":i=`${d0(on())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${a}`}class ZS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function JS(r,t={}){return fo(r,"GET","/v2/passwordPolicy",Hl(r,t))}const WS=6;class tw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??WS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class ew{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new ZS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Wc(this,{idToken:t}),a=await di._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await th(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(cs(this));const i=t?tn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JS(this),i=new tw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await KS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&us(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&MS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gl(r){return tn(r)}class m0{constructor(t){this.auth=t,this.observer=null,this.addObserver=vA(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nw(r){Pm=r}function iw(r){return Pm.loadJS(r)}function sw(){return Pm.gapiScript}function rw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function aw(r,t){const i=Mm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ur(c,t??{}))return l;ds(l,"already-initialized")}return i.initialize({options:t})}function ow(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(us);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function lw(r,t,i){const a=Gl(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=lE(t),{host:d,port:p}=uw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(ur(y,a.config.emulator)&&ur(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,co(d)?(Lv(`${c}//${d}${_}`),Uv("Auth",!0)):cw()}function lE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function uw(r){const t=lE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:g0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:g0(d)}}}function g0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function cw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class uE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ls("not implemented")}_getIdTokenResponse(t){return ls("not implemented")}_linkToIdToken(t,i){return ls("not implemented")}_getReauthenticationResolver(t){return ls("not implemented")}}async function Wa(r,t){return zm(r,"POST","/v1/accounts:signInWithIdp",Hl(r,t))}const hw="http://localhost";class Zr extends uE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ds("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Zr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Wa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Wa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Wa(t,i)}buildRequest(){const t={requestUri:hw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class cE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fl extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ws extends Fl{constructor(){super("facebook.com")}static credential(t){return Zr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";class tr extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class er extends Fl{constructor(){super("github.com")}static credential(t){return Zr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class nr extends Fl{constructor(){super("twitter.com")}static credential(t,i){return Zr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return nr.credential(i,a)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";async function fw(r,t){return zm(r,"POST","/v1/accounts:signUp",Hl(r,t))}class gs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await di._fromIdTokenResponse(t,a,l),d=p0(a);return new gs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=p0(a);return new gs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function p0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function dw(r){if($n(r.app))return Promise.reject(cs(r));const t=Gl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new gs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await fw(t,{returnSecureToken:!0}),a=await gs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class eh extends _s{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new eh(t,i,a,l)}}function hE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(r,c,t,a):c})}async function mw(r,t,i=!1){const a=await Ml(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return gs._forOperation(r,"link",a)}async function gw(r,t,i=!1){const{auth:a}=r;if($n(a.app))return Promise.reject(cs(a));const l="reauthenticate";try{const c=await Ml(r,hE(a,l,t,r),i);Et(c.idToken,a,"internal-error");const d=Lm(c.idToken);Et(d,a,"internal-error");const{sub:p}=d;return Et(r.uid===p,a,"user-mismatch"),gs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ds(a,"user-mismatch"),c}}async function pw(r,t,i=!1){if($n(r.app))return Promise.reject(cs(r));const a="signIn",l=await hE(r,a,t),c=await gs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function yw(r,t){return zm(r,"POST","/v1/accounts:signInWithCustomToken",Hl(r,t))}async function _w(r,t){if($n(r.app))return Promise.reject(cs(r));const i=Gl(r),a=await yw(i,{token:t,returnSecureToken:!0}),l=await gs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function vw(r,t,i,a){return tn(r).onIdTokenChanged(t,i,a)}function Ew(r,t,i){return tn(r).beforeAuthStateChanged(t,i)}function Tw(r,t,i,a){return tn(r).onAuthStateChanged(t,i,a)}const nh="__sak";class fE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const bw=1e3,Aw=10;class dE extends fE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);$S()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Aw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}dE.type="LOCAL";const Sw=dE;class mE extends fE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}mE.type="SESSION";const gE=mE;function ww(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Eh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await ww(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function jm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class Rw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=jm("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function Iw(r){Li().location.href=r}function pE(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function Cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nw(){return navigator?.serviceWorker?.controller||null}function xw(){return pE()?self:null}const yE="firebaseLocalStorageDb",Dw=1,ih="firebaseLocalStorage",_E="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(r,t){return r.transaction([ih],t?"readwrite":"readonly").objectStore(ih)}function Ow(){const r=indexedDB.deleteDatabase(yE);return new Ql(r).toPromise()}function cm(){const r=indexedDB.open(yE,Dw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ih,{keyPath:_E})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ih)?t(a):(a.close(),await Ow(),t(await cm()))})})}async function y0(r,t,i){const a=Th(r,!0).put({[_E]:t,value:i});return new Ql(a).toPromise()}async function Mw(r,t){const i=Th(r,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function _0(r,t){const i=Th(r,!0).delete(t);return new Ql(i).toPromise()}const Vw=800,kw=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>kw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(xw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Cw(),!this.activeServiceWorker)return;this.sender=new Rw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Nw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await y0(t,nh,"1"),await _0(t,nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Mw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Th(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const zw=vE;new ql(3e4,6e4);function Lw(r,t){return t?us(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Bm extends uE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Wa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Uw(r){return pw(r.auth,new Bm(r),r.bypassAuthState)}function Pw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),gw(i,new Bm(r),r.bypassAuthState)}async function jw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),mw(i,new Bm(r),r.bypassAuthState)}class EE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return jw;case"reauthViaPopup":case"reauthViaRedirect":return Pw;default:ds(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bw=new ql(2e3,1e4);class Xa extends EE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Bw.get())};t()}}Xa.currentPopupAction=null;const qw="pendingRedirect",qc=new Map;class Hw extends EE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const a=await Gw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gw(r,t){const i=Yw(t),a=Qw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Fw(r,t){qc.set(r._key(),t)}function Qw(r){return us(r._redirectPersistence)}function Yw(r){return Bc(qw,r.config.apiKey,r.name)}async function Kw(r,t,i=!1){if($n(r.app))return Promise.reject(cs(r));const a=Gl(r),l=Lw(a,t),d=await new Hw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Xw=600*1e3;class $w{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Zw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!TE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Xw&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(t))}saveEventToCache(t){this.cachedEventUids.add(v0(t)),this.lastProcessedEventTime=Date.now()}}function v0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function TE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Zw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(r);default:return!1}}async function Jw(r,t={}){return fo(r,"GET","/v1/projects",t)}const Ww=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t2=/^https?/;async function e2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Jw(r);for(const i of t)try{if(n2(i))return}catch{}ds(r,"unauthorized-domain")}function n2(r){const t=lm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!t2.test(i))return!1;if(Ww.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const i2=new ql(3e4,6e4);function E0(){const r=Li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function s2(r){return new Promise((t,i)=>{function a(){E0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{E0(),i(zi(r,"network-request-failed"))},timeout:i2.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const l=rw("iframefcb");return Li()[l]=()=>{gapi.load?a():i(zi(r,"network-request-failed"))},iw(`${sw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Hc=null,t})}let Hc=null;function r2(r){return Hc=Hc||s2(r),Hc}const a2=new ql(5e3,15e3),o2="__/auth/iframe",l2="emulator/auth/iframe",u2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h2(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?km(t,l2):`https://${r.config.authDomain}/${o2}`,a={apiKey:t.apiKey,appName:r.name,v:ho},l=c2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function f2(r){const t=await r2(r),i=Li().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:h2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(r,"network-request-failed"),p=Li().setTimeout(()=>{c(d)},a2.get());function _(){Li().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const d2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m2=500,g2=600,p2="_blank",y2="http://localhost";class T0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _2(r,t,i,a=m2,l=g2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...d2,width:a.toString(),height:l.toString(),top:c,left:d},y=on().toLowerCase();i&&(p=eE(y)?p2:i),Wv(y)&&(t=t||y2,_.scrollbars="yes");const E=Object.entries(_).reduce((M,[F,tt])=>`${M}${F}=${tt},`,"");if(XS(y)&&p!=="_self")return v2(t||"",p),new T0(null);const A=window.open(t||"",p,E);Et(A,r,"popup-blocked");try{A.focus()}catch{}return new T0(A)}function v2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const E2="__/auth/handler",T2="emulator/auth/handler",b2=encodeURIComponent("fac");async function b0(r,t,i,a,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ho,eventId:l};if(t instanceof cE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",_A(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(t instanceof Fl){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await r._getAppCheckToken(),y=_?`#${b2}=${encodeURIComponent(_)}`:"";return`${A2(r)}?${Bl(p).slice(1)}${y}`}function A2({config:r}){return r.emulator?km(r,T2):`https://${r.authDomain}/${E2}`}const $d="webStorageSupport";class S2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=Kw,this._overrideRedirectResult=Fw}async _openPopup(t,i,a,l){ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await b0(t,i,a,lm(),l);return _2(t,c,jm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await b0(t,i,a,lm(),l);return Iw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ms(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await f2(t),a=new $w(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send($d,{type:$d},l=>{const c=l?.[0]?.[$d];c!==void 0&&i(!!c),ds(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=e2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return aE()||tE()||Um()}}const w2=S2;var A0="@firebase/auth",S0="1.12.0";class R2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function I2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C2(r){no(new $r("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(r)},y=new ew(a,l,c,_);return ow(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),no(new $r("auth-internal",t=>{const i=Gl(t.getProvider("auth").getImmediate());return(a=>new R2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(A0,S0,I2(r)),ar(A0,S0,"esm2020")}const N2=300,x2=zv("authIdTokenMaxAge")||N2;let w0=null;const D2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>x2)return;const l=i?.token;w0!==l&&(w0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function O2(r=qv()){const t=Mm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=aw(r,{popupRedirectResolver:w2,persistence:[zw,Sw,gE]}),a=zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=D2(c.toString());Ew(i,d,()=>d(i.currentUser)),vw(i,p=>d(p))}}const l=Vv("auth");return l&&lw(i,`http://${l}`),i}function M2(){return document.getElementsByTagName("head")?.[0]??document}nw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=zi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",M2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C2("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,bE;(function(){var r;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,x,z){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return S.prototype[x].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)V[x]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(x=0;x<16;++x)V[x]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],x=C.g[2];let z=C.g[3],w;w=S+(z^I&(x^z))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=z+(x^S&(I^x))+V[1]+3905402710&4294967295,z=S+(w<<12&4294967295|w>>>20),w=x+(I^z&(S^I))+V[2]+606105819&4294967295,x=z+(w<<17&4294967295|w>>>15),w=I+(S^x&(z^S))+V[3]+3250441966&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(z^I&(x^z))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=z+(x^S&(I^x))+V[5]+1200080426&4294967295,z=S+(w<<12&4294967295|w>>>20),w=x+(I^z&(S^I))+V[6]+2821735955&4294967295,x=z+(w<<17&4294967295|w>>>15),w=I+(S^x&(z^S))+V[7]+4249261313&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(z^I&(x^z))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=z+(x^S&(I^x))+V[9]+2336552879&4294967295,z=S+(w<<12&4294967295|w>>>20),w=x+(I^z&(S^I))+V[10]+4294925233&4294967295,x=z+(w<<17&4294967295|w>>>15),w=I+(S^x&(z^S))+V[11]+2304563134&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(z^I&(x^z))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=z+(x^S&(I^x))+V[13]+4254626195&4294967295,z=S+(w<<12&4294967295|w>>>20),w=x+(I^z&(S^I))+V[14]+2792965006&4294967295,x=z+(w<<17&4294967295|w>>>15),w=I+(S^x&(z^S))+V[15]+1236535329&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(x^z&(I^x))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=z+(I^x&(S^I))+V[6]+3225465664&4294967295,z=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(z^S))+V[11]+643717713&4294967295,x=z+(w<<14&4294967295|w>>>18),w=I+(z^S&(x^z))+V[0]+3921069994&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^z&(I^x))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=z+(I^x&(S^I))+V[10]+38016083&4294967295,z=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(z^S))+V[15]+3634488961&4294967295,x=z+(w<<14&4294967295|w>>>18),w=I+(z^S&(x^z))+V[4]+3889429448&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^z&(I^x))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=z+(I^x&(S^I))+V[14]+3275163606&4294967295,z=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(z^S))+V[3]+4107603335&4294967295,x=z+(w<<14&4294967295|w>>>18),w=I+(z^S&(x^z))+V[8]+1163531501&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^z&(I^x))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=z+(I^x&(S^I))+V[2]+4243563512&4294967295,z=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(z^S))+V[7]+1735328473&4294967295,x=z+(w<<14&4294967295|w>>>18),w=I+(z^S&(x^z))+V[12]+2368359562&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(I^x^z)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=z+(S^I^x)+V[8]+2272392833&4294967295,z=S+(w<<11&4294967295|w>>>21),w=x+(z^S^I)+V[11]+1839030562&4294967295,x=z+(w<<16&4294967295|w>>>16),w=I+(x^z^S)+V[14]+4259657740&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^z)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=z+(S^I^x)+V[4]+1272893353&4294967295,z=S+(w<<11&4294967295|w>>>21),w=x+(z^S^I)+V[7]+4139469664&4294967295,x=z+(w<<16&4294967295|w>>>16),w=I+(x^z^S)+V[10]+3200236656&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^z)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=z+(S^I^x)+V[0]+3936430074&4294967295,z=S+(w<<11&4294967295|w>>>21),w=x+(z^S^I)+V[3]+3572445317&4294967295,x=z+(w<<16&4294967295|w>>>16),w=I+(x^z^S)+V[6]+76029189&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^z)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=z+(S^I^x)+V[12]+3873151461&4294967295,z=S+(w<<11&4294967295|w>>>21),w=x+(z^S^I)+V[15]+530742520&4294967295,x=z+(w<<16&4294967295|w>>>16),w=I+(x^z^S)+V[2]+3299628645&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(x^(I|~z))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=z+(I^(S|~x))+V[7]+1126891415&4294967295,z=S+(w<<10&4294967295|w>>>22),w=x+(S^(z|~I))+V[14]+2878612391&4294967295,x=z+(w<<15&4294967295|w>>>17),w=I+(z^(x|~S))+V[5]+4237533241&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~z))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=z+(I^(S|~x))+V[3]+2399980690&4294967295,z=S+(w<<10&4294967295|w>>>22),w=x+(S^(z|~I))+V[10]+4293915773&4294967295,x=z+(w<<15&4294967295|w>>>17),w=I+(z^(x|~S))+V[1]+2240044497&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~z))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=z+(I^(S|~x))+V[15]+4264355552&4294967295,z=S+(w<<10&4294967295|w>>>22),w=x+(S^(z|~I))+V[6]+2734768916&4294967295,x=z+(w<<15&4294967295|w>>>17),w=I+(z^(x|~S))+V[13]+1309151649&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~z))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=z+(I^(S|~x))+V[11]+3174756917&4294967295,z=S+(w<<10&4294967295|w>>>22),w=x+(S^(z|~I))+V[2]+718787259&4294967295,x=z+(w<<15&4294967295|w>>>17),w=I+(z^(x|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+z&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let x=this.h,z=0;for(;z<S;){if(x==0)for(;z<=I;)l(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<S;)if(V[x++]=C.charCodeAt(z++),x==this.blockSize){l(this,V),x=0;break}}else for(;z<S;)if(V[x++]=C[z++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let x=C.length-1;x>=0;x--){const z=C[x]|0;V&&z==S||(I[x]=z,V=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return et(y(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function E(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return et(E(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let V=A;for(let z=0;z<C.length;z+=8){var x=Math.min(8,C.length-z);const w=parseInt(C.substring(z,z+x),S);x<8?(x=y(Math.pow(S,x)),V=V.j(x).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var A=_(0),M=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-et(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(it(this))return"-"+et(this).toString(C);const S=y(Math.pow(C,6));var I=this;let V="";for(;;){const x=Ft(I,S).g;I=pt(I,x.j(S));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,tt(I))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function it(C){return C.h==-1}r.l=function(C){return C=pt(this,C),it(C)?-1:tt(C)?0:1};function et(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}r.abs=function(){return it(this)?et(this):this},r.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let x=0;x<=S;x++){let z=V+(this.i(x)&65535)+(C.i(x)&65535),w=(z>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);V=w>>>16,z&=65535,w&=65535,I[x]=w<<16|z}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pt(C,S){return C.add(et(S))}r.j=function(C){if(tt(this)||tt(C))return A;if(it(this))return it(C)?et(this).j(et(C)):et(et(this).j(C));if(it(C))return et(this.j(et(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<C.g.length;x++){const z=this.i(V)>>>16,w=this.i(V)&65535,ie=C.i(x)>>>16,_e=C.i(x)&65535;I[2*V+2*x]+=w*_e,bt(I,2*V+2*x),I[2*V+2*x+1]+=z*_e,bt(I,2*V+2*x+1),I[2*V+2*x+1]+=w*ie,bt(I,2*V+2*x+1),I[2*V+2*x+2]+=z*ie,bt(I,2*V+2*x+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function bt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function yt(C,S){this.g=C,this.h=S}function Ft(C,S){if(tt(S))throw Error("division by zero");if(tt(C))return new yt(A,A);if(it(C))return S=Ft(et(C),S),new yt(et(S.g),et(S.h));if(it(S))return S=Ft(C,et(S)),new yt(et(S.g),S.h);if(C.g.length>30){if(it(C)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(C)<=0;)I=Bt(I),V=Bt(V);var x=Ct(I,1),z=Ct(V,1);for(V=Ct(V,2),I=Ct(I,2);!tt(V);){var w=z.add(V);w.l(C)<=0&&(x=x.add(I),z=w),V=Ct(V,1),I=Ct(I,1)}return S=pt(C,x.j(S)),new yt(x,S)}for(x=A;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=y(I),w=z.j(S);it(w)||w.l(C)>0;)I-=V,z=y(I),w=z.j(S);tt(z)&&(z=M),x=x.add(z),C=pt(C,w)}return new yt(x,C)}r.B=function(C){return Ft(this,C).h},r.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},r.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},r.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Bt(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Ct(C,S){const I=S>>5;S%=32;const V=C.g.length-I,x=[];for(let z=0;z<V;z++)x[z]=S>0?C.i(z+I)>>>S|C.i(z+I+1)<<32-S:C.i(z+I);return new d(x,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,or=d}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AE,Tl,SE,Gc,hm,wE,RE,IE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return m.prototype[L].apply(b,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let nt=0;nt<B;nt++)u[v+nt]=L[nt]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,v){const b=yt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var yt=new it(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,Ct=!1,C=new bt,S=()=>{const u=Promise.resolve(void 0);Bt=()=>{u.then(I)}};function I(){for(var u;u=pt();){try{u.h.call(u.g)}catch(v){et(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ie,x),ie.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),H=0;function st(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const nt=St(u,m,b,L);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new st(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function ft(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var J="closure_lm_"+(Math.random()*1e6|0),W={};function Z(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Z(u,m[B],v,b,L);return null}return v=Wn(v),u&&u[_e]?u.J(m,v,p(b)?!!b.capture:!1,L):Lt(u,m,v,!1,b,L)}function Lt(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let wt=Vn(u);if(wt||(u[J]=wt=new at(u)),v=wt.add(m,v,b,nt,B),v.proxy)return v;if(b=Fe(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)z||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(ce(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fe(){function u(v){return m.call(u.src,u.listener,v)}const m=Jn;return u}function we(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)we(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=Wn(v),u&&u[_e]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,b,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Vn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,b,L)),(v=u>-1?m[u]:null)&&Zt(v))}function Zt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[_e])ft(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ce(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Vn(m))?(ft(v,u),v.h==0&&(v.src=null,m[J]=null)):ht(u)}}}function ce(u){return u in W?W[u]:W[u]="on"+u}function Jn(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Zt(u),u=v.call(b,m)}return u}function Vn(u){return u=u[J],u instanceof at?u:null}var Pe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wn(u){return typeof u=="function"?u:(u[Pe]||(u[Pe]=function(m){return u.handleEvent(m)}),u[Pe])}function he(){V.call(this),this.i=new at(this),this.M=this,this.G=null}A(he,V),he.prototype[_e]=!0,he.prototype.removeEventListener=function(u,m,v,b){we(this,u,m,v,b)};function se(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(b,u),rt(m,L)}L=!0;let B,nt;if(v)for(nt=v.length-1;nt>=0;nt--)B=m.g=v[nt],L=fn(B,b,!0,m)&&L;if(B=m.g=u,L=fn(B,b,!0,m)&&L,L=fn(B,b,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)B=m.g=v[nt],L=fn(B,b,!1,m)&&L}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ht(v[b]);delete u.g[m],u.h--}}this.G=null},he.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},he.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function fn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const nt=m[B];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,Ee=nt.ha||nt.src;nt.fa&&ft(u.i,nt),L=wt.call(Ee,b)!==!1&&L}}return L&&!b.defaultPrevented}function kn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function eu(u){u.g=kn(()=>{u.g=null,u.i&&(u.i=!1,eu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(u){V.call(this),this.h=u,this.g={}}A(vr,V);var _o=[];function vo(u){Dt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zt(m)},u),u.g={}}vr.prototype.N=function(){vr.Z.N.call(this),vo(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=d.JSON.stringify,jh=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){x.call(this,"d")}A(Qe,x);function zn(){x.call(this,"c")}A(zn,x);var ve={},ru=null;function na(){return ru=ru||new he}ve.Ia="serverreachability";function au(u){x.call(this,ve.Ia,u)}A(au,x);function mi(u){const m=na();se(m,new au(m))}ve.STAT_EVENT="statevent";function Er(u,m){x.call(this,ve.STAT_EVENT,u),this.stat=m}A(Er,x);function Re(u){const m=na();se(m,new Er(m,u))}ve.Ja="timingevent";function gi(u,m){x.call(this,ve.Ja,u),this.size=m}A(gi,x);function pi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Bh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var nt="",wt=B.split("&");for(let Qt=0;Qt<wt.length;Qt++){var Ee=wt[Qt].split("=");if(Ee.length>1){const fe=Ee[0];Ee=Ee[1];const jn=fe.split("_");nt=jn.length>=2&&jn[1]=="type"?nt+(fe+"="+Ee+"&"):nt+(fe+"=redacted&")}}}else nt=null;else nt=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function ou(u,m,v,b,L,B,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+nt})}function yi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,v)+(b?" "+b:"")})}function Tr(u,m){u.info(function(){return"TIMEOUT: "+m})}ei.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<b.length;nt++)b[nt]=""}}}}return vs(B)}catch{return m}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function Ar(){}A(Ar,iu),Ar.prototype.g=function(){return new XMLHttpRequest},To=new Ar;function Hi(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ni(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Ie={},je={};function _i(u,m,v){u.M=1,u.A=Sr(Ne(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),vi(u),u.B=Ne(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),oa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ii,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(_o[0]=L.toString()),L=_o);for(let B=0;B<L.length;B++){const nt=Z(v,L[B],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),mi(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}ni.prototype.ba=function(u){u=u.target;const m=this.O;m&&ai(u)==3?m.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)t:{const wt=ai(this.g),Ee=this.g.ya(),Qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||wt!=4||Ee==7||(Ee==8||Qt<=0?mi(3):mi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break e}}B=null}if(u=B)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,Re(12),Tn(this),Ln(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<v.length;)if(fe=cu(this,v),fe==je){wt==4&&(this.m=4,Re(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Ie){this.m=4,Re(15),yi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,fe,null),Ti(this,fe);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(nt),nt.P=!0,Re(11))}}else yi(this.i,this.l,v,null),Ti(this,v);wt==4&&Tn(this),this.o&&!this.K&&(wt==4?vu(this.j,this):(this.o=!1,vi(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Tn(this),Ln(this)}}}catch{}};function Hh(u){if(!uu(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const b=m.length,L=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?je:(v=Number(m.substring(v,b)),isNaN(v)?Ie:(b+=1,b+v>m.length?je:(m=m.slice(b,b+v),u.C=b+v,m)))}ni.prototype.cancel=function(){this.K=!0,Tn(this)};function vi(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pi(y(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Tr(this.i,this.B),this.M!=2&&(mi(),Re(17)),Tn(this),this.m=2,Ln(this)):sa(this,this.T-u)};function Ln(u){u.j.I==0||u.K||vu(u.j,u)}function Tn(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ti(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),Is(v);else break t;Dr(v),Re(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(y(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&fa(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Qt=L[m];const fe=Qt[0];if(!(fe<=v.K))if(v.K=fe,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const jn=Qt[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const xi=Qt[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const oi=Qt[5];oi!=null&&typeof oi=="number"&&oi>0&&(b=1.5*oi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const li=u.g;if(li){const Or=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var B=b.h;B.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(b.G){const da=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(b.wa=da,Kt(b.J,b.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var nt=u;if(b.na=bu(b,b.L?b.ba:null,b.W),nt.L){wo(b.h,nt);var wt=nt,Ee=b.O;Ee&&(wt.H=Ee),wt.D&&(Ei(wt),vi(wt)),b.g=nt}else yu(b);v.i.length>0&&Ci(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Ni(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ni(v,7):Vo(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}mi(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,Io(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Be(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),Es(this,m[4]),this.h=Si(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(wr(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wr(m,aa,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(wr(v,v.charAt(0)=="/"?Co:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",wr(v,du)),u.join("")},bn.prototype.resolve=function(u){const m=Ne(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Es(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let nt=0;nt<L.length;){const wt=L[nt++];wt=="."?b&&nt==L.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&nt==L.length&&B.push("")):(B.push(wt),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Io(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ne(u){return new bn(u)}function Be(u,m,v){u.j=v?Si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Io(u,m,v){m instanceof bs?(u.i=m,la(u.i,u.l)):(v||(m=wr(m,Ts)),u.i=new bs(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function Sr(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,fu=/[#\?:]/g,Co=/[#\?]/g,Ts=/[#\?@]/g,du=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=bs.prototype,r.add=function(u,m){mn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){mn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return mn(u),m=As(u,m),u.g.has(m)}r.forEach=function(u,m){mn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function xo(u,m){mn(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return mn(this),this.i=null,u=As(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Hi(v);v=xo(this,v);for(let B=0;B<v.length;B++){let nt=L;v[B]!==""&&(nt+="="+Hi(v[B])),u.push(nt)}}return this.i=u.join("&")};function gu(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(mu(this,b),oa(this,L,v))},u)),u.j=m}function si(u,m){const v=new ei;if(d.Image){const b=new Image;b.onload=E(Un,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Un,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Un,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Un,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Do(u,m){const v=new ei,b=new AbortController,L=setTimeout(()=>{b.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ss(){this.g=new nu}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(wi,iu),wi.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(u,m){he.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Rr,he),r=Rr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ri(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ws(this):ri(this),this.readyState==3&&ua(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},r.Na=function(u){this.g&&(this.response=u,ws(this))},r.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ri(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return Dt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Pn(v),typeof u=="string"?v!=null&&Hi(v):Kt(u,m,v))}function Jt(u){he.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Jt,he);var Ri=/^https?$/i,Oo=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Cr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,nt]of v)this.g.setRequestHeader(B,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Cr(this,B)}};function Cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Gi(u)}function Mo(u){u.A||(u.A=!0,se(u,"complete"),se(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,se(this,"complete"),se(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},r.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(se(u,"readystatechange"),ai(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let nt=String(u.D).match(hu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),b=!Ri.test(nt?nt.toLowerCase():"")}v=b}if(v)se(u,"complete"),se(u,"success");else{u.o=6;try{var L=ai(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Mo(u)}}finally{Gi(u)}}}}function Gi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||se(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),jh(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=lu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}qt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Rs(u){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Re(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=bu(this,null,this.W),Ci(this)};function Vo(u){if(ca(u),u.I==3){var m=u.V++,v=Ne(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),xr(u,v),m=new ni(u,u.j,m),m.M=2,m.A=Sr(Ne(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}Tu(u)}function Is(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function ca(u){Is(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;Bt||S(),Ct||(Bt(),Ct=!0),C.add(m,u),u.D=0}}function ha(u,m){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pi(y(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ni(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),rt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=pu(this,L,m),v=Ne(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),xr(this,v),B&&(this.R?m="headers="+Hi(Pn(B))+"&"+m:this.u&&Ir(v,this.u,B)),So(this.h,L),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),L.U=!0,_i(L,v,null)):_i(L,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||Ao(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const b=Ne(u.J);Kt(b,"SID",u.M),Kt(b,"RID",v),Kt(b,"AID",u.K),xr(u,b),u.u&&u.o&&Ir(b,u.u,u.o),v=new ni(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),_i(v,b,m)}function xr(u,m){u.H&&Dt(u.H,function(v,b){Kt(m,b,v)}),u.l&&Dt({},function(v,b){Kt(m,b,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const Ee=["count="+v];wt==-1?v>0?(wt=L[0].g,Ee.push("ofs="+wt)):wt=0:Ee.push("ofs="+wt);let Qt=!0;for(let fe=0;fe<v;fe++){var B=L[fe].g;const jn=L[fe].map;if(B-=wt,B<0)wt=Math.max(0,L[fe].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var nt=jn instanceof Map?jn:Object.entries(jn);for(const[xi,oi]of nt){let li=oi;p(oi)&&(li=vs(oi)),Ee.push(B+xi+"="+encodeURIComponent(li))}}catch(xi){throw Ee.push(B+"type="+encodeURIComponent("_badmap")),xi}}catch{b&&b(jn)}}if(Qt){nt=Ee.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Bt||S(),Ct||(Bt(),Ct=!0),C.add(m,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pi(y(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Is(this),_u(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),xr(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Sr(Ne(m)),v.u=null,v.R=!0,ia(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Is(this),Dr(this),Re(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){fa(u),zo(u),u.g=null;var b=2}else if(Ai(u.h,m))v=m.G,wo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=na(),se(b,new gi(b,v)),Ci(u)}else yu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ha(u,m)||b==2&&Dr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(b,"https"),Sr(b),L?si(b.toString(),v):Do(b.toString(),v)}else Re(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var b=v instanceof bn?Ne(v):new bn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Es(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new bn(null);b&&Be(B,b),m&&(B.g=m),L&&Es(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Kt(b,v,m),Kt(b,"VER",u.ka),xr(u,b),b}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new wi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){he.call(this),this.g=new Rs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}A(un,he),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Vo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=vs(u),u=v);m.i.push(new Ce(m.Ya++,u)),m.I==3&&Ci(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,un.Z.N.call(this)};function wu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(wu,Qe);function Ru(){zn.call(this),this.status=1}A(Ru,zn);function Qi(u){this.g=u}A(Qi,Su),Qi.prototype.ra=function(){se(this.g,"a")},Qi.prototype.qa=function(u){se(this.g,new wu(u))},Qi.prototype.pa=function(u){se(this.g,new Ru)},Qi.prototype.oa=function(){se(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,IE=function(){return new Cs},RE=function(){return na()},wE=ve,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Gc=br,Eo.COMPLETE="complete",SE=Eo,su.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",he.prototype.listen=he.prototype.J,Tl=su,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,AE=Jt}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const I0="@firebase/firestore",C0="4.9.3";let rn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let mo="12.7.0";const Jr=new Dm("@firebase/firestore");function Fa(){return Jr.logLevel}function ot(r,...t){if(Jr.logLevel<=Vt.DEBUG){const i=t.map(qm);Jr.debug(`Firestore (${mo}): ${r}`,...i)}}function ps(r,...t){if(Jr.logLevel<=Vt.ERROR){const i=t.map(qm);Jr.error(`Firestore (${mo}): ${r}`,...i)}}function io(r,...t){if(Jr.logLevel<=Vt.WARN){const i=t.map(qm);Jr.warn(`Firestore (${mo}): ${r}`,...i)}}function qm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,CE(r,a,i)}function CE(r,t,i){let a=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ps(a),new Error(a)}function jt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||CE(t,l,a)}function Tt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends _s{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class NE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class V2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class k2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class z2{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new hs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new hs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new NE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class L2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new L2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function j2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Hm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=j2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function kt(r,t){return r<t?-1:r>t?1:0}function fm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Zd(l)===Zd(c)?kt(l,c):Zd(l)?1:-1}return kt(r.length,t.length)}const B2=55296,q2=57343;function Zd(r){const t=r.charCodeAt(0);return t>=B2&&t<=q2}function so(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const x0="__name__";class ki{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=ki.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=ki.isNumericId(t),l=ki.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ki.extractNumericId(t).compare(ki.extractNumericId(i)):fm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class le extends ki{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const H2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends ki{construct(t,i,a){return new We(t,i,a)}static isValidIdentifier(t){return H2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new We([x0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(le.fromString(t))}static fromName(t){return new gt(le.fromString(t).popFirst(5))}static empty(){return new gt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new le(t.slice()))}}function G2(r,t,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function F2(r,t,i,a){if(t===!0&&a===!0)throw new ut($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function D0(r){if(!gt.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Gm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function Zn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Gm(r);throw new ut($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function ke(r,t){const i={typeString:r};return t&&(i.value=t),i}function Yl(r,t){if(!xE(r))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}const O0=-62135596800,M0=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*M0);return new ue(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<O0)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M0}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yl(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-O0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:ke("string",ue._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ue(0,0))}static max(){return new vt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function Q2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new cr(l,gt.empty(),t)}function Y2(r){return new cr(r.readTime,r.key,Vl)}class cr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new cr(vt.min(),gt.empty(),Vl)}static max(){return new cr(vt.max(),gt.empty(),Vl)}}function K2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:kt(r.largestBatchId,t.largestBatchId))}const X2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==X2)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((E=>{d[y]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Z2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(r){return r.name==="IndexedDbTransactionError"}class bh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bh.ce=-1;const Fm=-1;function Kl(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function J2(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const DE="";function W2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=V0(t)),t=tR(r.get(i),t);return V0(t)}function tR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case DE:i+="";break;default:i+=c}}return i}function V0(r){return r+DE+""}function k0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function yr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function OE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Je.RED,this.left=l??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Je(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Je.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(t){return new z0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class z0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new On([])}unionWith(t){let i=new Ue(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new On(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class ME extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ME("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const eR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const i=eR.exec(r);if(jt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fr(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const VE="server_timestamp",kE="__type__",zE="__previous_value__",LE="__local_write_time__";function Qm(r){return(r?.mapValue?.fields||{})[kE]?.stringValue===VE}function Ah(r){const t=r.mapValue.fields[zE];return Qm(t)?Ah(t):t}function kl(r){const t=hr(r.mapValue.fields[LE].timestampValue);return new ue(t.seconds,t.nanos)}class nR{constructor(t,i,a,l,c,d,p,_,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const rh="(default)";class zl{constructor(t,i){this.projectId=t,this.database=i||rh}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}const UE="__type__",iR="__max__",Vc={mapValue:{}},PE="__vector__",ah="value";function dr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qm(r)?4:rR(r)?9007199254740991:sR(r)?10:11:mt(28295,{value:r})}function Bi(r,t){if(r===t)return!0;const i=dr(r);if(i!==dr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return kl(r).isEqual(kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=hr(l.timestampValue),p=hr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return fr(l.bytesValue).isEqual(fr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),p=Ae(c.doubleValue);return d===p?sh(d)===sh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return so(r.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(k0(d)!==k0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Bi(d[_],p[_])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function Ll(r,t){return(r.values||[]).find((i=>Bi(i,t)))!==void 0}function ro(r,t){if(r===t)return 0;const i=dr(r),a=dr(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ae(c.integerValue||c.doubleValue),_=Ae(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return L0(r.timestampValue,t.timestampValue);case 4:return L0(kl(r),kl(t));case 5:return fm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=fr(c),_=fr(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const E=kt(p[y],_[y]);if(E!==0)return E}return kt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(Ae(c.latitude),Ae(d.latitude));return p!==0?p:kt(Ae(c.longitude),Ae(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return U0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[ah]?.arrayValue,E=_[ah]?.arrayValue,A=kt(y?.values?.length||0,E?.values?.length||0);return A!==0?A:U0(y,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Vc.mapValue&&d===Vc.mapValue)return 0;if(c===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let A=0;A<_.length&&A<E.length;++A){const M=fm(_[A],E[A]);if(M!==0)return M;const F=ro(p[_[A]],y[E[A]]);if(F!==0)return F}return kt(_.length,E.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function L0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const i=hr(r),a=hr(t),l=kt(i.seconds,a.seconds);return l!==0?l:kt(i.nanos,a.nanos)}function U0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ro(i[l],a[l]);if(c)return c}return kt(i.length,a.length)}function ao(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=hr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return fr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=dm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${dm(i.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function Fc(r){switch(dr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(r);return t?16+Fc(t):16;case 5:return 2*r.stringValue.length;case 6:return fr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Fc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return yr(a.fields,((c,d)=>{l+=c.length+Fc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function mm(r){return!!r&&"integerValue"in r}function Ym(r){return!!r&&"arrayValue"in r}function P0(r){return!!r&&"nullValue"in r}function j0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function sR(r){return(r?.mapValue?.fields||{})[UE]?.stringValue===PE}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return yr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(r.arrayValue.values[i]);return t}return{...r}}function rR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iR}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Qc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=We.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Il(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){yr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(Il(this.value))}}function jE(r){const t=[];return yr(r.fields,((i,a)=>{const l=new We([i]);if(Qc(a)){const c=jE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new On(t)}class Ge{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ge(t,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ge(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Ge(t,2,i,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ge(t,3,i,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(t,i){this.position=t,this.inclusive=i}}function B0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=ro(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function q0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Bi(r.position[i],t.position[i]))return!1;return!0}class lh{constructor(t,i="asc"){this.field=t,this.dir=i}}function aR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class BE{}class Le extends BE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new lR(t,i,a):i==="array-contains"?new hR(t,a):i==="in"?new fR(t,a):i==="not-in"?new dR(t,a):i==="array-contains-any"?new mR(t,a):new Le(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new uR(t,a):new cR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ro(i,this.value)):i!==null&&dr(this.value)===dr(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends BE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new qi(t,i)}matches(t){return qE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qE(r){return r.op==="and"}function HE(r){return oR(r)&&qE(r)}function oR(r){for(const t of r.filters)if(t instanceof qi)return!1;return!0}function gm(r){if(r instanceof Le)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(HE(r))return r.filters.map((t=>gm(t))).join(",");{const t=r.filters.map((i=>gm(i))).join(",");return`${r.op}(${t})`}}function GE(r,t){return r instanceof Le?(function(a,l){return l instanceof Le&&a.op===l.op&&a.field.isEqual(l.field)&&Bi(a.value,l.value)})(r,t):r instanceof qi?(function(a,l){return l instanceof qi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&GE(d,l.filters[p])),!0):!1})(r,t):void mt(19439)}function FE(r){return r instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${ao(i.value)}`})(r):r instanceof qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(FE).join(" ,")+"}"})(r):"Filter"}class lR extends Le{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class uR extends Le{constructor(t,i){super(t,"in",i),this.keys=QE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class cR extends Le{constructor(t,i){super(t,"not-in",i),this.keys=QE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function QE(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class hR extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ym(i)&&Ll(i.arrayValue,this.value)}}class fR extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class dR extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class mR extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ll(this.value.arrayValue,a)))}}class gR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function H0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new gR(r,t,i,a,l,c,d)}function Km(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>gm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Kl(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ao(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ao(a))).join(",")),t.Te=i}return t.Te}function Xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!aR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!GE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!q0(r.startAt,t.startAt)&&q0(r.endAt,t.endAt)}function pm(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Sh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pR(r,t,i,a,l,c,d,p){return new Sh(r,t,i,a,l,c,d,p)}function wh(r){return new Sh(r)}function G0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yR(r){return r.collectionGroup!==null}function Cl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ue(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new lh(c,a))})),i.has(We.keyField().canonicalString())||t.Ie.push(new lh(We.keyField(),a))}return t.Ie}function Ui(r){const t=Tt(r);return t.Ee||(t.Ee=_R(t,Cl(r))),t.Ee}function _R(r,t){if(r.limitType==="F")return H0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new lh(l.field,c)}));const i=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return H0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function ym(r,t,i){return new Sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Rh(r,t){return Xm(Ui(r),Ui(t))&&r.limitType===t.limitType}function YE(r){return`${Km(Ui(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>FE(l))).join(", ")}]`),Kl(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ao(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ao(l))).join(",")),`Target(${a})`})(Ui(r))}; limitType=${r.limitType})`}function Ih(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Cl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=B0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Cl(a),l)||a.endAt&&!(function(d,p,_){const y=B0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Cl(a),l))})(r,t)}function vR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function KE(r){return(t,i)=>{let a=!1;for(const l of Cl(r)){const c=ER(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function ER(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?ro(_,y):mt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:r.dir})}}class ta{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){yr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}const TR=new me(gt.comparator);function ys(){return TR}const XE=new me(gt.comparator);function bl(...r){let t=XE;for(const i of r)t=t.insert(i.key,i);return t}function $E(r){let t=XE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Xr(){return Nl()}function ZE(){return Nl()}function Nl(){return new ta((r=>r.toString()),((r,t)=>r.isEqual(t)))}const bR=new me(gt.comparator),AR=new Ue(gt.comparator);function zt(...r){let t=AR;for(const i of r)t=t.add(i);return t}const SR=new Ue(kt);function wR(){return SR}function $m(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function JE(r){return{integerValue:""+r}}function RR(r,t){return J2(t)?JE(t):$m(r,t)}class Ch{constructor(){this._=void 0}}function IR(r,t,i){return r instanceof uh?(function(l,c){const d={fields:{[kE]:{stringValue:VE},[LE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Qm(c)&&(c=Ah(c)),c&&(d.fields[zE]=c),{mapValue:d}})(i,t):r instanceof oo?tT(r,t):r instanceof Ul?eT(r,t):(function(l,c){const d=WE(l,c),p=F0(d)+F0(l.Ae);return mm(d)&&mm(l.Ae)?JE(p):$m(l.serializer,p)})(r,t)}function CR(r,t,i){return r instanceof oo?tT(r,t):r instanceof Ul?eT(r,t):i}function WE(r,t){return r instanceof ch?(function(a){return mm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class uh extends Ch{}class oo extends Ch{constructor(t){super(),this.elements=t}}function tT(r,t){const i=nT(t);for(const a of r.elements)i.some((l=>Bi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends Ch{constructor(t){super(),this.elements=t}}function eT(r,t){let i=nT(t);for(const a of r.elements)i=i.filter((l=>!Bi(l,a)));return{arrayValue:{values:i}}}class ch extends Ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function F0(r){return Ae(r.integerValue||r.doubleValue)}function nT(r){return Ym(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class NR{constructor(t,i){this.field=t,this.transform=i}}function xR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof oo&&l instanceof oo||a instanceof Ul&&l instanceof Ul?so(a.elements,l.elements,Bi):a instanceof ch&&l instanceof ch?Bi(a.Ae,l.Ae):a instanceof uh&&l instanceof uh})(r.transform,t.transform)}class DR{constructor(t,i){this.version=t,this.transformResults=i}}class an{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new an}static exists(t){return new an(void 0,t)}static updateTime(t){return new an(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Nh{}function iT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new xh(r.key,an.none()):new Xl(r.key,r.data,an.none());{const i=r.data,a=hn.empty();let l=new Ue(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new _r(r.key,a,new On(l.toArray()),an.none())}}function OR(r,t,i){r instanceof Xl?(function(l,c,d){const p=l.value.clone(),_=Y0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof _r?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Y0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(sT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function xl(r,t,i,a){return r instanceof Xl?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const y=c.value.clone(),E=K0(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof _r?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const y=K0(c.fieldTransforms,_,d),E=d.data;return E.setAll(sT(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function MR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=WE(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function Q0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&so(a,l,((c,d)=>xR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Xl extends Nh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _r extends Nh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Y0(r,t,i){const a=new Map;jt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,CR(d,p,i[l]))}return a}function K0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,IR(c,d,t))}return a}class xh extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rT extends Nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&OR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=xl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=xl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=ZE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=iT(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((i,a)=>Q0(i,a)))&&so(this.baseMutations,t.baseMutations,((i,a)=>Q0(i,a)))}}class Zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){jt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return bR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Zm(t,i,a,l)}}class kR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ve,Pt;function aT(r){switch(r){case $.OK:return mt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function oT(r){if(r===void 0)return ps("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ve.OK:return $.OK;case Ve.CANCELLED:return $.CANCELLED;case Ve.UNKNOWN:return $.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return $.INTERNAL;case Ve.UNAVAILABLE:return $.UNAVAILABLE;case Ve.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ve.NOT_FOUND:return $.NOT_FOUND;case Ve.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ve.ABORTED:return $.ABORTED;case Ve.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ve.DATA_LOSS:return $.DATA_LOSS;default:return mt(39323,{code:r})}}(Pt=Ve||(Ve={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function LR(){return new TextEncoder}const UR=new or([4294967295,4294967295],0);function X0(r){const t=LR().encode(r),i=new bE;return i.update(t),new Uint8Array(i.digest())}function $0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new or([i,a],0),new or([l,c],0)]}class Jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(a<0)throw new Al(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=or.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(or.fromNumber(a)));return l.compare(UR)===1&&(l=new or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=X0(t),[a,l]=$0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Jm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=X0(t),[a,l]=$0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Dh(vt.min(),l,new me(kt),ys(),zt())}}class $l{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new $l(a,i,zt(),zt(),zt())}}class Kc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class lT{constructor(t,i){this.targetId=t,this.Ce=i}}class uT{constructor(t,i,a=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Z0{constructor(){this.ve=0,this.Fe=J0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new $l(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=J0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ys(),this.Je=kc(),this.He=kc(),this.Ye=new me(kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(a===0){const d=new gt(c.path);this.et(i,d,Ge.newNoDocument(d,vt.min()))}else jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=fr(a).toUint8Array()}catch(_){if(_ instanceof ME)return io("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Jm(d,l,c)}catch(_){return io(_ instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&pm(p.target)){const _=new gt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ge.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Dh(t,i,this.Ye,this.je,a);return this.je=ys(),this.Je=kc(),this.He=kc(),this.Ye=new me(kt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Z0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ue(kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ue(kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Z0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function kc(){return new me(gt.comparator)}function J0(){return new me(gt.comparator)}const jR={asc:"ASCENDING",desc:"DESCENDING"},BR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qR={and:"AND",or:"OR"};class HR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function _m(r,t){return r.useProto3Json||Kl(t)?t:{value:t}}function hh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function GR(r,t){return hh(r,t.toTimestamp())}function Mn(r){return jt(!!r,49232),vt.fromTimestamp((function(i){const a=hr(i);return new ue(a.seconds,a.nanos)})(r))}function Wm(r,t){return vm(r,t).canonicalString()}function vm(r,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function hT(r){const t=le.fromString(r);return jt(yT(t),10190,{key:t.toString()}),t}function fh(r,t){return Wm(r.databaseId,t.path)}function Dl(r,t){const i=hT(t);if(i.get(1)!==r.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(dT(i))}function fT(r,t){return Wm(r.databaseId,t)}function FR(r){const t=hT(r);return t.length===4?le.emptyPath():dT(t)}function Em(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dT(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function W0(r,t,i){return{name:fh(r,t),fields:i.value.mapValue.fields}}function QR(r,t){return"found"in t?(function(a,l){jt(!!l.found,43571),l.found.name,l.found.updateTime;const c=Dl(a,l.found.name),d=Mn(l.found.updateTime),p=l.found.createTime?Mn(l.found.createTime):vt.min(),_=new hn({mapValue:{fields:l.found.fields}});return Ge.newFoundDocument(c,d,p,_)})(r,t):"missing"in t?(function(a,l){jt(!!l.missing,3894),jt(!!l.readTime,22933);const c=Dl(a,l.missing),d=Mn(l.readTime);return Ge.newNoDocument(c,d)})(r,t):mt(7234,{result:t})}function YR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(jt(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?$.UNKNOWN:oT(y.code);return new ut(E,y.message||"")})(d);i=new uT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Dl(r,a.document.name),c=Mn(a.document.updateTime),d=a.document.createTime?Mn(a.document.createTime):vt.min(),p=new hn({mapValue:{fields:a.document.fields}}),_=Ge.newFoundDocument(l,c,d,p),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Kc(y,E,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Dl(r,a.document),c=a.readTime?Mn(a.readTime):vt.min(),d=Ge.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Dl(r,a.document),c=a.removedTargetIds||[];i=new Kc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new zR(l,c),p=a.targetId;i=new lT(p,d)}}return i}function mT(r,t){let i;if(t instanceof Xl)i={update:W0(r,t.key,t.value)};else if(t instanceof xh)i={delete:fh(r,t.key)};else if(t instanceof _r)i={update:W0(r,t.key,t.data),updateMask:nI(t.fieldMask)};else{if(!(t instanceof rT))return mt(16599,{Vt:t.type});i={verify:fh(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:GR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),i}function KR(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Mn(l.updateTime):Mn(c);return d.isEqual(vt.min())&&(d=Mn(c)),new DR(d,l.transformResults||[])})(i,t)))):[]}function XR(r,t){return{documents:[fT(r,t.path)]}}function $R(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=fT(r,l);const c=(function(y){if(y.length!==0)return pT(qi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:Ya(M.field),direction:WR(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=_m(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function ZR(r){let t=FR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){jt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=gT(A);return M instanceof qi&&HE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(tt){return new lh(Ka(tt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,Kl(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,F=A.values||[];return new oh(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,F=A.values||[];return new oh(F,M)})(i.endAt)),pR(t,l,d,c,p,"F",_,y)}function JR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ka(i.unaryFilter.field);return Le.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Le.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return qi.create(i.compositeFilter.filters.map((a=>gT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function WR(r){return jR[r]}function tI(r){return BR[r]}function eI(r){return qR[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Ka(r){return We.fromServerFormat(r.fieldPath)}function pT(r){return r instanceof Le?(function(i){if(i.op==="=="){if(j0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(P0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(j0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(P0(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:tI(i.op),value:i.value}}})(r):r instanceof qi?(function(i){const a=i.getFilters().map((l=>pT(l)));return a.length===1?a[0]:{compositeFilter:{op:eI(i.op),filters:a}}})(r):mt(54877,{filter:r})}function nI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function yT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ir{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=en.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class iI{constructor(t){this.yt=t}}function sI(r){const t=ZR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(t,t.limit,"L"):t}class rI{constructor(){this.Cn=new aI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(cr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class aI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ue(le.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ue(le.comparator)).toArray()}}const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(_T,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class lo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new lo(0)}static cr(){return new lo(-1)}}const ev="LruGarbageCollector",oI=1048576;function nv([r,t],[i,a]){const l=kt(r,i);return l===0?kt(t,a):l}class lI{constructor(t){this.Ir=t,this.buffer=new Ue(nv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();nv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(ev,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?ot(ev,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Vr(3e5)}))}}class cI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(bh.ce);const a=new lI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(tv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Fa()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function hI(r,t){return new cI(r,t)}class fI{constructor(){this.changes=new ta((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class mI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&xl(a.mutation,l,On.empty(),ue.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=Xr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=bl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Xr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ys();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((_,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof _r)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),xl(E.mutation,y,E.mutation.getFieldMask(),ue.now())):d.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new dI(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new me(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||On.empty();E=p.applyToLocalView(y,E),a.set(_,E);const A=(l.get(p.batchId)||zt()).add(_);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,E=_.value,A=ZE();E.forEach((M=>{if(!c.has(M)){const F=iT(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):yR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Xr());let p=Vl,_=c;return d.next((y=>X.forEach(y,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{_=_.insert(E,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,zt()))).next((E=>({batchId:p,changes:$E(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=bl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(A,M){return new Sh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ge.newInvalidDocument(E)))}));let p=bl();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&xl(E.mutation,y,On.empty(),ue.now()),Ih(i,y)&&(p=p.insert(_,y))})),p}))}}class gI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mn(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:sI(l.bundledQuery),readTime:Mn(l.readTime)}})(i)),X.resolve()}}class pI{constructor(){this.overlays=new me(gt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Xr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Xr(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new me(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=Xr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Xr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new kR(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class yI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class tg{constructor(){this.Qr=new Ue(He.$r),this.Ur=new Ue(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new le([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new le([])),a=new He(i,t),l=new He(i,t+1);let c=zt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||kt(t.Yr,i.Yr)}static Kr(t,i){return kt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class _I{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(He.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Fm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ue(kt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new He(new gt(c),0);let p=new Ue(kt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class vI{constructor(t){this.ri=t,this.docs=(function(){return new me(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(t,i){let a=ys();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ge.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ys();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||K2(Y2(E),a)<=0||(l.has(E.key)||Ih(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new EI(this)}getSize(t){return X.resolve(this.size)}}class EI extends fI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class TI{constructor(t){this.persistence=t,this.si=new ta((i=>Km(i)),Xm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new tg,this.targetCount=0,this.ai=lo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new lo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class vT{constructor(t,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new yI,this.referenceDelegate=t(this),this.Pi=new TI(this),this.indexManager=new rI,this.remoteDocumentCache=(function(l){return new vI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new iI(i),this.Ii=new gI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new pI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new _I(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new bI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class bI extends $2{constructor(t){super(),this.currentSequenceNumber=t}}class eg{constructor(t){this.persistence=t,this.Ri=new tg,this.Vi=null}static mi(t){return new eg(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class dh{constructor(t,i){this.persistence=t,this.pi=new ta((a=>W2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=hI(this,i)}static mi(t,i){return new dh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Fc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ng{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ng(t,i.fromCache,a,l)}}class AI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class SI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fA()?8:Z2(on())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new AI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Fa()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Fa()<=Vt.DEBUG&&ot("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Fa()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(i))):X.resolve())}ys(t,i){if(G0(i))return X.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,ym(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return G0(i)||l.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Fa()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(t,d,i,Q2(l,Vl)).next((p=>p)))}))}Ds(t,i){let a=new Ue(KE(t));return i.forEach(((l,c)=>{Ih(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Fa()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(t,i,cr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ig="LocalStore",wI=3e8;class RI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new me(kt),this.xs=new ta((c=>Km(c)),Xm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function II(r,t,i,a){return new RI(r,t,i,a)}async function ET(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=zt();for(const y of l){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function CI(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,E){const A=y.batch,M=A.keys();let F=X.resolve();return M.forEach((tt=>{F=F.next((()=>E.getEntry(_,tt))).next((it=>{const et=y.docVersions.get(tt);jt(et!==null,48541),it.version.compareTo(et)<0&&(A.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),E.addEntry(it)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=zt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function TT(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function NI(r,t){const i=Tt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((E,A)=>{const M=l.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(en.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,a)),l=l.insert(A,F),(function(it,et,pt){return it.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=wI?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(M,F,E)&&p.push(i.Pi.updateTargetData(c,F))}));let _=ys(),y=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(xI(c,d,t.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!a.isEqual(vt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function xI(r,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ys();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ot(ig,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function DI(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Fm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function OI(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ir(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Tm(r,t,i){const a=Tt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;ot(ig,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function iv(r,t,i){const a=Tt(r);let l=vt.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const A=Tt(_),M=A.xs.get(E);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(y,E)})(a,d,Ui(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:zt()))).next((p=>(MI(a,vR(t),p),{documents:p,Qs:c})))))}function MI(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class sv{constructor(){this.activeTargetIds=wR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VI{constructor(){this.Mo=new sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new sv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class kI{Oo(t){}shutdown(){}}const rv="ConnectivityMonitor";class av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(rv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(rv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zc=null;function bm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}const Jd="RestConnection",zI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=bm(),p=this.zo(t,i.toUriEncodedString());ot(Jd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),E=co(y);return this.Jo(t,p,_,a,E).then((A=>(ot(Jd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw io(Jd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=zI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class UI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class PI extends LI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=bm();return new Promise(((p,_)=>{const y=new AE;y.setWithCredentials(!0),y.listenOnce(SE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const A=y.getResponseJson();ot(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Gc.TIMEOUT:ot(sn,`RPC '${t}' ${d} timed out`),_(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const M=y.getStatus();if(ot(sn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const tt=F?.error;if(tt&&tt.status&&tt.message){const it=(function(pt){const bt=pt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(bt)>=0?bt:$.UNKNOWN})(tt.status);_(new ut(it,tt.message))}else _(new ut($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ut($.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(sn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);ot(sn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=bm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=IE(),p=RE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");ot(sn,`Creating RPC '${t}' stream ${l}: ${E}`,_);const A=d.createWebChannel(E,_);this.I_(A);let M=!1,F=!1;const tt=new UI({Yo:et=>{F?ot(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(M||(ot(sn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),ot(sn,`RPC '${t}' stream ${l} sending:`,et),A.send(et))},Zo:()=>A.close()}),it=(et,pt,bt)=>{et.listen(pt,(yt=>{try{bt(yt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return it(A,Tl.EventType.OPEN,(()=>{F||(ot(sn,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),it(A,Tl.EventType.CLOSE,(()=>{F||(F=!0,ot(sn,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(A))})),it(A,Tl.EventType.ERROR,(et=>{F||(F=!0,io(sn,`RPC '${t}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),tt.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),it(A,Tl.EventType.MESSAGE,(et=>{if(!F){const pt=et.data[0];jt(!!pt,16349);const bt=pt,yt=bt?.error||bt[0]?.error;if(yt){ot(sn,`RPC '${t}' stream ${l} received error:`,yt);const Ft=yt.status;let Bt=(function(S){const I=Ve[S];if(I!==void 0)return oT(I)})(Ft),Ct=yt.message;Bt===void 0&&(Bt=$.INTERNAL,Ct="Unknown error status: "+Ft+" with message "+yt.message),F=!0,tt.a_(new ut(Bt,Ct)),A.close()}else ot(sn,`RPC '${t}' stream ${l} received:`,pt),tt.u_(pt)}})),it(p,wE.STAT_EVENT,(et=>{et.stat===hm.PROXY?ot(sn,`RPC '${t}' stream ${l} detected buffering proxy`):et.stat===hm.NOPROXY&&ot(sn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Wd(){return typeof document<"u"?document:null}function Oh(r){return new HR(r,!0)}class sg{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ov="PersistentStream";class bT{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sg(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jI extends bT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=YR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Mn(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=pm(_)?{documents:XR(c,_)}:{query:$R(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=cT(c,d.resumeToken);const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=hh(c,d.snapshotVersion.toTimestamp());const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=JR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Em(this.serializer),i.removeTarget=t,this.q_(i)}}class BI extends bT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=KR(t.writeResults,t.commitTime),a=Mn(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>mT(this.serializer,a)))};this.q_(i)}}class qI{}class HI extends qI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,vm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,vm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wr="RemoteStore";class FI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ea(this)&&(ot(Wr,"Restarting streams for network reachability change."),await(async function(_){const y=Tt(_);y.Ea.add(4),await Zl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Mh(y)})(this))}))})),this.Ra=new GI(a,l)}}async function Mh(r){if(ea(r))for(const t of r.da)await t(!0)}async function Zl(r){for(const t of r.da)await t(!1)}function AT(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),lg(i)?og(i):yo(i).O_()&&ag(i,t))}function rg(r,t){const i=Tt(r),a=yo(i);i.Ia.delete(t),a.O_()&&ST(i,t),i.Ia.size===0&&(a.O_()?a.L_():ea(i)&&i.Ra.set("Unknown"))}function ag(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}yo(r).Y_(t)}function ST(r,t){r.Va.Ue(t),yo(r).Z_(t)}function og(r){r.Va=new PR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.Ra.ua()}function lg(r){return ea(r)&&!yo(r).x_()&&r.Ia.size>0}function ea(r){return Tt(r).Ea.size===0}function wT(r){r.Va=void 0}async function QI(r){r.Ra.set("Online")}async function YI(r){r.Ia.forEach(((t,i)=>{ag(r,t)}))}async function KI(r,t){wT(r),lg(r)?(r.Ra.ha(t),og(r)):r.Ra.set("Unknown")}async function XI(r,t,i){if(r.Ra.set("Online"),t instanceof uT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){ot(Wr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await mh(r,a)}else if(t instanceof Kc?r.Va.Ze(t):t instanceof lT?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await TT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),ST(c,_);const A=new ir(E.target,_,y,E.sequenceNumber);ag(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot(Wr,"Failed to raise snapshot:",a),await mh(r,a)}}async function mh(r,t,i){if(!po(t))throw t;r.Ea.add(1),await Zl(r),r.Ra.set("Offline"),i||(i=()=>TT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Wr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Mh(r)}))}function RT(r,t){return t().catch((i=>mh(r,i,t)))}async function Vh(r){const t=Tt(r),i=mr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fm;for(;$I(t);)try{const l=await DI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,ZI(t,l)}catch(l){await mh(t,l)}IT(t)&&CT(t)}function $I(r){return ea(r)&&r.Ta.length<10}function ZI(r,t){r.Ta.push(t);const i=mr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function IT(r){return ea(r)&&!mr(r).x_()&&r.Ta.length>0}function CT(r){mr(r).start()}async function JI(r){mr(r).ra()}async function WI(r){const t=mr(r);for(const i of r.Ta)t.ea(i.mutations)}async function tC(r,t,i){const a=r.Ta.shift(),l=Zm.from(a,t,i);await RT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Vh(r)}async function eC(r,t){t&&mr(r).X_&&await(async function(a,l){if((function(d){return aT(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();mr(a).B_(),await RT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Vh(a)}})(r,t),IT(r)&&CT(r)}async function lv(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),ot(Wr,"RemoteStore received new credentials");const a=ea(i);i.Ea.add(3),await Zl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Mh(i)}async function nC(r,t){const i=Tt(r);t?(i.Ea.delete(2),await Mh(i)):t||(i.Ea.add(2),await Zl(i),i.Ra.set("Unknown"))}function yo(r){return r.ma||(r.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new jI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:QI.bind(null,r),t_:YI.bind(null,r),r_:KI.bind(null,r),H_:XI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),lg(r)?og(r):r.Ra.set("Unknown")):(await r.ma.stop(),wT(r))}))),r.ma}function mr(r){return r.fa||(r.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new BI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:JI.bind(null,r),r_:eC.bind(null,r),ta:WI.bind(null,r),na:tC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Wr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ug{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new ug(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(r,t){if(ps("AsyncQueue",`${t}: ${r}`),po(r))return new ut($.UNAVAILABLE,`${t}: ${r}`);throw r}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=bl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new to;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class uv{constructor(){this.ga=new me(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class uo{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new uo(t,i,to.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class iC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class sC{constructor(){this.queries=cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=cv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function cv(){return new ta((r=>YE(r)),Rh)}async function NT(r,t){const i=Tt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new iC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=cg(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&hg(i)}async function xT(r,t){const i=Tt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function rC(r,t){const i=Tt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&hg(i)}function aC(r,t,i){const a=Tt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function hg(r){r.Ca.forEach((t=>{t.next()}))}var Am,hv;(hv=Am||(Am={})).Ma="default",hv.Cache="cache";class DT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new uo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Am.Cache}}class OT{constructor(t){this.key=t}}class MT{constructor(t){this.key=t}}class oC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=KE(t),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new uv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,A)=>{const M=l.get(E),F=Ih(this.query,A)?A:null,tt=!!M&&this.mutatedKeys.has(M.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let et=!1;M&&F?M.data.isEqual(F.data)?tt!==it&&(a.track({type:3,doc:F}),et=!0):this.su(M,F)||(a.track({type:2,doc:F}),et=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),et=!0):M&&!F&&(a.track({type:1,doc:M}),et=!0,(_||y)&&(p=!0)),et&&(F?(d=d.add(F),c=it?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,A)=>(function(F,tt){const it=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:et})}};return it(F)-it(tt)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new uo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new MT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new OT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fg="SyncEngine";class lC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class uC{constructor(t){this.key=t,this.hu=!1}}class cC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((p=>YE(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new me(gt.comparator),this.Au=new Map,this.Ru=new tg,this.Vu={},this.mu=new Map,this.fu=lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hC(r,t,i=!0){const a=PT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await VT(a,t,i,!0),l}async function fC(r,t){const i=PT(r);await VT(i,t,!0,!1)}async function VT(r,t,i,a){const l=await OI(r.localStore,Ui(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await dC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&AT(r.remoteStore,l),p}async function dC(r,t,i,a,l){r.pu=(A,M,F)=>(async function(it,et,pt,bt){let yt=et.view.ru(pt);yt.Cs&&(yt=await iv(it.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,yt))));const Ft=bt&&bt.targetChanges.get(et.targetId),Bt=bt&&bt.targetMismatches.get(et.targetId)!=null,Ct=et.view.applyChanges(yt,it.isPrimaryClient,Ft,Bt);return dv(it,et.targetId,Ct.au),Ct.snapshot})(r,A,M,F);const c=await iv(r.localStore,t,!0),d=new oC(t,c.Qs),p=d.ru(c.documents),_=$l.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);dv(r,i,y.au);const E=new lC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function mC(r,t,i){const a=Tt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&rg(a.remoteStore,l.targetId),Sm(a,l.targetId)})).catch(go)):(Sm(a,l.targetId),await Tm(a.localStore,l.targetId,!0))}async function gC(r,t){const i=Tt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),rg(i.remoteStore,a.targetId))}async function pC(r,t,i){const a=AC(r);try{const l=await(function(d,p){const _=Tt(d),y=ue.now(),E=p.reduce(((F,tt)=>F.add(tt.key)),zt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let tt=ys(),it=zt();return _.Ns.getEntries(F,E).next((et=>{tt=et,tt.forEach(((pt,bt)=>{bt.isValidDocument()||(it=it.add(pt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,tt))).next((et=>{A=et;const pt=[];for(const bt of p){const yt=MR(bt,A.get(bt.key).overlayedDocument);yt!=null&&pt.push(new _r(bt.key,yt,jE(yt.value.mapValue),an.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,pt,p)})).next((et=>{M=et;const pt=et.applyToLocalDocumentSet(A,it);return _.documentOverlayCache.saveOverlays(F,et.batchId,pt)}))})).then((()=>({batchId:M.batchId,changes:$E(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new me(kt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Jl(a,l.changes),await Vh(a.remoteStore)}catch(l){const c=cg(l,"Failed to persist write");i.reject(c)}}async function kT(r,t){const i=Tt(r);try{const a=await NI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?jt(d.hu,14607):l.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await Jl(i,a,t)}catch(a){await go(a)}}function fv(r,t,i){const a=Tt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Tt(d);_.onlineState=p;let y=!1;_.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(p)&&(y=!0)})),y&&hg(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function yC(r,t,i){const a=Tt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new me(gt.comparator);d=d.insert(c,Ge.newNoDocument(c,vt.min()));const p=zt().add(c),_=new Dh(vt.min(),new Map,new me(kt),d,p);await kT(a,_),a.du=a.du.remove(c),a.Au.delete(t),dg(a)}else await Tm(a.localStore,t,!1).then((()=>Sm(a,t,i))).catch(go)}async function _C(r,t){const i=Tt(r),a=t.batch.batchId;try{const l=await CI(i.localStore,t);LT(i,a,null),zT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await go(l)}}async function vC(r,t,i){const a=Tt(r);try{const l=await(function(d,p){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,p).next((A=>(jt(A!==null,37113),E=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,t);LT(a,t,i),zT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Jl(a,l)}catch(l){await go(l)}}function zT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function LT(r,t,i){const a=Tt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Sm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||UT(r,a)}))}function UT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(rg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),dg(r))}function dv(r,t,i){for(const a of i)a instanceof OT?(r.Ru.addReference(a.key,t),EC(r,a)):a instanceof MT?(ot(fg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||UT(r,a.key)):mt(19791,{wu:a})}function EC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(fg,"New document in limbo: "+i),r.Eu.add(a),dg(r))}function dg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(le.fromString(t)),a=r.fu.next();r.Au.set(a,new uC(i)),r.du=r.du.insert(i,a),AT(r.remoteStore,new ir(Ui(wh(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function Jl(r,t,i){const a=Tt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=ng.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const E=Tt(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(M=>X.forEach(M.Es,(F=>E.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>E.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!po(A))throw A;ot(ig,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const F=E.Ms.get(M),tt=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(tt);E.Ms=E.Ms.insert(M,it)}}})(a.localStore,c))}async function TC(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){ot(fg,"User change. New user:",t.toKey());const a=await ET(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ut($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ls)}}function bC(r,t){const i=Tt(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function PT(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=kT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yC.bind(null,t),t.Pu.H_=rC.bind(null,t.eventManager),t.Pu.yu=aC.bind(null,t.eventManager),t}function AC(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vC.bind(null,t),t}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return II(this.persistence,new SI,t.initialUser,this.serializer)}Cu(t){return new vT(eg.mi,this.serializer)}Du(t){return new VI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class SC extends gh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){jt(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new uI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new vT((a=>dh.mi(a,i)),this.serializer)}}class wm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>fv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=TC.bind(null,this.syncEngine),await nC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new sC})()}createDatastore(t){const i=Oh(t.databaseInfo.databaseId),a=(function(c){return new PI(c)})(t.databaseInfo);return(function(c,d,p,_){return new HI(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new FI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>fv(this.syncEngine,i,0)),(function(){return av.v()?new av:new kI})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,E){const A=new cC(l,c,d,p,_,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);ot(Wr,"RemoteStore shutting down."),a.Ea.add(5),await Zl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class jT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}class wC{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=Tt(l),p={documents:c.map((A=>fh(d.serializer,A)))},_=await d.Ho("BatchGetDocuments",d.serializer.databaseId,le.emptyPath(),p,c.length),y=new Map;_.forEach((A=>{const M=QR(d.serializer,A);y.set(M.key.toString(),M)}));const E=[];return c.forEach((A=>{const M=y.get(A.toString());jt(!!M,55234,{key:A}),E.push(M)})),E})(this.datastore,t);return i.forEach((a=>this.recordVersion(a))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new xh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,a)=>{const l=gt.fromPath(a);this.mutations.push(new rT(l,this.precondition(l)))})),await(async function(a,l){const c=Tt(a),d={writes:l.map((p=>mT(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,le.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw mt(50498,{Gu:t.constructor.name});i=vt.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!i.isEqual(a))throw new ut($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(vt.min())?an.exists(!1):an.updateTime(i):an.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(vt.min()))throw new ut($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(i)}return an.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class RC{constructor(t,i,a,l,c){this.asyncQueue=t,this.datastore=i,this.options=a,this.updateFunction=l,this.deferred=c,this.zu=a.maxAttempts,this.M_=new sg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new wC(this.datastore),i=this.Hu(t);i&&i.then((a=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(a)})).catch((l=>{this.Yu(l)}))))})).catch((a=>{this.Yu(a)}))}))}Hu(t){try{const i=this.updateFunction(t);return!Kl(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!aT(i)}return!1}}const gr="FirestoreClient";class IC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=cg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function tm(r,t){r.asyncQueue.verifyOperationInProgress(),ot(gr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ET(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function mv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await CC(r);ot(gr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>lv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>lv(t.remoteStore,l))),r._onlineComponents=t}async function CC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(gr,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;io("Error using user provided cache. Falling back to memory cache: "+i),await tm(r,new gh)}}else ot(gr,"Using default OfflineComponentProvider"),await tm(r,new SC(void 0));return r._offlineComponents}async function mg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(gr,"Using user provided OnlineComponentProvider"),await mv(r,r._uninitializedComponentsProvider._online)):(ot(gr,"Using default OnlineComponentProvider"),await mv(r,new wm))),r._onlineComponents}function NC(r){return mg(r).then((t=>t.syncEngine))}function xC(r){return mg(r).then((t=>t.datastore))}async function Rm(r){const t=await mg(r),i=t.eventManager;return i.onListen=hC.bind(null,t.syncEngine),i.onUnlisten=mC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=fC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=gC.bind(null,t.syncEngine),i}function DC(r,t,i={}){const a=new hs;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const E=new jT({next:M=>{E.Nu(),d.enqueueAndForget((()=>xT(c,A)));const F=M.docs.has(p);!F&&M.fromCache?y.reject(new ut($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&_&&_.source==="server"?y.reject(new ut($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),A=new DT(wh(p.path),E,{includeMetadataChanges:!0,qa:!0});return NT(c,A)})(await Rm(r),r.asyncQueue,t,i,a))),a.promise}function BT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const gv=new Map;const qT="firestore.googleapis.com",pv=!0;class yv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=pv}else this.host=t.host,this.ssl=t.ssl??pv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oI)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}F2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new V2;switch(a.type){case"firstParty":return new U2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=gv.get(i);a&&(ot("ComponentProvider","Removing Datastore"),gv.delete(i),a.terminate())})(this),Promise.resolve()}}function OC(r,t,i,a={}){r=Zn(r,gg);const l=co(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Lv(`https://${p}`),Uv("Firestore",!0)),c.host!==qT&&c.host!==p&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!ur(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=rn.MOCK_USER;else{y=iA(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(A)}r._authCredentials=new k2(new NE(y,E))}}class kh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new kh(this.firestore,t,this._query)}}class Se{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Se(this.firestore,t,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Yl(i,Se._jsonSchema))return new Se(t,a||null,new gt(le.fromString(i.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:ke("string",Se._jsonSchemaVersion),referencePath:ke("string")};class Pl extends kh{constructor(t,i,a){super(t,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Se(this.firestore,null,new gt(t))}withConverter(t){return new Pl(this.firestore,t,this._path)}}function Xn(r,t,...i){if(r=tn(r),arguments.length===1&&(t=Hm.newId()),G2("doc","path",t),r instanceof gg){const a=le.fromString(t,...i);return D0(a),new Se(r,null,new gt(a))}{if(!(r instanceof Se||r instanceof Pl))throw new ut($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return D0(a),new Se(r.firestore,r instanceof Pl?r.converter:null,new gt(a))}}const _v="AsyncQueue";class vv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sg(this,"async_queue_retry"),this._c=()=>{const a=Wd();a&&ot(_v,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;ot(_v,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",Ev(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ug.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Ev(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Ev(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Tv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class pr extends gg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new vv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vv(t),this._firestoreClient=void 0,await t}}}function MC(r,t){const i=typeof r=="object"?r:qv(),a=typeof r=="string"?r:rh,l=Mm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=eA("firestore");c&&OC(l,...c)}return l}function zh(r){if(r._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VC(r),r._firestoreClient}function VC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new nR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,BT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new IC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Dn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dn(en.fromBase64String(t))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Dn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yl(t,Dn._jsonSchema))return Dn.fromBase64String(t.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:ke("string",Dn._jsonSchemaVersion),bytes:ke("string")};class Wl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lh{constructor(t){this._methodName=t}}class Pi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(Yl(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:ke("string",Pi._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class ji{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yl(t,ji._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ji(t.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:ke("string",ji._jsonSchemaVersion),vectorValues:ke("object")};const kC=/^__.*__$/;class zC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new _r(t,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(t,this.data,i,this.fieldTransforms)}}class HT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new _r(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function GT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:r})}}class Uh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Uh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ph(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(GT(this.Ac)&&kC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class LC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Oh(t)}Cc(t,i,a,l=!1){return new Uh({Ac:t,methodName:i,Dc:a,path:We.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(r){const t=r._freezeSettings(),i=Oh(r._databaseId);return new LC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function FT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);_g("Data must be an object, but it was:",d,a);const p=KT(a,d);let _,y;if(c.merge)_=new On(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=Im(t,A,i);if(!d.contains(M))throw new ut($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);$T(E,M)||E.push(M)}_=new On(E),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new zC(new hn(p),_,y)}class Ph extends Lh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ph}}function UC(r,t,i){return new Uh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class yg extends Lh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=UC(this,t,!0),a=this.vc.map((c=>tu(c,i))),l=new oo(a);return new NR(t.path,l)}isEqual(t){return t instanceof yg&&ur(this.vc,t.vc)}}function QT(r,t,i,a){const l=r.Cc(1,t,i);_g("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();yr(a,((_,y)=>{const E=vg(t,_,i);y=tn(y);const A=l.yc(E);if(y instanceof Ph)c.push(E);else{const M=tu(y,A);M!=null&&(c.push(E),d.set(E,M))}}));const p=new On(c);return new HT(d,p,l.fieldTransforms)}function YT(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Im(t,a,i)],_=[l];if(c.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Im(t,c[M])),_.push(c[M+1]);const y=[],E=hn.empty();for(let M=p.length-1;M>=0;--M)if(!$T(y,p[M])){const F=p[M];let tt=_[M];tt=tn(tt);const it=d.yc(F);if(tt instanceof Ph)y.push(F);else{const et=tu(tt,it);et!=null&&(y.push(F),E.set(F,et))}}const A=new On(y);return new HT(E,A,d.fieldTransforms)}function tu(r,t){if(XT(r=tn(r)))return _g("Unsupported field value:",t,r),KT(r,t);if(r instanceof Lh)return(function(a,l){if(!GT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=tu(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return RR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ue.fromDate(a);return{timestampValue:hh(l.serializer,c)}}if(a instanceof ue){const c=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(a instanceof Pi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Dn)return{bytesValue:cT(l.serializer,a._byteString)};if(a instanceof Se){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ji)return(function(d,p){return{mapValue:{fields:{[UE]:{stringValue:PE},[ah]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return $m(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Gm(a)}`)})(r,t)}function KT(r,t){const i={};return OE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yr(r,((a,l)=>{const c=tu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function XT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ue||r instanceof Pi||r instanceof Dn||r instanceof Se||r instanceof Lh||r instanceof ji)}function _g(r,t,i){if(!XT(i)||!xE(i)){const a=Gm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Im(r,t,i){if((t=tn(t))instanceof Wl)return t._internalPath;if(typeof t=="string")return vg(r,t);throw ph("Field path arguments must be of type string or ",r,!1,void 0,i)}const PC=new RegExp("[~\\*/\\[\\]]");function vg(r,t,i){if(t.search(PC)>=0)throw ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Wl(...t.split("."))._internalPath}catch{throw ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ph(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ut($.INVALID_ARGUMENT,p+r+_)}function $T(r,t){return r.some((i=>i.isEqual(t)))}class yh{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ZT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jC extends yh{data(){return super.data()}}function ZT(r,t){return typeof t=="string"?vg(r,t):t instanceof Wl?t._internalPath:t._delegate._internalPath}function BC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JT{convertValue(t,i="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return yr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[ah].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new ji(i)}convertGeoPoint(t){return new Pi(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Ah(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const i=hr(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);jt(yT(a),9688,{name:t});const l=new zl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function WT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class qC extends JT{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,i)}}class $a{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lr extends yh{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(ZT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=lr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",lr._jsonSchema={type:ke("string",lr._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class Xc extends lr{data(t={}){return super.data(t)}}class eo{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new $a(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new $a(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new $a(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new $a(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:HC(p.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}function GC(r){r=Zn(r,Se);const t=Zn(r.firestore,pr);return DC(zh(t),r._key).then((i=>t1(t,r,i)))}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:ke("string",eo._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class Eg extends JT{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,i)}}function FC(r,t,i){r=Zn(r,Se);const a=Zn(r.firestore,pr),l=WT(r.converter,t,i);return Tg(a,[FT(pg(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,an.none())])}function Js(r,t,i,...a){r=Zn(r,Se);const l=Zn(r.firestore,pr),c=pg(l);let d;return d=typeof(t=tn(t))=="string"||t instanceof Wl?YT(c,"updateDoc",r._key,t,i,a):QT(c,"updateDoc",r._key,t),Tg(l,[d.toMutation(r._key,an.exists(!0))])}function QC(r){return Tg(Zn(r.firestore,pr),[new xh(r._key,an.none())])}function bv(r,...t){r=tn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Tv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Tv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Se)d=Zn(r.firestore,pr),p=wh(r._key.path),c={next:_=>{t[a]&&t[a](t1(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Zn(r,kh);d=Zn(_.firestore,pr),p=_._query;const y=new Eg(d);c={next:E=>{t[a]&&t[a](new eo(d,y,_,E))},error:t[a+1],complete:t[a+2]},BC(r._query)}return(function(y,E,A,M){const F=new jT(M),tt=new DT(E,F,A);return y.asyncQueue.enqueueAndForget((async()=>NT(await Rm(y),tt))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>xT(await Rm(y),tt)))}})(zh(d),p,l,c)}function Tg(r,t){return(function(a,l){const c=new hs;return a.asyncQueue.enqueueAndForget((async()=>pC(await NC(a),l,c))),c.promise})(zh(r),t)}function t1(r,t,i){const a=i.docs.get(t._key),l=new Eg(r);return new lr(r,l,t._key,a,new $a(i.hasPendingWrites,i.fromCache),t.converter)}const YC={maxAttempts:5};function Sl(r,t){if((r=tn(r)).firestore!==t)throw new ut($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class KC{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=pg(t)}get(t){const i=Sl(t,this._firestore),a=new qC(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return mt(24041);const c=l[0];if(c.isFoundDocument())return new yh(this._firestore,a,c.key,c,i.converter);if(c.isNoDocument())return new yh(this._firestore,a,i._key,null,i.converter);throw mt(18433,{doc:c})}))}set(t,i,a){const l=Sl(t,this._firestore),c=WT(l.converter,i,a),d=FT(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,a);return this._transaction.set(l._key,d),this}update(t,i,a,...l){const c=Sl(t,this._firestore);let d;return d=typeof(i=tn(i))=="string"||i instanceof Wl?YT(this._dataReader,"Transaction.update",c._key,i,a,l):QT(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=Sl(t,this._firestore);return this._transaction.delete(i._key),this}}class XC extends KC{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Sl(t,this._firestore),a=new Eg(this._firestore);return super.get(t).then((l=>new lr(this._firestore,a,i._key,l._document,new $a(!1,!1),i.converter)))}}function $C(r,t,i){r=Zn(r,pr);const a={...YC,...i};return(function(c){if(c.maxAttempts<1)throw new ut($.INVALID_ARGUMENT,"Max attempts must be at least 1")})(a),(function(c,d,p){const _=new hs;return c.asyncQueue.enqueueAndForget((async()=>{const y=await xC(c);new RC(c.asyncQueue,y,p,d,_).ju()})),_.promise})(zh(r),(l=>t(new XC(r,l))),a)}function Lc(...r){return new yg("arrayUnion",r)}(function(t,i=!0){(function(l){mo=l})(ho),no(new $r("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new pr(new z2(a.getProvider("auth-internal")),new P2(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(y.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ar(I0,C0,t),ar(I0,C0,"esm2020")})();const ZC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Av=r=>{const t=JC(r);return t.charAt(0).toUpperCase()+t.slice(1)},e1=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),WC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var tN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eN=oe.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>oe.createElement("svg",{ref:_,...tN,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:e1("lucide",l),...!c&&!WC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>oe.createElement(y,E)),...Array.isArray(c)?c:[c]]));const ge=(r,t)=>{const i=oe.forwardRef(({className:a,...l},c)=>oe.createElement(eN,{ref:c,iconNode:t,className:e1(`lucide-${ZC(Av(r))}`,`lucide-${r}`,a),...l}));return i.displayName=Av(r),i};const nN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cm=ge("book-open",nN);const iN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],em=ge("circle-check-big",iN);const sN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Sv=ge("crown",sN);const rN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],aN=ge("dice-1",rN);const oN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M9 15h.01",key:"fzyn71"}]],lN=ge("dice-2",oN);const uN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],cN=ge("dice-3",uN);const hN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}]],fN=ge("dice-4",hN);const dN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],mN=ge("dice-5",dN);const gN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],pN=ge("dice-6",gN);const yN=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],_h=ge("dices",yN);const _N=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],wv=ge("gavel",_N);const vN=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],EN=ge("ghost",vN);const TN=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],bN=ge("hammer",TN);const AN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],n1=ge("history",AN);const SN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],i1=ge("house",SN);const wN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],RN=ge("loader",wN);const IN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Nm=ge("log-out",IN);const CN=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],NN=ge("megaphone",CN);const xN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],DN=ge("rotate-ccw",xN);const ON=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Rv=ge("skull",ON);const MN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VN=ge("trash-2",MN);const kN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Iv=ge("user",kN);const zN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],s1=ge("x",zN),LN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:590c84080a05dcfd6aa637"},r1=Bv(LN),nm=O2(r1),xn=MC(r1),fi=typeof __app_id<"u"?__app_id:"ghost-dice",UN="7",Ha="ghost_dice_roomId",Uc={1:aN,2:lN,3:cN,4:fN,5:mN,6:pN},Ga=[{name:"Green",color:"text-green-400",border:"border-green-500",bg:"bg-green-900/20",shadow:"shadow-green-500/20",ring:"ring-green-500"},{name:"Orange",color:"text-orange-400",border:"border-orange-500",bg:"bg-orange-900/20",shadow:"shadow-orange-500/20",ring:"ring-orange-500"},{name:"Cyan",color:"text-cyan-400",border:"border-cyan-500",bg:"bg-cyan-900/20",shadow:"shadow-cyan-500/20",ring:"ring-cyan-500"},{name:"Yellow",color:"text-yellow-400",border:"border-yellow-500",bg:"bg-yellow-900/20",shadow:"shadow-yellow-500/20",ring:"ring-yellow-500"},{name:"Purple",color:"text-purple-400",border:"border-purple-500",bg:"bg-purple-900/20",shadow:"shadow-purple-500/20",ring:"ring-purple-500"},{name:"Rose",color:"text-rose-400",border:"border-rose-500",bg:"bg-rose-900/20",shadow:"shadow-rose-500/20",ring:"ring-rose-500"}],Pc=()=>N.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[N.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-zinc-900 via-zinc-950 to-black"}),N.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-indigo-900/10 mix-blend-overlay"}),N.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),Cv=()=>N.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[N.jsx(_h,{size:12,className:"text-indigo-400"}),N.jsx("span",{className:"text-[10px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),PN=()=>N.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[N.jsx(_h,{size:22,className:"text-indigo-400"}),N.jsx("span",{className:"text-[20px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),Nv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>N.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:N.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[N.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Haunt?"}),N.jsx("p",{className:"text-zinc-400 mb-6 text-sm",children:l?"Leaving now will forfeit your soul (and the game).":"Leaving the lobby will disconnect you."}),N.jsxs("div",{className:"flex flex-col gap-3",children:[N.jsx("button",{onClick:i,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),l&&a&&N.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white",children:[N.jsx(i1,{size:18})," Return Group to Lobby"]}),N.jsxs("button",{onClick:r,className:"bg-red-900/80 hover:bg-red-800 text-red-200 py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 border border-red-900",children:[N.jsx(Nm,{size:18})," Leave Game"]})]})]})}),jN=({logs:r,onClose:t})=>N.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:N.jsxs("div",{className:"bg-zinc-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-zinc-700 shadow-2xl",children:[N.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[N.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[N.jsx(n1,{size:18,className:"text-indigo-400"})," Sance Logs"]}),N.jsx("button",{onClick:t,className:"p-2 bg-zinc-800 rounded-full hover:bg-zinc-700",children:N.jsx(s1,{className:"text-zinc-400"})})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...r].reverse().map((i,a)=>N.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":i.type==="success"?"bg-green-900/10 border-green-500 text-green-300":i.type==="warning"?"bg-indigo-900/10 border-indigo-500 text-indigo-300":"bg-zinc-800/50 border-zinc-600 text-zinc-400"}`,children:[N.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),xv=({onClose:r})=>N.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:N.jsxs("div",{className:"bg-zinc-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-indigo-500/30 flex flex-col",children:[N.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[N.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[N.jsx(Cm,{className:"text-indigo-400"})," The Grimoire"]}),N.jsx("button",{onClick:r,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400",children:N.jsx(s1,{})})]}),N.jsx("div",{className:"p-6 overflow-y-auto text-zinc-300 space-y-6",children:N.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[N.jsx("h3",{className:"text-xl font-bold text-indigo-400 mb-2",children:"The Basics"}),N.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[N.jsxs("li",{children:["Everyone starts with ",N.jsx("strong",{children:"5 Dice"}),"."]}),N.jsxs("li",{children:["Only ",N.jsx("strong",{children:"you"})," can see your own dice."]}),N.jsx("li",{children:"Goal: Be the last player with dice remaining."}),N.jsxs("li",{children:[N.jsx("strong",{children:"1s (Aces) are Wild!"})," They count as any number, unless the bid is on 1s."]})]})]}),N.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[N.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Bidding & Challenging"}),N.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[N.jsxs("li",{children:[N.jsx("strong",{children:"Bid:"})," Claim a quantity of a specific face value on the ",N.jsx("em",{children:"entire table"}),' (e.g., "Five 4s").']}),N.jsxs("li",{children:[N.jsx("strong",{children:"Raise:"})," You must bid a higher quantity OR the same quantity with a higher face value."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Liar!:"})," If you don't believe the previous bid, challenge it!"]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Result:"})," If the bid was valid, Challenger loses a die. If invalid, Bidder loses a die."]})]})]})]})})]})}),BN=({type:r,message:t,subtext:i,icon:a})=>N.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:N.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300
      backdrop-blur-md
      ${r==="success"?"bg-indigo-900/90 border-indigo-500 text-indigo-100":""}
      ${r==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${r==="neutral"?"bg-zinc-800/90 border-zinc-500 text-white":""}
    `,children:[a&&N.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:N.jsx(a,{size:64,className:"animate-bounce"})}),N.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&N.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})});function qN(){const[r,t]=oe.useState(null),[i,a]=oe.useState("menu"),[l,c]=oe.useState(""),[d,p]=oe.useState(()=>localStorage.getItem(Ha)||""),[_,y]=oe.useState(""),[E,A]=oe.useState(null),[M,F]=oe.useState(!1),[tt,it]=oe.useState(""),[et,pt]=oe.useState(!1),[bt,yt]=oe.useState(!1),[Ft,Bt]=oe.useState(!1),[Ct,C]=oe.useState(!1),[S,I]=oe.useState(null),[V,x]=oe.useState(1),[z,w]=oe.useState(2);oe.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await _w(nm,__initial_auth_token):await dw(nm))();const W=Tw(nm,t);return()=>W()},[]),oe.useEffect(()=>{if(!d||!r)return;const J=bv(Xn(xn,"artifacts",fi,"public","data","rooms",d),W=>{if(W.exists()){const Z=W.data();if(!Z.players.some(Lt=>Lt.id===r.uid)){p(""),localStorage.removeItem(Ha),a("menu"),it("Connection Terminated.");return}A(Z),Z.status==="lobby"?a("lobby"):a("game"),Z.feedbackTrigger&&Z.feedbackTrigger.id!==E?.feedbackTrigger?.id&&(I(Z.feedbackTrigger),setTimeout(()=>I(null),3e3)),Z.currentBid&&!E?.currentBid&&(x(Z.currentBid.quantity),w(Z.currentBid.face))}else p(""),localStorage.removeItem(Ha),a("menu"),it("Room vanished into the ether.")});return()=>J()},[d,r,E?.feedbackTrigger?.id]),oe.useEffect(()=>{const J=bv(Xn(xn,"game_hub_settings","config"),W=>{W.exists()&&W.data()[UN]?.maintenance?pt(!0):pt(!1)});return()=>J()},[]);const ie=async()=>{if(!l.trim())return it("Name required.");F(!0);const J=Math.random().toString(36).substring(2,7).toUpperCase(),W={roomId:J,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,dice:[],diceCount:5,eliminated:!1,ready:!0}],logs:[],turnIndex:0,currentBid:null,turnState:"IDLE",feedbackTrigger:null,winner:null,roundLoserId:null,revealReadyIds:[]};try{await FC(Xn(xn,"artifacts",fi,"public","data","rooms",J),W),p(J),localStorage.setItem(Ha,J),a("lobby")}catch{it("Network error.")}F(!1)},_e=async()=>{if(!_||!l)return it("Code and Name required.");F(!0);try{const J=Xn(xn,"artifacts",fi,"public","data","rooms",_),W=await GC(J);if(!W.exists())throw new Error("Room not found.");const Z=W.data();if(Z.status!=="lobby")throw new Error("Game already in progress.");if(Z.players.length>=6)throw new Error("Table full.");Z.players.find(Lt=>Lt.id===r.uid)||await Js(J,{players:Lc({id:r.uid,name:l,dice:[],diceCount:5,eliminated:!1,ready:!0})}),p(_),localStorage.setItem(Ha,_)}catch(J){it(J.message)}F(!1)},H=async()=>{if(!d)return;const J=Xn(xn,"artifacts",fi,"public","data","rooms",d);if(E.hostId===r.uid)await QC(J);else{const Z=E.players.filter(Lt=>Lt.id!==r.uid);await Js(J,{players:Z})}p(""),localStorage.removeItem(Ha),a("menu"),Bt(!1)},st=async J=>{if(E.hostId!==r.uid)return;const W=E.players.filter(Z=>Z.id!==J);await Js(Xn(xn,"artifacts",fi,"public","data","rooms",d),{players:W})},ht=async()=>{if(!E)return;const J=E.players.map(W=>W.id===r.uid?{...W,ready:!W.ready}:W);await Js(Xn(xn,"artifacts",fi,"public","data","rooms",d),{players:J})},Dt=J=>{const W=[];for(let Z=0;Z<J;Z++)W.push(Math.floor(Math.random()*6)+1);return W.sort()},qt=async()=>{if(E.players.length<2)return it("Need 2+ Players.");const J=E.players.map(Z=>({...Z,diceCount:5,dice:Dt(5),eliminated:!1,ready:!1})),W=Math.floor(Math.random()*J.length);await Js(Xn(xn,"artifacts",fi,"public","data","rooms",d),{status:"playing",players:J,turnIndex:W,currentBid:null,turnState:"BIDDING",logs:[{id:Date.now().toString(),text:"The Haunt Begins. 5 Dice each.",type:"neutral"}]})},O=async()=>{const J=E.currentBid,W=E.players.find(Lt=>Lt.id===r.uid);if(J&&(V<J.quantity||V===J.quantity&&z<=J.face))return;let Z=(E.turnIndex+1)%E.players.length;for(;E.players[Z].eliminated;)Z=(Z+1)%E.players.length;await Js(Xn(xn,"artifacts",fi,"public","data","rooms",d),{currentBid:{quantity:V,face:z,playerId:r.uid,playerName:W.name},turnIndex:Z,logs:Lc({id:Date.now().toString(),text:`${W.name} bids: ${V}x ${z}s`,type:"neutral"})})},Y=async()=>{const J=E.currentBid,W=E.players.find(Pe=>Pe.id===r.uid),Z=E.players.find(Pe=>Pe.id===J.playerId);let Lt=0,Fe=[];E.players.forEach(Pe=>{Pe.eliminated||(Fe=[...Fe,...Pe.dice],Pe.dice.forEach(Wn=>{(Wn===J.face||Wn===1&&J.face!==1)&&Lt++}))});const we=Lt>=J.quantity,Zt=we?W.id:Z.id,ce=we?W.name:Z.name;let Jn=[{id:Date.now().toString(),text:`Liar! ${W.name} challenges ${Z.name}.`,type:"warning"},{id:Date.now()+1,text:`Reveal: Found ${Lt} matching dice. Bid was ${we?"VALID":"FALSE"}.`,type:we?"success":"danger"},{id:Date.now()+2,text:`${ce} will lose a die!`,type:"danger"}];const Vn={id:Date.now(),type:we?"failure":"success",message:we?"BID VALID":"BID FAILED",subtext:`${Lt} found vs ${J.quantity} bid. Waiting for players to roll...`};await Js(Xn(xn,"artifacts",fi,"public","data","rooms",d),{turnState:"REVEAL",feedbackTrigger:Vn,logs:Lc(...Jn),roundLoserId:Zt,revealReadyIds:[]})},rt=async()=>{if(!E||!r)return;const J=Xn(xn,"artifacts",fi,"public","data","rooms",d);try{await $C(xn,async W=>{const Z=await W.get(J);if(!Z.exists())return;const Lt=Z.data();if(Lt.revealReadyIds?.includes(r.uid))return;const Fe=[...Lt.revealReadyIds||[],r.uid],we=Lt.players.filter(Zt=>!Zt.eliminated).length;if(Fe.length>=we){const Zt=[...Lt.players],ce=Zt.findIndex(kn=>kn.id===Lt.roundLoserId);Zt[ce].diceCount-=1;let Jn="",Vn="BIDDING",Pe=null,Wn=null;Zt[ce].diceCount<=0&&(Zt[ce].eliminated=!0,Jn=`${Zt[ce].name} has run out of soul. Eliminated.`);const he=Zt.filter(kn=>!kn.eliminated);he.length===1?(Vn="FINISHED",Pe=he[0].name,Wn={id:Date.now(),type:"success",message:"VICTORY",subtext:`${Pe} Survives!`}):Zt.forEach(kn=>{kn.eliminated?kn.dice=[]:kn.dice=Dt(kn.diceCount)});let se=ce;if(Zt[ce].eliminated)for(se=(ce+1)%Zt.length;Zt[se].eliminated&&he.length>1;)se=(se+1)%Zt.length;const fn={players:Zt,turnState:Vn==="FINISHED"?"IDLE":"BIDDING",currentBid:null,turnIndex:se,revealReadyIds:[],roundLoserId:null};Jn&&(fn.logs=Lc({id:Date.now().toString(),text:Jn,type:"danger"})),Pe&&(fn.status="finished",fn.winner=Pe,fn.feedbackTrigger=Wn),W.update(J,fn)}else W.update(J,{revealReadyIds:Fe})})}catch(W){console.error("Transaction failed: ",W)}},at=async()=>{const J=E.players.map(W=>({...W,dice:[],diceCount:5,eliminated:!1,ready:!0}));await Js(Xn(xn,"artifacts",fi,"public","data","rooms",d),{status:"lobby",players:J,logs:[],currentBid:null,turnState:"IDLE",winner:null,feedbackTrigger:null,revealReadyIds:[],roundLoserId:null})},ft=E?.players.find(J=>J.id===r?.uid),St=E?.players[E?.turnIndex]?.id===r?.uid;if(et)return N.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:N.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[N.jsx(bN,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),N.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),N.jsx("p",{className:"text-gray-400",children:"The spirits are resting. The tavern is closed until dusk."})]})});if(!r)return N.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-indigo-500 animate-pulse",children:"Summoning..."});if(d&&!E&&!tt)return N.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[N.jsx(Pc,{}),N.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[N.jsx(RN,{size:48,className:"text-indigo-500 animate-spin"}),N.jsxs("div",{className:"text-center",children:[N.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),N.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming the Sance"})]})]})]});if(i==="menu")return N.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[N.jsx(Pc,{}),bt&&N.jsx(xv,{onClose:()=>yt(!1)}),N.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[N.jsx(_h,{size:64,className:"text-indigo-400 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(129,140,248,0.5)]"}),N.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-indigo-300 to-zinc-500 font-serif tracking-widest drop-shadow-md",children:"GHOST DICE"}),N.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Dead Men Tell No Tales"})]}),N.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur border border-indigo-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[tt&&N.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:tt}),N.jsx("input",{className:"w-full bg-black/50 border border-zinc-600 p-3 rounded mb-4 text-white placeholder-zinc-500 focus:border-indigo-500 outline-none transition-colors",placeholder:"Soul Name",value:l,onChange:J=>c(J.target.value)}),N.jsxs("button",{onClick:ie,disabled:M,className:"w-full bg-gradient-to-r from-indigo-700 to-zinc-600 hover:from-indigo-600 hover:to-zinc-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-indigo-500/30 shadow-[0_0_15px_rgba(99,102,241,0.2)] transition-all",children:[N.jsx(Sv,{size:20})," Host Sance"]}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[N.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-zinc-600 p-3 rounded text-white placeholder-zinc-500 uppercase font-mono tracking-wider focus:border-indigo-500 outline-none",placeholder:"CODE",value:_,onChange:J=>y(J.target.value.toUpperCase())}),N.jsx("button",{onClick:_e,disabled:M,className:"w-full sm:w-auto bg-zinc-800 hover:bg-zinc-700 border border-zinc-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),N.jsxs("button",{onClick:()=>yt(!0),className:"w-full text-sm text-zinc-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[N.jsx(Cm,{size:16})," The Grimoire"]})]}),N.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Liar's Dice. A tribute game.",N.jsx("br",{}),"Developed by ",N.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",N.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-500 underline hover:text-indigo-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const J=E.hostId===r.uid;return N.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-6 relative",children:[N.jsx(Pc,{}),N.jsx(PN,{}),Ft&&N.jsx(Nv,{onConfirmLeave:H,onCancel:()=>Bt(!1),isHost:J,inGame:!1}),N.jsxs("div",{className:"z-10 w-full max-w-lg bg-zinc-900/90 backdrop-blur p-8 rounded-2xl border border-indigo-900/50 shadow-2xl mb-4",children:[N.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-zinc-700 pb-4",children:[N.jsxs("h2",{className:"text-2xl font-serif text-indigo-400",children:["Crypt: ",N.jsx("span",{className:"text-white font-mono",children:d})]}),N.jsx("button",{onClick:()=>Bt(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:N.jsx(Nm,{size:16})})]}),N.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-zinc-800",children:[N.jsx("h3",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:N.jsxs("span",{children:["Souls (",E.players.length,")"]})}),N.jsxs("div",{className:"space-y-2",children:[E.players.map((W,Z)=>{const Lt=Ga[Z%Ga.length];return N.jsxs("div",{className:`flex items-center justify-between p-3 rounded border ${Lt.bg} ${Lt.border}`,children:[N.jsxs("span",{className:`font-bold flex items-center gap-2 ${Lt.color}`,children:[N.jsx(Iv,{size:14})," ",W.name," ",W.id===E.hostId&&N.jsx(Sv,{size:14,className:"text-yellow-500"})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[N.jsx(em,{size:12})," Present"]}),J&&W.id!==r.uid&&N.jsx("button",{onClick:()=>st(W.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-red-900/20 rounded-full transition-colors",title:"Kick Soul",children:N.jsx(VN,{size:14})})]})]},W.id)}),E.players.length<2&&N.jsx("div",{className:"text-center text-zinc-500 italic text-sm py-2",children:"Waiting for more souls..."})]})]}),J?N.jsx("button",{onClick:qt,disabled:E.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${E.players.length>=2?"bg-indigo-700 hover:bg-indigo-600 text-white shadow-indigo-900/20":"bg-zinc-800 cursor-not-allowed text-zinc-500"}`,children:E.players.length<2?"Need 2+ Players...":"Begin Haunt"}):N.jsx("div",{className:"text-center text-indigo-400/60 animate-pulse font-serif italic",children:"Waiting for Host..."})]}),N.jsx(Cv,{})]})}if(i==="game"&&E){const J=E.players.findIndex(Z=>Z.id===r.uid),W=Ga[J%Ga.length];return N.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col relative overflow-hidden font-sans",children:[N.jsx(Pc,{}),S&&N.jsx(BN,{type:S.type,message:S.message,subtext:S.subtext,icon:S.type==="success"?wv:Rv}),bt&&N.jsx(xv,{onClose:()=>yt(!1)}),Ct&&N.jsx(jN,{logs:E.logs,onClose:()=>C(!1)}),Ft&&N.jsx(Nv,{onConfirmLeave:H,onCancel:()=>Bt(!1),isHost:E.hostId===r.uid,onConfirmLobby:()=>{at(),Bt(!1)},inGame:!0}),N.jsxs("div",{className:"h-14 bg-zinc-900/80 border-b border-zinc-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"font-serif text-indigo-500 font-bold tracking-wider hidden md:block",children:"GHOST DICE"}),N.jsx("span",{className:"text-xs text-zinc-500 bg-black/50 px-2 py-1 rounded",children:"Graveyard"})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>yt(!0),className:"p-2 hover:bg-zinc-800 rounded text-zinc-400",children:N.jsx(Cm,{size:18})}),N.jsx("button",{onClick:()=>C(!Ct),className:`p-2 rounded-full ${Ct?"bg-indigo-900 text-indigo-400":"text-gray-400 hover:bg-gray-800"}`,children:N.jsx(n1,{size:18})}),N.jsx("button",{onClick:()=>Bt(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:N.jsx(Nm,{size:18})})]})]}),N.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-6xl mx-auto w-full gap-4",children:[N.jsxs("div",{className:`w-full max-w-md ${W.bg} p-6 rounded-2xl border border-indigo-500/20 flex flex-col items-center justify-center min-h-[160px] animate-in fade-in zoom-in`,children:[N.jsx("div",{className:`text-xs ${W.color} uppercase tracking-widest mb-2`,children:"Current Bid"}),E.currentBid?N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("span",{className:"text-6xl font-black text-white drop-shadow-lg",children:E.currentBid.quantity}),N.jsx("span",{className:"text-4xl text-zinc-500",children:"x"}),xc.createElement(Uc[E.currentBid.face],{size:64,className:`${W.color} drop-shadow-[0_0_10px_rgba(129,140,248,0.5)]`})]}),N.jsxs("div",{className:"mt-2 text-zinc-400 text-sm",children:["by"," ",N.jsx("span",{className:"text-white font-bold",children:E.currentBid.playerName})]})]}):N.jsx("div",{className:"text-zinc-600 italic",children:"No bids placed..."})]}),N.jsx("div",{className:"flex gap-4 justify-center flex-wrap w-full my-4",children:E.players.map((Z,Lt)=>{if(Z.id===r.uid)return null;const Fe=E.turnIndex===Lt,we=Ga[Lt%Ga.length];return N.jsxs("div",{className:`
                                relative bg-zinc-900/90 p-4 rounded-xl border-2 w-32 md:w-40 transition-all flex flex-col items-center
                                ${Fe?`${we.border} ${we.shadow} scale-105`:"border-zinc-700"}
                                ${Z.eliminated?"opacity-40 grayscale":""}
                            `,children:[E.turnState==="REVEAL"&&!Z.eliminated&&E.revealReadyIds?.includes(Z.id)&&N.jsx("div",{className:"absolute top-2 left-2",children:N.jsx(em,{size:16,className:"text-green-500"})}),N.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5",children:[...Array(Z.diceCount)].map((Zt,ce)=>N.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Fe?"bg-white":"bg-zinc-600"}`},ce))}),Z.eliminated?N.jsx(Rv,{size:32,className:"text-red-500 mb-2"}):N.jsx(EN,{size:32,className:`${Fe?we.color+" animate-bounce":"text-zinc-600"}`}),N.jsx("span",{className:`font-bold text-sm truncate w-full text-center ${Fe?we.color:"text-zinc-400"}`,children:Z.name}),E.turnState==="REVEAL"&&!Z.eliminated&&N.jsx("div",{className:"absolute inset-0 bg-black/90 rounded-xl flex items-center justify-center z-10 p-2 flex-wrap gap-1",children:Z.dice.map((Zt,ce)=>xc.createElement(Uc[Zt],{key:ce,size:16,className:Zt===E.currentBid?.face||Zt===1?"text-white":"text-zinc-700"}))})]},Z.id)})}),N.jsxs("div",{className:`w-full max-w-2xl bg-zinc-900/95 p-4 rounded-t-3xl border-t-4 ${W.border} backdrop-blur-md mt-auto shadow-2xl z-20 transition-all ${ft.eliminated&&E.status!=="finished"?"grayscale opacity-50 pointer-events-none":""}`,children:[E.turnState==="REVEAL"&&!ft.eliminated&&N.jsx("div",{className:"absolute -top-16 left-0 right-0 flex justify-center z-30",children:E.revealReadyIds?.includes(r.uid)?N.jsxs("div",{className:"bg-zinc-900 px-6 py-2 rounded-full border border-green-500 text-green-500 font-bold flex items-center gap-2",children:[N.jsx(em,{size:18})," Ready"]}):N.jsxs("button",{onClick:rt,className:`
                      px-8 py-3 rounded-full font-black text-lg shadow-xl uppercase tracking-widest flex items-center gap-2 animate-bounce
                      ${W.bg} ${W.text} ${W.border} border-2
                    `,children:[N.jsx(_h,{size:24})," Roll Dice"]})}),N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(Iv,{className:W.color}),N.jsx("span",{className:`font-bold text-xl ${W.color}`,children:ft.name}),N.jsxs("div",{className:`px-3 py-1 rounded-full text-xs border ${W.bg} ${W.color} ${W.border}`,children:[ft.diceCount," Dice Left"]})]}),N.jsx("div",{className:"flex flex-wrap justify-center gap-2 bg-black/40 p-2 rounded-xl",children:ft.dice.map((Z,Lt)=>N.jsx("div",{className:`
                                    ${W.bg} rounded-lg p-1 shadow-inner
                                     ${E.currentBid&&(Z===E.currentBid.face||Z===1)?`ring-2 ${W.ring}`:""}
                                 `,children:xc.createElement(Uc[Z],{size:32,className:W.color})},Lt))})]}),N.jsx("div",{className:"min-h-[100px]",children:E.status==="finished"?N.jsxs("div",{className:"text-center",children:[N.jsxs("h3",{className:"text-3xl font-black text-indigo-400 mb-4",children:[E.winner," Wins!"]}),N.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:E.players.map(Z=>N.jsxs("div",{className:`px-3 py-1 rounded-full text-[10px] uppercase font-bold border ${Z.ready?"bg-green-900/30 border-green-500 text-green-400":"bg-zinc-800 border-zinc-600 text-zinc-500"}`,children:[Z.name," ",Z.ready&&""]},Z.id))}),E.hostId===r.uid?N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsxs("div",{className:"flex gap-3 justify-center",children:[N.jsxs("button",{onClick:qt,disabled:!E.players.every(Z=>Z.ready),className:"bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[N.jsx(DN,{size:18})," Restart"]}),N.jsxs("button",{onClick:at,disabled:!E.players.every(Z=>Z.ready),className:"bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[N.jsx(i1,{size:18})," Lobby"]})]}),!E.players.every(Z=>Z.ready)&&N.jsx("div",{className:"text-zinc-500 text-xs animate-pulse mt-2",children:"Waiting for all souls to be ready..."}),!ft.ready&&N.jsx("button",{onClick:ht,className:"text-xs text-indigo-400 hover:text-indigo-300 underline mt-2",children:"Mark Self Ready"})]}):N.jsxs("div",{className:"w-full max-w-xs mx-auto",children:[N.jsx("button",{onClick:ht,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg transition-all mb-2 ${ft.ready?"bg-green-900/30 border border-green-500 text-green-400":"bg-indigo-600 hover:bg-indigo-500 text-white"}`,children:ft.ready?"READY":"MARK READY"}),N.jsx("div",{className:"text-zinc-500 text-xs italic",children:"Waiting for Host..."})]})]}):St&&E.turnState==="BIDDING"?N.jsxs("div",{className:"flex flex-col gap-4",children:[N.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[N.jsxs("div",{className:"flex items-center bg-zinc-800 rounded-lg border border-zinc-700",children:[N.jsx("button",{onClick:()=>x(Math.max(1,V-1)),className:"p-3 hover:bg-zinc-700 text-zinc-400",children:"-"}),N.jsx("span",{className:"w-12 text-center font-bold text-xl",children:V}),N.jsx("button",{onClick:()=>x(V+1),className:"p-3 hover:bg-zinc-700 text-white",children:"+"})]}),N.jsx("span",{className:"text-zinc-500",children:"x"}),N.jsx("div",{className:"flex gap-1 bg-zinc-800 p-1 rounded-lg border border-zinc-700 overflow-x-auto",children:[1,2,3,4,5,6].map(Z=>N.jsx("button",{onClick:()=>w(Z),className:`p-2 rounded-md transition-all ${z===Z?`${W.bg} ${W.color} shadow-lg`:"hover:bg-zinc-700 text-zinc-500"}`,children:xc.createElement(Uc[Z],{size:24})},Z))})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[N.jsxs("button",{onClick:Y,disabled:!E.currentBid,className:"bg-red-900/80 hover:bg-red-800 disabled:opacity-50 disabled:bg-zinc-800 text-red-200 py-4 rounded-xl font-bold text-lg shadow-lg border border-red-700 flex items-center justify-center gap-2",children:[N.jsx(wv,{size:20})," LIAR!"]}),N.jsxs("button",{onClick:O,disabled:E.currentBid&&(V<E.currentBid.quantity||V===E.currentBid.quantity&&z<=E.currentBid.face),className:`col-span-2 ${W.bg} border ${W.border} ${W.text} hover:opacity-80 disabled:opacity-50 disabled:bg-zinc-800 disabled:border-zinc-700 disabled:text-zinc-500 py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2`,children:[N.jsx(NN,{size:20})," Place Bid"]})]})]}):N.jsx("div",{className:"text-center text-zinc-500 animate-pulse py-8",children:E.turnState==="REVEAL"?"Waiting for all players to roll the dice...":`Waiting for ${E.players[E.turnIndex]?.name}...`})})]})]}),N.jsx(Cv,{})]})}return null}Qb.createRoot(document.getElementById("root")).render(N.jsx(oe.StrictMode,{children:N.jsx(qN,{})}));
