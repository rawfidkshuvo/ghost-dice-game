(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Bb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ud={exports:{}},Tl={};var q_;function qb(){if(q_)return Tl;q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Tl.Fragment=t,Tl.jsx=i,Tl.jsxs=i,Tl}var H_;function Hb(){return H_||(H_=1,Ud.exports=qb()),Ud.exports}var S=Hb(),Pd={exports:{}},At={};var G_;function Gb(){if(G_)return At;G_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,tt={};function mt(O,Y,st){this.props=O,this.context=Y,this.refs=tt,this.updater=st||et}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function bt(){}bt.prototype=mt.prototype;function gt(O,Y,st){this.props=O,this.context=Y,this.refs=tt,this.updater=st||et}var Bt=gt.prototype=new bt;Bt.constructor=gt,rt(Bt,mt.prototype),Bt.isPureReactComponent=!0;var $t=Array.isArray;function Dt(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,Y,st){var at=st.ref;return{$$typeof:s,type:O,key:Y,ref:at!==void 0?at:null,props:st}}function V(O,Y){return I(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return Y[st]})}var R=/\/+/g;function ie(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Dt,Dt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,st,at,ft){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var J=!1;if(O===null)J=!0;else switch(St){case"bigint":case"string":case"number":J=!0;break;case"object":switch(O.$$typeof){case s:case t:J=!0;break;case b:return J=O._init,G(J(O._payload),Y,st,at,ft)}}if(J)return ft=ft(O),J=at===""?"."+ie(O,0):at,$t(ft)?(st="",J!=null&&(st=J.replace(R,"$&/")+"/"),G(ft,Y,st,"",function(Ct){return Ct})):ft!=null&&(N(ft)&&(ft=V(ft,st+(ft.key==null||O&&O.key===ft.key?"":(""+ft.key).replace(R,"$&/")+"/")+J)),Y.push(ft)),1;J=0;var W=at===""?".":at+":";if($t(O))for(var Z=0;Z<O.length;Z++)at=O[Z],St=W+ie(at,Z),J+=G(at,Y,st,St,ft);else if(Z=H(O),typeof Z=="function")for(O=Z.call(O),Z=0;!(at=O.next()).done;)at=at.value,St=W+ie(at,Z++),J+=G(at,Y,st,St,ft);else if(St==="object"){if(typeof O.then=="function")return G(ye(O),Y,st,at,ft);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return J}function it(O,Y,st){if(O==null)return O;var at=[],ft=0;return G(O,at,"","",function(St){return Y.call(st,St,ft++)}),at}function ht(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ot=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:it,forEach:function(O,Y,st){it(O,function(){Y.apply(this,arguments)},st)},count:function(O){var Y=0;return it(O,function(){Y++}),Y},toArray:function(O){return it(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=A,At.Children=qt,At.Component=mt,At.Fragment=i,At.Profiler=l,At.PureComponent=gt,At.StrictMode=a,At.Suspense=g,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,Y,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=rt({},O.props),ft=O.key;if(Y!=null)for(St in Y.key!==void 0&&(ft=""+Y.key),Y)!w.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(at[St]=Y[St]);var St=arguments.length-2;if(St===1)at.children=st;else if(1<St){for(var J=Array(St),W=0;W<St;W++)J[W]=arguments[W+2];at.children=J}return I(O.type,ft,at)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,Y,st){var at,ft={},St=null;if(Y!=null)for(at in Y.key!==void 0&&(St=""+Y.key),Y)w.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(ft[at]=Y[at]);var J=arguments.length-2;if(J===1)ft.children=st;else if(1<J){for(var W=Array(J),Z=0;Z<J;Z++)W[Z]=arguments[Z+2];ft.children=W}if(O&&O.defaultProps)for(at in J=O.defaultProps,J)ft[at]===void 0&&(ft[at]=J[at]);return I(O,St,ft)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:y,render:O}},At.isValidElement=N,At.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ht}},At.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},At.startTransition=function(O){var Y=x.T,st={};x.T=st;try{var at=O(),ft=x.S;ft!==null&&ft(st,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Dt,Ot)}catch(St){Ot(St)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),x.T=Y}},At.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},At.use=function(O){return x.H.use(O)},At.useActionState=function(O,Y,st){return x.H.useActionState(O,Y,st)},At.useCallback=function(O,Y){return x.H.useCallback(O,Y)},At.useContext=function(O){return x.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,Y){return x.H.useDeferredValue(O,Y)},At.useEffect=function(O,Y){return x.H.useEffect(O,Y)},At.useEffectEvent=function(O){return x.H.useEffectEvent(O)},At.useId=function(){return x.H.useId()},At.useImperativeHandle=function(O,Y,st){return x.H.useImperativeHandle(O,Y,st)},At.useInsertionEffect=function(O,Y){return x.H.useInsertionEffect(O,Y)},At.useLayoutEffect=function(O,Y){return x.H.useLayoutEffect(O,Y)},At.useMemo=function(O,Y){return x.H.useMemo(O,Y)},At.useOptimistic=function(O,Y){return x.H.useOptimistic(O,Y)},At.useReducer=function(O,Y,st){return x.H.useReducer(O,Y,st)},At.useRef=function(O){return x.H.useRef(O)},At.useState=function(O){return x.H.useState(O)},At.useSyncExternalStore=function(O,Y,st){return x.H.useSyncExternalStore(O,Y,st)},At.useTransition=function(){return x.H.useTransition()},At.version="19.2.3",At}var F_;function Nm(){return F_||(F_=1,Pd.exports=Gb()),Pd.exports}var re=Nm();const Oc=Bb(re);var jd={exports:{}},bl={},Bd={exports:{}},qd={};var Q_;function Fb(){return Q_||(Q_=1,(function(s){function t(G,it){var ht=G.length;G.push(it);t:for(;0<ht;){var Ot=ht-1>>>1,qt=G[Ot];if(0<l(qt,it))G[Ot]=it,G[ht]=qt,ht=Ot;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ht=G.pop();if(ht!==it){G[0]=ht;t:for(var Ot=0,qt=G.length,O=qt>>>1;Ot<O;){var Y=2*(Ot+1)-1,st=G[Y],at=Y+1,ft=G[at];if(0>l(st,ht))at<qt&&0>l(ft,st)?(G[Ot]=ft,G[at]=ht,Ot=at):(G[Ot]=st,G[Y]=ht,Ot=Y);else if(at<qt&&0>l(ft,ht))G[Ot]=ft,G[at]=ht,Ot=at;else break t}}return it}function l(G,it){var ht=G.sortIndex-it.sortIndex;return ht!==0?ht:G.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var g=[],_=[],b=1,A=null,M=3,H=!1,et=!1,rt=!1,tt=!1,mt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Bt(G){for(var it=i(_);it!==null;){if(it.callback===null)a(_);else if(it.startTime<=G)a(_),it.sortIndex=it.expirationTime,t(g,it);else break;it=i(_)}}function $t(G){if(rt=!1,Bt(G),!et)if(i(g)!==null)et=!0,Dt||(Dt=!0,k());else{var it=i(_);it!==null&&ye($t,it.startTime-G)}}var Dt=!1,x=-1,w=5,I=-1;function V(){return tt?!0:!(s.unstable_now()-I<w)}function N(){if(tt=!1,Dt){var G=s.unstable_now();I=G;var it=!0;try{t:{et=!1,rt&&(rt=!1,bt(x),x=-1),H=!0;var ht=M;try{e:{for(Bt(G),A=i(g);A!==null&&!(A.expirationTime>G&&V());){var Ot=A.callback;if(typeof Ot=="function"){A.callback=null,M=A.priorityLevel;var qt=Ot(A.expirationTime<=G);if(G=s.unstable_now(),typeof qt=="function"){A.callback=qt,Bt(G),it=!0;break e}A===i(g)&&a(g),Bt(G)}else a(g);A=i(g)}if(A!==null)it=!0;else{var O=i(_);O!==null&&ye($t,O.startTime-G),it=!1}}break t}finally{A=null,M=ht,H=!1}it=void 0}}finally{it?k():Dt=!1}}}var k;if(typeof gt=="function")k=function(){gt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=N,k=function(){ie.postMessage(null)}}else k=function(){mt(N,0)};function ye(G,it){x=mt(function(){G(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var ht=M;M=it;try{return G()}finally{M=ht}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=M;M=G;try{return it()}finally{M=ht}},s.unstable_scheduleCallback=function(G,it,ht){var Ot=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ot+ht:Ot):ht=Ot,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ht+qt,G={id:b++,callback:it,priorityLevel:G,startTime:ht,expirationTime:qt,sortIndex:-1},ht>Ot?(G.sortIndex=ht,t(_,G),i(g)===null&&G===i(_)&&(rt?(bt(x),x=-1):rt=!0,ye($t,ht-Ot))):(G.sortIndex=qt,t(g,G),et||H||(et=!0,Dt||(Dt=!0,k()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var it=M;return function(){var ht=M;M=it;try{return G.apply(this,arguments)}finally{M=ht}}}})(qd)),qd}var Y_;function Qb(){return Y_||(Y_=1,Bd.exports=Fb()),Bd.exports}var Hd={exports:{}},an={};var K_;function Yb(){if(K_)return an;K_=1;var s=Nm();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,b)},an.flushSync=function(g){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=b,a.d.f()}},an.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},an.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},an.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var b=_.as,A=y(b,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:H}):b==="script"&&a.d.X(g,{crossOrigin:A,integrity:M,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},an.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},an.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=y(b,_.crossOrigin);a.d.L(g,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},an.preloadModule=function(g,_){if(typeof g=="string")if(_){var b=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},an.requestFormReset=function(g){a.d.r(g)},an.unstable_batchedUpdates=function(g,_){return g(_)},an.useFormState=function(g,_,b){return d.H.useFormState(g,_,b)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var X_;function Kb(){if(X_)return Hd.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Hd.exports=Yb(),Hd.exports}var $_;function Xb(){if($_)return bl;$_=1;var s=Qb(),t=Nm(),i=Kb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rt:return"Fragment";case mt:return"Profiler";case tt:return"StrictMode";case $t:return"Suspense";case Dt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case gt:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var ye=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ot=[],qt=-1;function O(e){return{current:e}}function Y(e){0>qt||(e.current=Ot[qt],Ot[qt]=null,qt--)}function st(e,n){qt++,Ot[qt]=e.current,e.current=n}var at=O(null),ft=O(null),St=O(null),J=O(null);function W(e,n){switch(st(St,n),st(ft,e),st(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?h_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=h_(n),e=f_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),st(at,e)}function Z(){Y(at),Y(ft),Y(St)}function Ct(e){e.memoizedState!==null&&st(J,e);var n=at.current,r=f_(n,e.type);n!==r&&(st(ft,e),st(at,r))}function Pe(e){ft.current===e&&(Y(at),Y(ft)),J.current===e&&(Y(J),yl._currentValue=ht)}var ke,sn;function Fe(e){if(ke===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ke=n&&n[1]||"",sn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+e+sn}var fi=!1;function ee(e,n){if(!e||fi)return"";fi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),P=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{fi=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Fe(r):""}function hn(e,n){switch(e.tag){case 26:case 27:case 5:return Fe(e.type);case 16:return Fe("Lazy");case 13:return e.child!==n&&n!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Fe("Activity");default:return""}}function Qe(e){try{var n="",r=null;do n+=hn(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var se=Object.prototype.hasOwnProperty,de=s.unstable_scheduleCallback,di=s.unstable_cancelCallback,Er=s.unstable_shouldYield,mi=s.unstable_requestPaint,_e=s.unstable_now,rn=s.unstable_getCurrentPriorityLevel,Eo=s.unstable_ImmediatePriority,To=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,jh=s.unstable_LowPriority,su=s.unstable_IdlePriority,ru=s.log,au=s.unstable_setDisableYieldValue,Jn=null,Ye=null;function zn(e){if(typeof ru=="function"&&au(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Jn,e)}catch{}}var ve=Math.clz32?Math.clz32:lu,ou=Math.log,ia=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/ia|0)|0}var gi=256,Tr=262144,we=4194304;function pi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yi(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=pi(o):(p&=E,p!==0?h=pi(p):r||(r=E&~e,r!==0&&(h=pi(r))))):(E=o&~f,E!==0?h=pi(E):p!==0?h=pi(p):r||(r=o&~e,r!==0&&(h=pi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function _i(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function br(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(r=p&~r;0<r;){var F=31-ve(r),K=1<<F;E[F]=0,C[F]=-1;var j=P[F];if(j!==null)for(P[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}r&=~K}o!==0&&Ar(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Ar(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function bo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ve(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Ao(e,n){var r=n&-n;return r=(r&42)!==0?1:Sr(r),(r&(e.suspendedLanes|n))!==0?0:r}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:k_(e.type))}function ti(e,n){var r=it.p;try{return it.p=e,n()}finally{it.p=r}}var ei=Math.random().toString(36).slice(2),Re="__reactFiber$"+ei,je="__reactProps$"+ei,vi="__reactContainer$"+ei,sa="__reactEvents$"+ei,Hh="__reactListeners$"+ei,hu="__reactHandles$"+ei,fu="__reactResources$"+ei,Ei="__reactMarker$"+ei;function ra(e){delete e[Re],delete e[je],delete e[sa],delete e[Hh],delete e[hu]}function Ti(e){var n=e[Re];if(n)return n;for(var r=e.parentNode;r;){if(n=r[vi]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=v_(e);e!==null;){if(r=e[Re])return r;e=v_(e)}return n}e=r,r=e.parentNode}return null}function Ln(e){if(e=e[Re]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function bi(e){var n=e[fu];return n||(n=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[Ei]=!0}var So=new Set,wo={};function Ai(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(wo[e]=n,e=0;e<n.length;e++)So.add(n[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function du(e){return se.call(Co,e)?!0:se.call(Io,e)?!1:Ro.test(e)?Co[e]=!0:(Io[e]=!0,!1)}function aa(e,n,r){if(du(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Sn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ce(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ts(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=Ts(e)?"checked":"value";e._valueTracker=xo(e,n,""+e[n])}}function wr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Ts(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function gn(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?No(e,p,Be(n)):r!=null?No(e,p,Be(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function mu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}r=r!=null?""+Be(r):"",n=n!=null?""+Be(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Yt(e)}function No(e,n,r){n==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bs(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Be(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function gu(e,n,r){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Be(r):""}function As(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ye(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Be(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Yt(e)}function pn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||pu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Oo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Do(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return Ss.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var Mo=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ws=null,Ri=null;function Ir(e){var n=Ln(e);if(n&&(e=n.stateNode)){var r=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&wr(o)}break t;case"textarea":gu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&bs(e,!!r.multiple,n,!1)}}}var ca=!1;function Rs(e,n,r){if(ca)return e(n,r);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(ws!==null||Ri!==null)&&(cc(),ws&&(n=ws,e=Ri,Ri=ws=null,Ir(n),e)))for(n=0;n<e.length;n++)Ir(e[n])}}function ii(e,n){var r=e.stateNode;if(r===null)return null;var o=r[je]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Pn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Cr=!1}var Ii=null,Vo=null,xr=null;function ko(){if(xr)return xr;var e,n=Vo,r=n.length,o,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return xr=h.slice(e,1<o?1-o:void 0)}function Nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function si(){return!1}function Ke(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:si,this.isPropagationStopped=si,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ke(Qi),Is=A({},Qi,{view:0,detail:0}),zo=Ke(Is),Cs,ha,xi,fa=A({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Cs=e.screenX-xi.screenX,ha=e.screenY-xi.screenY):ha=Cs=0,xi=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Lo=Ke(fa),Dr=A({},fa,{dataTransfer:0}),_u=Ke(Dr),vu=A({},Is,{relatedTarget:0}),Or=Ke(vu),Uo=A({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Ke(Uo),da=A({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=Ke(da),bu=A({},Qi,{data:0}),Ni=Ke(bu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wu[e])?!!n[e]:!1}function xs(){return Ru}var fn=A({},Is,{key:function(e){if(e.key){var n=Au[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=Ke(fn),Cu=A({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ke(Cu),u=A({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),m=Ke(u),v=A({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ke(v),L=A({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ke(L),nt=A({},Qi,{newState:0,oldState:0}),wt=Ke(nt),Ee=[9,13,27,32],Ft=Pn&&"CompositionEvent"in window,ce=null;Pn&&"documentMode"in document&&(ce=document.documentMode);var jn=Pn&&"TextEvent"in window&&!ce,Di=Pn&&(!Ft||ce&&8<ce&&11>=ce),ri=" ",ai=!1;function Mr(e,n){switch(e){case"keyup":return Ee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function h1(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return e=n.data,e===ri&&ai?null:e;default:return null}}function f1(e,n){if(ga)return e==="compositionend"||!Ft&&Mr(e,n)?(e=ko(),xr=Vo=Ii=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var d1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!d1[e.type]:n==="textarea"}function Ag(e,n,r,o){ws?Ri?Ri.push(o):Ri=[o]:ws=o,n=yc(n,"onChange"),0<n.length&&(r=new Ci("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Po=null,jo=null;function m1(e){r_(e,0)}function xu(e){var n=An(e);if(wr(n))return e}function Sg(e,n){if(e==="change")return n}var wg=!1;if(Pn){var Gh;if(Pn){var Fh="oninput"in document;if(!Fh){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Fh=typeof Rg.oninput=="function"}Gh=Fh}else Gh=!1;wg=Gh&&(!document.documentMode||9<document.documentMode)}function Ig(){Po&&(Po.detachEvent("onpropertychange",Cg),jo=Po=null)}function Cg(e){if(e.propertyName==="value"&&xu(jo)){var n=[];Ag(n,jo,e,Un(e)),Rs(m1,n)}}function g1(e,n,r){e==="focusin"?(Ig(),Po=n,jo=r,Po.attachEvent("onpropertychange",Cg)):e==="focusout"&&Ig()}function p1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(jo)}function y1(e,n){if(e==="click")return xu(n)}function _1(e,n){if(e==="input"||e==="change")return xu(n)}function v1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:v1;function Bo(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!se.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function xg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ng(e,n){var r=xg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=xg(r)}}function Dg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Dg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=wi(e.document)}return n}function Qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var E1=Pn&&"documentMode"in document&&11>=document.documentMode,pa=null,Yh=null,qo=null,Kh=!1;function Mg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kh||pa==null||pa!==wi(o)||(o=pa,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=yc(Yh,"onSelect"),0<o.length&&(n=new Ci("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=pa)))}function Vr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ya={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Xh={},Vg={};Pn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function kr(e){if(Xh[e])return Xh[e];if(!ya[e])return e;var n=ya[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vg)return Xh[e]=n[r];return e}var kg=kr("animationend"),zg=kr("animationiteration"),Lg=kr("animationstart"),T1=kr("transitionrun"),b1=kr("transitionstart"),A1=kr("transitioncancel"),Ug=kr("transitionend"),Pg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function oi(e,n){Pg.set(e,n),Ai(n,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],_a=0,Zh=0;function Du(){for(var e=_a,n=Zh=_a=0;n<e;){var r=Bn[n];Bn[n++]=null;var o=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&jg(r,h,f)}}function Ou(e,n,r,o){Bn[_a++]=e,Bn[_a++]=n,Bn[_a++]=r,Bn[_a++]=o,Zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Jh(e,n,r,o){return Ou(e,n,r,o),Mu(e)}function zr(e,n){return Ou(e,null,null,n),Mu(e)}function jg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ve(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Mu(e){if(50<cl)throw cl=0,ld=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function S1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,r,o){return new S1(e,n,r,o)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var r=e.alternate;return r===null?(r=Rn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Bg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Wh(e)&&(p=1);else if(typeof e=="string")p=xb(e,r,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Rn(31,r,n,h),e.elementType=I,e.lanes=f,e;case rt:return Lr(r.children,h,f,n);case tt:p=8,h|=24;break;case mt:return e=Rn(12,r,n,h|2),e.elementType=mt,e.lanes=f,e;case $t:return e=Rn(13,r,n,h),e.elementType=$t,e.lanes=f,e;case Dt:return e=Rn(19,r,n,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:p=10;break t;case bt:p=9;break t;case Bt:p=11;break t;case x:p=14;break t;case w:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Rn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Lr(e,n,r,o){return e=Rn(7,e,o,n),e.lanes=r,e}function tf(e,n,r){return e=Rn(6,e,null,n),e.lanes=r,e}function qg(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function ef(e,n,r){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Hg=new WeakMap;function qn(e,n){if(typeof e=="object"&&e!==null){var r=Hg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Qe(n)},Hg.set(e,n),n)}return{value:e,source:n,stack:Qe(n)}}var Ea=[],Ta=0,ku=null,Ho=0,Hn=[],Gn=0,Ns=null,Oi=1,Mi="";function Xi(e,n){Ea[Ta++]=Ho,Ea[Ta++]=ku,ku=e,Ho=n}function Gg(e,n,r){Hn[Gn++]=Oi,Hn[Gn++]=Mi,Hn[Gn++]=Ns,Ns=e;var o=Oi;e=Mi;var h=32-ve(o)-1;o&=~(1<<h),r+=1;var f=32-ve(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Oi=1<<32-ve(n)+h|r<<h|o,Mi=f+e}else Oi=1<<f|r<<h|o,Mi=e}function nf(e){e.return!==null&&(Xi(e,1),Gg(e,1,0))}function sf(e){for(;e===ku;)ku=Ea[--Ta],Ea[Ta]=null,Ho=Ea[--Ta],Ea[Ta]=null;for(;e===Ns;)Ns=Hn[--Gn],Hn[Gn]=null,Mi=Hn[--Gn],Hn[Gn]=null,Oi=Hn[--Gn],Hn[Gn]=null}function Fg(e,n){Hn[Gn++]=Oi,Hn[Gn++]=Mi,Hn[Gn++]=Ns,Oi=n.id,Mi=n.overflow,Ns=e}var Xe=null,ae=null,Ut=!1,Ds=null,Fn=!1,rf=Error(a(519));function Os(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(qn(n,e)),rf}function Qg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Re]=e,n[je]=o,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<fl.length;r++)Nt(fl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),As(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||u_(n.textContent,r)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Os(e,!0)}function Yg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Xe=Xe.return}}function ba(e){if(e!==Xe)return!1;if(!Ut)return Yg(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Ad(e.type,e.memoizedProps)),r=!r),r&&ae&&Os(e),Yg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=__(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=__(e)}else n===27?(n=ae,Qs(e.type)?(e=Cd,Cd=null,ae=e):ae=n):ae=Xe?Yn(e.stateNode.nextSibling):null;return!0}function Ur(){ae=Xe=null,Ut=!1}function af(){var e=Ds;return e!==null&&(En===null?En=e:En.push.apply(En,e),Ds=null),e}function Go(e){Ds===null?Ds=[e]:Ds.push(e)}var of=O(null),Pr=null,$i=null;function Ms(e,n,r){st(of,n._currentValue),n._currentValue=r}function Zi(e){e._currentValue=of.current,Y(of)}function lf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function uf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),lf(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),lf(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Aa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;wn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===J.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&uf(n,e,r,o),n.flags|=262144}function zu(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){Pr=e,$i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Kg(Pr,e)}function Lu(e,n){return Pr===null&&jr(e),Kg(e,n)}function Kg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},$i===null){if(e===null)throw Error(a(308));$i=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else $i=$i.next=n;return r}var w1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},R1=s.unstable_scheduleCallback,I1=s.unstable_NormalPriority,xe={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new w1,data:new Map,refCount:0}}function Fo(e){e.refCount--,e.refCount===0&&R1(I1,function(){e.controller.abort()})}var Qo=null,hf=0,Sa=0,wa=null;function C1(e,n){if(Qo===null){var r=Qo=[];hf=0,Sa=md(),wa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return hf++,n.then(Xg,Xg),n}function Xg(){if(--hf===0&&Qo!==null){wa!==null&&(wa.status="fulfilled");var e=Qo;Qo=null,Sa=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function x1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var $g=G.S;G.S=function(e,n){My=_e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&C1(e,n),$g!==null&&$g(e,n)};var Br=O(null);function ff(){var e=Br.current;return e!==null?e:ne.pooledCache}function Uu(e,n){n===null?st(Br,Br.current):st(Br,n.pool)}function Zg(){var e=ff();return e===null?null:{parent:xe._currentValue,pool:e}}var Ra=Error(a(460)),df=Error(a(474)),Pu=Error(a(542)),ju={then:function(){}};function Jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ni,ni),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ep(e),e;default:if(typeof n.status=="string")n.then(ni,ni);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ep(e),e}throw Hr=n,Ra}}function qr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Hr=r,Ra):r}}var Hr=null;function tp(){if(Hr===null)throw Error(a(459));var e=Hr;return Hr=null,e}function ep(e){if(e===Ra||e===Pu)throw Error(a(483))}var Ia=null,Yo=0;function Bu(e){var n=Yo;return Yo+=1,Ia===null&&(Ia=[]),Wg(Ia,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function np(e){function n(z,D){if(e){var U=z.deletions;U===null?(z.deletions=[D],z.flags|=16):U.push(D)}}function r(z,D){if(!e)return null;for(;D!==null;)n(z,D),D=D.sibling;return null}function o(z){for(var D=new Map;z!==null;)z.key!==null?D.set(z.key,z):D.set(z.index,z),z=z.sibling;return D}function h(z,D){return z=Ki(z,D),z.index=0,z.sibling=null,z}function f(z,D,U){return z.index=U,e?(U=z.alternate,U!==null?(U=U.index,U<D?(z.flags|=67108866,D):U):(z.flags|=67108866,D)):(z.flags|=1048576,D)}function p(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function E(z,D,U,Q){return D===null||D.tag!==6?(D=tf(U,z.mode,Q),D.return=z,D):(D=h(D,U),D.return=z,D)}function C(z,D,U,Q){var dt=U.type;return dt===rt?F(z,D,U.props.children,Q,U.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&qr(dt)===D.type)?(D=h(D,U.props),Ko(D,U),D.return=z,D):(D=Vu(U.type,U.key,U.props,null,z.mode,Q),Ko(D,U),D.return=z,D)}function P(z,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=ef(U,z.mode,Q),D.return=z,D):(D=h(D,U.children||[]),D.return=z,D)}function F(z,D,U,Q,dt){return D===null||D.tag!==7?(D=Lr(U,z.mode,Q,dt),D.return=z,D):(D=h(D,U),D.return=z,D)}function K(z,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=tf(""+D,z.mode,U),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return U=Vu(D.type,D.key,D.props,null,z.mode,U),Ko(U,D),U.return=z,U;case et:return D=ef(D,z.mode,U),D.return=z,D;case w:return D=qr(D),K(z,D,U)}if(ye(D)||k(D))return D=Lr(D,z.mode,U,null),D.return=z,D;if(typeof D.then=="function")return K(z,Bu(D),U);if(D.$$typeof===gt)return K(z,Lu(z,D),U);qu(z,D)}return null}function j(z,D,U,Q){var dt=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return dt!==null?null:E(z,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===dt?C(z,D,U,Q):null;case et:return U.key===dt?P(z,D,U,Q):null;case w:return U=qr(U),j(z,D,U,Q)}if(ye(U)||k(U))return dt!==null?null:F(z,D,U,Q,null);if(typeof U.then=="function")return j(z,D,Bu(U),Q);if(U.$$typeof===gt)return j(z,D,Lu(z,U),Q);qu(z,U)}return null}function q(z,D,U,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(U)||null,E(D,z,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return z=z.get(Q.key===null?U:Q.key)||null,C(D,z,Q,dt);case et:return z=z.get(Q.key===null?U:Q.key)||null,P(D,z,Q,dt);case w:return Q=qr(Q),q(z,D,U,Q,dt)}if(ye(Q)||k(Q))return z=z.get(U)||null,F(D,z,Q,dt,null);if(typeof Q.then=="function")return q(z,D,U,Bu(Q),dt);if(Q.$$typeof===gt)return q(z,D,U,Lu(D,Q),dt);qu(D,Q)}return null}function lt(z,D,U,Q){for(var dt=null,Ht=null,ct=D,It=D=0,Vt=null;ct!==null&&It<U.length;It++){ct.index>It?(Vt=ct,ct=null):Vt=ct.sibling;var Gt=j(z,ct,U[It],Q);if(Gt===null){ct===null&&(ct=Vt);break}e&&ct&&Gt.alternate===null&&n(z,ct),D=f(Gt,D,It),Ht===null?dt=Gt:Ht.sibling=Gt,Ht=Gt,ct=Vt}if(It===U.length)return r(z,ct),Ut&&Xi(z,It),dt;if(ct===null){for(;It<U.length;It++)ct=K(z,U[It],Q),ct!==null&&(D=f(ct,D,It),Ht===null?dt=ct:Ht.sibling=ct,Ht=ct);return Ut&&Xi(z,It),dt}for(ct=o(ct);It<U.length;It++)Vt=q(ct,z,It,U[It],Q),Vt!==null&&(e&&Vt.alternate!==null&&ct.delete(Vt.key===null?It:Vt.key),D=f(Vt,D,It),Ht===null?dt=Vt:Ht.sibling=Vt,Ht=Vt);return e&&ct.forEach(function(Zs){return n(z,Zs)}),Ut&&Xi(z,It),dt}function _t(z,D,U,Q){if(U==null)throw Error(a(151));for(var dt=null,Ht=null,ct=D,It=D=0,Vt=null,Gt=U.next();ct!==null&&!Gt.done;It++,Gt=U.next()){ct.index>It?(Vt=ct,ct=null):Vt=ct.sibling;var Zs=j(z,ct,Gt.value,Q);if(Zs===null){ct===null&&(ct=Vt);break}e&&ct&&Zs.alternate===null&&n(z,ct),D=f(Zs,D,It),Ht===null?dt=Zs:Ht.sibling=Zs,Ht=Zs,ct=Vt}if(Gt.done)return r(z,ct),Ut&&Xi(z,It),dt;if(ct===null){for(;!Gt.done;It++,Gt=U.next())Gt=K(z,Gt.value,Q),Gt!==null&&(D=f(Gt,D,It),Ht===null?dt=Gt:Ht.sibling=Gt,Ht=Gt);return Ut&&Xi(z,It),dt}for(ct=o(ct);!Gt.done;It++,Gt=U.next())Gt=q(ct,z,It,Gt.value,Q),Gt!==null&&(e&&Gt.alternate!==null&&ct.delete(Gt.key===null?It:Gt.key),D=f(Gt,D,It),Ht===null?dt=Gt:Ht.sibling=Gt,Ht=Gt);return e&&ct.forEach(function(jb){return n(z,jb)}),Ut&&Xi(z,It),dt}function te(z,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===rt&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:t:{for(var dt=U.key;D!==null;){if(D.key===dt){if(dt=U.type,dt===rt){if(D.tag===7){r(z,D.sibling),Q=h(D,U.props.children),Q.return=z,z=Q;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&qr(dt)===D.type){r(z,D.sibling),Q=h(D,U.props),Ko(Q,U),Q.return=z,z=Q;break t}r(z,D);break}else n(z,D);D=D.sibling}U.type===rt?(Q=Lr(U.props.children,z.mode,Q,U.key),Q.return=z,z=Q):(Q=Vu(U.type,U.key,U.props,null,z.mode,Q),Ko(Q,U),Q.return=z,z=Q)}return p(z);case et:t:{for(dt=U.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(z,D.sibling),Q=h(D,U.children||[]),Q.return=z,z=Q;break t}else{r(z,D);break}else n(z,D);D=D.sibling}Q=ef(U,z.mode,Q),Q.return=z,z=Q}return p(z);case w:return U=qr(U),te(z,D,U,Q)}if(ye(U))return lt(z,D,U,Q);if(k(U)){if(dt=k(U),typeof dt!="function")throw Error(a(150));return U=dt.call(U),_t(z,D,U,Q)}if(typeof U.then=="function")return te(z,D,Bu(U),Q);if(U.$$typeof===gt)return te(z,D,Lu(z,U),Q);qu(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(z,D.sibling),Q=h(D,U),Q.return=z,z=Q):(r(z,D),Q=tf(U,z.mode,Q),Q.return=z,z=Q),p(z)):r(z,D)}return function(z,D,U,Q){try{Yo=0;var dt=te(z,D,U,Q);return Ia=null,dt}catch(ct){if(ct===Ra||ct===Pu)throw ct;var Ht=Rn(29,ct,null,z.mode);return Ht.lanes=Q,Ht.return=z,Ht}}}var Gr=np(!0),ip=np(!1),Vs=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(e),jg(e,null,r),n}return Ou(e,o,n,r),Mu(e)}function Xo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,bo(e,r)}}function pf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var yf=!1;function $o(){if(yf){var e=wa;if(e!==null)throw e}}function Zo(e,n,r,o){yf=!1;var h=e.updateQueue;Vs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,p===null?f=P:p.next=P,p=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;p=0,F=P=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Mt&j)===j:(o&j)===j){j!==0&&j===Sa&&(yf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,_t=E;j=n;var te=r;switch(_t.tag){case 1:if(lt=_t.payload,typeof lt=="function"){K=lt.call(te,K,j);break t}K=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=_t.payload,j=typeof lt=="function"?lt.call(te,K,j):lt,j==null)break t;K=A({},K,j);break t;case 2:Vs=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=q,C=K):F=F.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=K),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Bs|=p,e.lanes=p,e.memoizedState=K}}function sp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function rp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)sp(r[e],n)}var Ca=O(null),Hu=O(0);function ap(e,n){e=as,st(Hu,e),st(Ca,n),as=e|n.baseLanes}function _f(){st(Hu,as),st(Ca,Ca.current)}function vf(){as=Hu.current,Y(Ca),Y(Hu)}var In=O(null),Qn=null;function Ls(e){var n=e.alternate;st(Te,Te.current&1),st(In,e),Qn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Qn=e)}function Ef(e){st(Te,Te.current),st(In,e),Qn===null&&(Qn=e)}function op(e){e.tag===22?(st(Te,Te.current),st(In,e),Qn===null&&(Qn=e)):Us()}function Us(){st(Te,Te.current),st(In,In.current)}function Cn(e){Y(In),Qn===e&&(Qn=null),Y(Te)}var Te=O(0);function Gu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Rd(r)||Id(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,Rt=null,Jt=null,Ne=null,Fu=!1,xa=!1,Fr=!1,Qu=0,Jo=0,Na=null,N1=0;function ge(){throw Error(a(321))}function Tf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!wn(e[r],n[r]))return!1;return!0}function bf(e,n,r,o,h,f){return Ji=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Gp:Lf,Fr=!1,f=r(o,h),Fr=!1,xa&&(f=up(n,r,o,h)),lp(e),f}function lp(e){G.H=el;var n=Jt!==null&&Jt.next!==null;if(Ji=0,Ne=Jt=Rt=null,Fu=!1,Jo=0,Na=null,n)throw Error(a(300));e===null||De||(e=e.dependencies,e!==null&&zu(e)&&(De=!0))}function up(e,n,r,o){Rt=e;var h=0;do{if(xa&&(Na=null),Jo=0,xa=!1,25<=h)throw Error(a(301));if(h+=1,Ne=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Fp,f=n(r,o)}while(xa);return f}function D1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Af(){var e=Qu!==0;return Qu=0,e}function Sf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function wf(e){if(Fu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fu=!1}Ji=0,Ne=Jt=Rt=null,xa=!1,Jo=Qu=0,Na=null}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Rt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function be(){if(Jt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ne===null?Rt.memoizedState:Ne.next;if(n!==null)Ne=n,Jt=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ne===null?Rt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=Jo;return Jo+=1,Na===null&&(Na=[]),e=Wg(Na,e,n),n=Rt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Gp:Lf),e}function Ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===gt)return $e(e)}throw Error(a(438,String(e)))}function Rf(e){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Yu(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Wi(e,n){return typeof n=="function"?n(e):n}function Xu(e){var n=be();return If(n,Jt,e)}function If(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,C=null,P=n,F=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Mt&K)===K:(Ji&K)===K){var j=P.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Sa&&(F=!0);else if((Ji&j)===j){P=P.next,j===Sa&&(F=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=K,p=f):C=C.next=K,Rt.lanes|=j,Bs|=j;K=P.action,Fr&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else j={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=j,p=f):C=C.next=j,Rt.lanes|=K,Bs|=K;P=P.next}while(P!==null&&P!==n);if(C===null?p=f:C.next=E,!wn(f,e.memoizedState)&&(De=!0,F&&(r=wa,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Cf(e){var n=be(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);wn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function cp(e,n,r){var o=Rt,h=be(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!wn((Jt||h).memoizedState,r);if(p&&(h.memoizedState=r,De=!0),h=h.queue,Df(dp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},fp.bind(null,o,h,r,n),null),ne===null)throw Error(a(349));f||(Ji&127)!==0||hp(o,n,r)}return r}function hp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Yu(),Rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function fp(e,n,r,o){n.value=r,n.getSnapshot=o,mp(n)&&gp(e)}function dp(e,n,r){return r(function(){mp(n)&&gp(e)})}function mp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!wn(e,r)}catch{return!0}}function gp(e){var n=zr(e,2);n!==null&&Tn(n,e,2)}function xf(e){var n=dn();if(typeof e=="function"){var r=e;if(e=r(),Fr){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},n}function pp(e,n,r,o){return e.baseState=r,If(e,Jt,typeof o=="function"?o:Wi)}function O1(e,n,r,o,h){if(Ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,yp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function yp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=r(h,o),C=G.S;C!==null&&C(p,E),_p(e,n,E)}catch(P){Nf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,o),_p(e,n,f)}catch(P){Nf(e,n,P)}}function _p(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){vp(e,n,o)},function(o){return Nf(e,n,o)}):vp(e,n,r)}function vp(e,n,r){n.status="fulfilled",n.value=r,Ep(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,yp(e,r)))}function Nf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ep(n),n=n.next;while(n!==o)}e.action=null}function Ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Tp(e,n){return n}function bp(e,n){if(Ut){var r=ne.formState;if(r!==null){t:{var o=Rt;if(Ut){if(ae){e:{for(var h=ae,f=Fn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Yn(h.nextSibling),o=h.data==="F!";break t}}Os(o)}o=!1}o&&(n=r[0])}}return r=dn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:n},r.queue=o,r=Bp.bind(null,Rt,o),o.dispatch=r,o=xf(!1),f=zf.bind(null,Rt,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=O1.bind(null,Rt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Ap(e){var n=be();return Sp(n,Jt,e)}function Sp(e,n,r){if(n=If(e,n,Tp)[0],e=Xu(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(p){throw p===Ra?Pu:p}else o=n;n=be();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Da(9,{destroy:void 0},M1.bind(null,h,r),null)),[o,f,e]}function M1(e,n){e.action=n}function wp(e){var n=be(),r=Jt;if(r!==null)return Sp(n,r,e);be(),n=n.memoizedState,r=be();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Da(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Yu(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Rp(){return be().memoizedState}function $u(e,n,r,o){var h=dn();Rt.flags|=e,h.memoizedState=Da(1|n,{destroy:void 0},r,o===void 0?null:o)}function Zu(e,n,r,o){var h=be();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&Tf(o,Jt.memoizedState.deps)?h.memoizedState=Da(n,f,r,o):(Rt.flags|=e,h.memoizedState=Da(1|n,f,r,o))}function Ip(e,n){$u(8390656,8,e,n)}function Df(e,n){Zu(2048,8,e,n)}function V1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Yu(),Rt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Cp(e){var n=be().memoizedState;return V1({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function xp(e,n){return Zu(4,2,e,n)}function Np(e,n){return Zu(4,4,e,n)}function Dp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Op(e,n,r){r=r!=null?r.concat([e]):null,Zu(4,4,Dp.bind(null,n,e),r)}function Of(){}function Mp(e,n){var r=be();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Vp(e,n){var r=be();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=e(),Fr){zn(!0);try{e()}finally{zn(!1)}}return r.memoizedState=[o,n],o}function Mf(e,n,r){return r===void 0||(Ji&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=ky(),Rt.lanes|=e,Bs|=e,r)}function kp(e,n,r,o){return wn(r,n)?r:Ca.current!==null?(e=Mf(e,r,o),wn(e,n)||(De=!0),e):(Ji&42)===0||(Ji&1073741824)!==0&&(Mt&261930)===0?(De=!0,e.memoizedState=r):(e=ky(),Rt.lanes|=e,Bs|=e,n)}function zp(e,n,r,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,zf(e,!1,n,r);try{var C=h(),P=G.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=x1(C,o);tl(e,n,F,Dn(e))}else tl(e,n,o,Dn(e))}catch(K){tl(e,n,{then:function(){},status:"rejected",reason:K},Dn())}finally{it.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function k1(){}function Vf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Lp(e).queue;zp(e,h,n,ht,r===null?k1:function(){return Up(e),r(o)})}function Lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Up(e){var n=Lp(e);n.next===null&&(n=e.alternate.memoizedState),tl(e,n.next.queue,{},Dn())}function kf(){return $e(yl)}function Pp(){return be().memoizedState}function jp(){return be().memoizedState}function z1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();e=ks(r);var o=zs(n,e,r);o!==null&&(Tn(o,n,r),Xo(o,n,r)),n={cache:cf()},e.payload=n;return}n=n.return}}function L1(e,n,r){var o=Dn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ju(e)?qp(n,r):(r=Jh(e,n,r,o),r!==null&&(Tn(r,e,o),Hp(r,n,o)))}function Bp(e,n,r){var o=Dn();tl(e,n,r,o)}function tl(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))qp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,wn(E,p))return Ou(e,n,h,0),ne===null&&Du(),!1}catch{}if(r=Jh(e,n,h,o),r!==null)return Tn(r,e,o),Hp(r,n,o),!0}return!1}function zf(e,n,r,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(n)throw Error(a(479))}else n=Jh(e,r,o,2),n!==null&&Tn(n,e,2)}function Ju(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function qp(e,n){xa=Fu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Hp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,bo(e,r)}}var el={readContext:$e,use:Ku,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};el.useEffectEvent=ge;var Gp={readContext:$e,use:Ku,useCallback:function(e,n){return dn().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:Ip,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,$u(4194308,4,Dp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return $u(4194308,4,e,n)},useInsertionEffect:function(e,n){$u(4,2,e,n)},useMemo:function(e,n){var r=dn();n=n===void 0?null:n;var o=e();if(Fr){zn(!0);try{e()}finally{zn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=dn();if(r!==void 0){var h=r(n);if(Fr){zn(!0);try{r(n)}finally{zn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=L1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=dn();return e={current:e},n.memoizedState=e},useState:function(e){e=xf(e);var n=e.queue,r=Bp.bind(null,Rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Of,useDeferredValue:function(e,n){var r=dn();return Mf(r,e,n)},useTransition:function(){var e=xf(!1);return e=zp.bind(null,Rt,e.queue,!0,!1),dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Rt,h=dn();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ne===null)throw Error(a(349));(Mt&127)!==0||hp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ip(dp.bind(null,o,f,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},fp.bind(null,o,f,r,n),null),r},useId:function(){var e=dn(),n=ne.identifierPrefix;if(Ut){var r=Mi,o=Oi;r=(o&~(1<<32-ve(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=N1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:kf,useFormState:bp,useActionState:bp,useOptimistic:function(e){var n=dn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=zf.bind(null,Rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:Rf,useCacheRefresh:function(){return dn().memoizedState=z1.bind(null,Rt)},useEffectEvent:function(e){var n=dn(),r={impl:e};return n.memoizedState=r,function(){if((Qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Lf={readContext:$e,use:Ku,useCallback:Mp,useContext:$e,useEffect:Df,useImperativeHandle:Op,useInsertionEffect:xp,useLayoutEffect:Np,useMemo:Vp,useReducer:Xu,useRef:Rp,useState:function(){return Xu(Wi)},useDebugValue:Of,useDeferredValue:function(e,n){var r=be();return kp(r,Jt.memoizedState,e,n)},useTransition:function(){var e=Xu(Wi)[0],n=be().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:kf,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,n){var r=be();return pp(r,Jt,e,n)},useMemoCache:Rf,useCacheRefresh:jp};Lf.useEffectEvent=Cp;var Fp={readContext:$e,use:Ku,useCallback:Mp,useContext:$e,useEffect:Df,useImperativeHandle:Op,useInsertionEffect:xp,useLayoutEffect:Np,useMemo:Vp,useReducer:Cf,useRef:Rp,useState:function(){return Cf(Wi)},useDebugValue:Of,useDeferredValue:function(e,n){var r=be();return Jt===null?Mf(r,e,n):kp(r,Jt.memoizedState,e,n)},useTransition:function(){var e=Cf(Wi)[0],n=be().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:kf,useFormState:wp,useActionState:wp,useOptimistic:function(e,n){var r=be();return Jt!==null?pp(r,Jt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:jp};Fp.useEffectEvent=Cp;function Uf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Pf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Dn(),h=ks(o);h.payload=n,r!=null&&(h.callback=r),n=zs(e,h,o),n!==null&&(Tn(n,e,o),Xo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Dn(),h=ks(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=zs(e,h,o),n!==null&&(Tn(n,e,o),Xo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Dn(),o=ks(r);o.tag=2,n!=null&&(o.callback=n),n=zs(e,o,r),n!==null&&(Tn(n,e,r),Xo(n,e,r))}};function Qp(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Bo(r,o)||!Bo(h,f):!0}function Yp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Pf.enqueueReplaceState(n,n.state,null)}function Qr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Kp(e){Nu(e)}function Xp(e){console.error(e)}function $p(e){Nu(e)}function Wu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Zp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,n,r){return r=ks(r),r.tag=3,r.payload={element:null},r.callback=function(){Wu(e,n)},r}function Jp(e){return e=ks(e),e.tag=3,e}function Wp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Zp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Zp(n,r,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function U1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Aa(n,r,h,!0),r=In.current,r!==null){switch(r.tag){case 31:case 13:return Qn===null?hc():r.alternate===null&&pe===0&&(pe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),hd(e,o,h)),!1;case 22:return r.flags|=65536,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),hd(e,o,h)),!1}throw Error(a(435,r.tag))}return hd(e,o,h),hc(),!1}if(Ut)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(e=Error(a(422),{cause:o}),Go(qn(e,r)))):(o!==rf&&(n=Error(a(423),{cause:o}),Go(qn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=qn(o,r),h=jf(e.stateNode,o,h),pf(e,h),pe!==4&&(pe=2)),!1;var f=Error(a(520),{cause:o});if(f=qn(f,r),ul===null?ul=[f]:ul.push(f),pe!==4&&(pe=2),n===null)return!0;o=qn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=jf(r.stateNode,o,e),pf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qs===null||!qs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Jp(h),Wp(h,e,r,o),pf(r,h),!1}r=r.return}while(r!==null);return!1}var Bf=Error(a(461)),De=!1;function Ze(e,n,r,o){n.child=e===null?ip(n,null,r,o):Gr(n,e.child,r,o)}function ty(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return jr(n),o=bf(e,n,r,p,f,h),E=Af(),e!==null&&!De?(Sf(e,n,h),ts(e,n,h)):(Ut&&E&&nf(n),n.flags|=1,Ze(e,n,o,h),n.child)}function ey(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ny(e,n,f,o,h)):(e=Vu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Xf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Bo,r(p,o)&&e.ref===n.ref)return ts(e,n,h)}return n.flags|=1,e=Ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function ny(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,Xf(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,ts(e,n,h)}return qf(e,n,r,o,h)}function iy(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return sy(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?ap(n,f):_f(),op(n);else return o=n.lanes=536870912,sy(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Uu(n,f.cachePool),ap(n,f),Us(),n.memoizedState=null):(e!==null&&Uu(n,null),_f(),Us());return Ze(e,n,h,r),n.child}function nl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(e,n,r,o,h){var f=ff();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Uu(n,null),_f(),op(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function tc(e,n){return n=nc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ry(e,n,r){return Gr(n,e.child,null,r),e=tc(n,n.pendingProps),e.flags|=2,Cn(n),n.memoizedState=null,e}function P1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=tc(n,o),n.lanes=536870912,nl(null,e);if(Ef(n),(e=ae)?(e=y_(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=qg(e),r.return=n,n.child=r,Xe=n,ae=null)):e=null,e===null)throw Os(n);return n.lanes=536870912,null}return tc(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=ry(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(De||Aa(e,n,r,!1),h=(r&e.childLanes)!==0,De||h){if(o=ne,o!==null&&(p=Ao(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,zr(e,p),Tn(o,e,p),Bf;hc(),n=ry(e,n,r)}else e=f.treeContext,ae=Yn(p.nextSibling),Xe=n,Ut=!0,Ds=null,Fn=!1,e!==null&&Fg(n,e),n=tc(n,o),n.flags|=4096;return n}return e=Ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ec(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function qf(e,n,r,o,h){return jr(n),r=bf(e,n,r,o,void 0,h),o=Af(),e!==null&&!De?(Sf(e,n,h),ts(e,n,h)):(Ut&&o&&nf(n),n.flags|=1,Ze(e,n,r,h),n.child)}function ay(e,n,r,o,h,f){return jr(n),n.updateQueue=null,r=up(n,o,r,h),lp(e),o=Af(),e!==null&&!De?(Sf(e,n,f),ts(e,n,f)):(Ut&&o&&nf(n),n.flags|=1,Ze(e,n,r,f),n.child)}function oy(e,n,r,o,h){if(jr(n),n.stateNode===null){var f=va,p=r.contextType;typeof p=="object"&&p!==null&&(f=$e(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?$e(p):va,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Uf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Pf.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),$o(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Qr(r,E);f.props=C;var P=f.context,F=r.contextType;p=va,typeof F=="object"&&F!==null&&(p=$e(F));var K=r.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Yp(n,f,o,p),Vs=!1;var j=n.memoizedState;f.state=j,Zo(n,o,f,h),$o(),P=n.memoizedState,E||j!==P||Vs?(typeof K=="function"&&(Uf(n,r,K,o),P=n.memoizedState),(C=Vs||Qp(n,r,C,o,j,P,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(e,n),p=n.memoizedProps,F=Qr(r,p),f.props=F,K=n.pendingProps,j=f.context,P=r.contextType,C=va,typeof P=="object"&&P!==null&&(C=$e(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||j!==C)&&Yp(n,f,o,C),Vs=!1,j=n.memoizedState,f.state=j,Zo(n,o,f,h),$o();var q=n.memoizedState;p!==K||j!==q||Vs||e!==null&&e.dependencies!==null&&zu(e.dependencies)?(typeof E=="function"&&(Uf(n,r,E,o),q=n.memoizedState),(F=Vs||Qp(n,r,F,o,j,q,C)||e!==null&&e.dependencies!==null&&zu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ec(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Gr(n,e.child,null,h),n.child=Gr(n,null,r,h)):Ze(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ts(e,n,h),e}function ly(e,n,r,o){return Ur(),n.flags|=256,Ze(e,n,r,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:Zg()}}function Ff(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Nn),e}function uy(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Ls(n):Us(),(e=ae)?(e=y_(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=qg(e),r.return=n,n.child=r,Xe=n,ae=null)):e=null,e===null)throw Os(n);return Id(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=nc({mode:"hidden",children:E},h),o=Lr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Gf(r),o.childLanes=Ff(e,p,r),n.memoizedState=Hf,nl(null,o)):(Ls(n),Qf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ls(n),n.flags&=-257,n=Yf(e,n,r)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),E=Lr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Gr(n,e.child,null,r),o=n.child,o.memoizedState=Gf(r),o.childLanes=Ff(e,p,r),n.memoizedState=Hf,n=nl(null,o));else if(Ls(n),Id(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Go({value:o,source:null,stack:null}),n=Yf(e,n,r)}else if(De||Aa(e,n,r,!1),p=(r&e.childLanes)!==0,De||p){if(p=ne,p!==null&&(o=Ao(p,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,zr(e,o),Tn(p,e,o),Bf;Rd(E)||hc(),n=Yf(e,n,r)}else Rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ae=Yn(E.nextSibling),Xe=n,Ut=!0,Ds=null,Fn=!1,e!==null&&Fg(n,e),n=Qf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,C=e.child,P=C.sibling,o=Ki(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Ki(P,E):(E=Lr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,nl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Gf(r):(h=E.cachePool,h!==null?(C=xe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Zg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Ff(e,p,r),n.memoizedState=Hf,nl(e.child,o)):(Ls(n),r=e.child,e=r.sibling,r=Ki(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Qf(e,n){return n=nc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function nc(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function Yf(e,n,r){return Gr(n,e.child,null,r),e=Qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function cy(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),lf(e.return,n,r)}function Kf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function hy(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Te.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,st(Te,p),Ze(e,n,o,r),o=Ut?Ho:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,r,n);else if(e.tag===19)cy(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Gu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Kf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Gu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Kf(n,!0,r,null,f,o);break;case"together":Kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ts(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Bs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Aa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ki(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ki(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&zu(e)))}function j1(e,n,r){switch(n.tag){case 3:W(n,n.stateNode.containerInfo),Ms(n,xe,e.memoizedState.cache),Ur();break;case 27:case 5:Ct(n);break;case 4:W(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ls(n),n.flags|=128,null):(r&n.child.childLanes)!==0?uy(e,n,r):(Ls(n),e=ts(e,n,r),e!==null?e.sibling:null);Ls(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Aa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return hy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Te,Te.current),o)break;return null;case 22:return n.lanes=0,iy(e,n,r,n.pendingProps);case 24:Ms(n,xe,e.memoizedState.cache)}return ts(e,n,r)}function fy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!Xf(e,r)&&(n.flags&128)===0)return De=!1,j1(e,n,r);De=(e.flags&131072)!==0}else De=!1,Ut&&(n.flags&1048576)!==0&&Gg(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=qr(n.elementType),n.type=e,typeof e=="function")Wh(e)?(o=Qr(e,o),n.tag=1,n=oy(null,n,e,o,r)):(n.tag=0,n=qf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Bt){n.tag=11,n=ty(null,n,e,o,r);break t}else if(h===x){n.tag=14,n=ey(null,n,e,o,r);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return qf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Qr(o,n.pendingProps),oy(e,n,o,h,r);case 3:t:{if(W(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(e,n),Zo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Ms(n,xe,o),o!==f.cache&&uf(n,[xe],r,!0),$o(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(e,n,o,r);break t}else if(o!==h){h=qn(Error(a(424)),n),Go(h),n=ly(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=Yn(e.firstChild),Xe=n,Ut=!0,Ds=null,Fn=!0,r=ip(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ur(),o===h){n=ts(e,n,r);break t}Ze(e,n,o,r)}n=n.child}return n;case 26:return ec(e,n),e===null?(r=A_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=_c(St.current).createElement(r),o[Re]=n,o[je]=e,Je(o,r,e),Ie(o),n.stateNode=o):n.memoizedState=A_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ct(n),e===null&&Ut&&(o=n.stateNode=E_(n.type,n.pendingProps,St.current),Xe=n,Fn=!0,h=ae,Qs(n.type)?(Cd=h,ae=Yn(o.firstChild)):ae=h),Ze(e,n,n.pendingProps.children,r),ec(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ae)&&(o=pb(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,Xe=n,ae=Yn(o.firstChild),Fn=!1,h=!0):h=!1),h||Os(n)),Ct(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Ad(h,f)?o=null:p!==null&&Ad(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(e,n,D1,null,null,r),yl._currentValue=h),ec(e,n),Ze(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=ae)&&(r=yb(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Xe=n,ae=null,e=!0):e=!1),e||Os(n)),null;case 13:return uy(e,n,r);case 4:return W(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Gr(n,null,o,r):Ze(e,n,o,r),n.child;case 11:return ty(e,n,n.type,n.pendingProps,r);case 7:return Ze(e,n,n.pendingProps,r),n.child;case 8:return Ze(e,n,n.pendingProps.children,r),n.child;case 12:return Ze(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ms(n,n.type,o.value),Ze(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=$e(h),o=o(h),n.flags|=1,Ze(e,n,o,r),n.child;case 14:return ey(e,n,n.type,n.pendingProps,r);case 15:return ny(e,n,n.type,n.pendingProps,r);case 19:return hy(e,n,r);case 31:return P1(e,n,r);case 22:return iy(e,n,r,n.pendingProps);case 24:return jr(n),o=$e(xe),e===null?(h=ff(),h===null&&(h=ne,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},mf(n),Ms(n,xe,h)):((e.lanes&r)!==0&&(gf(e,n),Zo(n,null,null,r),$o()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ms(n,xe,o)):(o=f.cache,Ms(n,xe,o),o!==h.cache&&uf(n,[xe],r,!0))),Ze(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function es(e){e.flags|=4}function $f(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Py())e.flags|=8192;else throw Hr=ju,df}else e.flags&=-16777217}function dy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!C_(n))if(Py())e.flags|=8192;else throw Hr=ju,df}function ic(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uu():536870912,e.lanes|=n,ka|=n)}function il(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function B1(e,n,r){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Zi(xe),Z(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ba(n)?es(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),oe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(es(n),f!==null?(oe(n),dy(n,f)):(oe(n),$f(n,h,null,o,r))):f?f!==e.memoizedState?(es(n),oe(n),dy(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&es(n),oe(n),$f(n,h,e,o,r)),null;case 27:if(Pe(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}e=at.current,ba(n)?Qg(n):(e=E_(h,o,r),n.stateNode=e,es(n))}return oe(n),null;case 5:if(Pe(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}if(f=at.current,ba(n))Qg(n);else{var p=_c(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Re]=n,f[je]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&es(n)}}return oe(n),$f(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&es(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,ba(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||u_(e.nodeValue,r)),e||Os(n,!0)}else e=_c(e).createTextNode(o),e[Re]=n,n.stateNode=e}return oe(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ba(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else r=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ba(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),ic(n,n.updateQueue),oe(n),null);case 4:return Z(),e===null&&_d(n.stateNode.containerInfo),oe(n),null;case 10:return Zi(n.type),oe(n),null;case 19:if(Y(Te),o=n.memoizedState,o===null)return oe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Gu(e),f!==null){for(n.flags|=128,il(o,!1),e=f.updateQueue,n.updateQueue=e,ic(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Bg(r,e),r=r.sibling;return st(Te,Te.current&1|2),Ut&&Xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&_e()>lc&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304)}else{if(!h)if(e=Gu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ic(n,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return oe(n),null}else 2*_e()-o.renderingStartTime>lc&&r!==536870912&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_e(),e.sibling=null,r=Te.current,st(Te,h?r&1|2:r&1),Ut&&Xi(n,o.treeForkCount),e):(oe(n),null);case 22:case 23:return Cn(n),vf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),r=n.updateQueue,r!==null&&ic(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Br),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Zi(xe),oe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function q1(e,n){switch(sf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zi(xe),Z(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Pe(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(a(340));Ur()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Te),null;case 4:return Z(),null;case 10:return Zi(n.type),null;case 22:case 23:return Cn(n),vf(),e!==null&&Y(Br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Zi(xe),null;case 25:return null;default:return null}}function my(e,n){switch(sf(n),n.tag){case 3:Zi(xe),Z();break;case 26:case 27:case 5:Pe(n);break;case 4:Z();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:Y(Te);break;case 10:Zi(n.type);break;case 22:case 23:Cn(n),vf(),e!==null&&Y(Br);break;case 24:Zi(xe)}}function sl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Xt(n,n.return,E)}}function Ps(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=r,P=E;try{P()}catch(F){Xt(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Xt(n,n.return,F)}}function gy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{rp(n,r)}catch(o){Xt(e,e.return,o)}}}function py(e,n,r){r.props=Qr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Xt(e,n,o)}}function rl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Xt(e,n,h)}}function Vi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(e,n,h)}else r.current=null}function yy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Xt(e,e.return,h)}}function Zf(e,n,r){try{var o=e.stateNode;cb(o,e.type,r,n),o[je]=n}catch(h){Xt(e,e.return,h)}}function _y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function Jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ni));else if(o!==4&&(o===27&&Qs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Wf(e,n,r),e=e.sibling;e!==null;)Wf(e,n,r),e=e.sibling}function sc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Qs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(sc(e,n,r),e=e.sibling;e!==null;)sc(e,n,r),e=e.sibling}function vy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,r),n[Re]=e,n[je]=r}catch(f){Xt(e,e.return,f)}}var ns=!1,Oe=!1,td=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,qe=null;function H1(e,n){if(e=e.containerInfo,Td=wc,e=Og(e),Qh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,C=-1,P=0,F=0,K=e,j=null;e:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(C=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===r&&++P===h&&(E=p),j===f&&++F===o&&(C=p),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(bd={focusedElem:e,selectionRange:r},wc=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=Qr(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Xt(r,r.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)wd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function Ty(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ss(e,r),o&4&&sl(5,r);break;case 1:if(ss(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Xt(r,r.return,p)}else{var h=Qr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(r,r.return,p)}}o&64&&gy(r),o&512&&rl(r,r.return);break;case 3:if(ss(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{rp(e,n)}catch(p){Xt(r,r.return,p)}}break;case 27:n===null&&o&4&&vy(r);case 26:case 5:ss(e,r),n===null&&o&4&&yy(r),o&512&&rl(r,r.return);break;case 12:ss(e,r);break;case 31:ss(e,r),o&4&&Sy(e,r);break;case 13:ss(e,r),o&4&&wy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=J1.bind(null,r),_b(e,r))));break;case 22:if(o=r.memoizedState!==null||ns,!o){n=n!==null&&n.memoizedState!==null||Oe,h=ns;var f=Oe;ns=o,(Oe=n)&&!f?rs(e,r,(r.subtreeFlags&8772)!==0):ss(e,r),ns=h,Oe=f}break;case 30:break;default:ss(e,r)}}function by(e){var n=e.alternate;n!==null&&(e.alternate=null,by(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,yn=!1;function is(e,n,r){for(r=r.child;r!==null;)Ay(e,n,r),r=r.sibling}function Ay(e,n,r){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Jn,r)}catch{}switch(r.tag){case 26:Oe||Vi(r,n),is(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Oe||Vi(r,n);var o=he,h=yn;Qs(r.type)&&(he=r.stateNode,yn=!1),is(e,n,r),ml(r.stateNode),he=o,yn=h;break;case 5:Oe||Vi(r,n);case 6:if(o=he,h=yn,he=null,is(e,n,r),he=o,yn=h,he!==null)if(yn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{he.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:he!==null&&(yn?(e=he,g_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ha(e)):g_(he,r.stateNode));break;case 4:o=he,h=yn,he=r.stateNode.containerInfo,yn=!0,is(e,n,r),he=o,yn=h;break;case 0:case 11:case 14:case 15:Ps(2,r,n),Oe||Ps(4,r,n),is(e,n,r);break;case 1:Oe||(Vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&py(r,n,o)),is(e,n,r);break;case 21:is(e,n,r);break;case 22:Oe=(o=Oe)||r.memoizedState!==null,is(e,n,r),Oe=o;break;default:is(e,n,r)}}function Sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(r){Xt(n,n.return,r)}}}function wy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(r){Xt(n,n.return,r)}}function G1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ey),n;default:throw Error(a(435,e.tag))}}function rc(e,n){var r=G1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=W1.bind(null,e,o);o.then(h,h)}})}function _n(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Qs(E.type)){he=E.stateNode,yn=!1;break t}break;case 5:he=E.stateNode,yn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,yn=!0;break t}E=E.return}if(he===null)throw Error(a(160));Ay(f,p,h),he=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ry(n,e),n=n.sibling}var li=null;function Ry(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(n,e),vn(e),o&4&&(Ps(3,e,e.return),sl(3,e),Ps(5,e,e.return));break;case 1:_n(n,e),vn(e),o&512&&(Oe||r===null||Vi(r,r.return)),o&64&&ns&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=li;if(_n(n,e),vn(e),o&512&&(Oe||r===null||Vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,r),f[Re]=e,Ie(f),o=f;break t;case"link":var p=R_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Je(f,o,r),h.head.appendChild(f);break;case"meta":if(p=R_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Je(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Re]=e,Ie(f),o=f}e.stateNode=o}else I_(h,e.type,e.stateNode);else e.stateNode=w_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?I_(h,e.type,e.stateNode):w_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,r.memoizedProps)}break;case 27:_n(n,e),vn(e),o&512&&(Oe||r===null||Vi(r,r.return)),r!==null&&o&4&&Zf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(_n(n,e),vn(e),o&512&&(Oe||r===null||Vi(r,r.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(lt){Xt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(td=!0);break;case 6:if(_n(n,e),vn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){Xt(e,e.return,lt)}}break;case 3:if(Tc=null,h=li,li=vc(n.containerInfo),_n(n,e),li=h,vn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(lt){Xt(e,e.return,lt)}td&&(td=!1,Iy(e));break;case 4:o=li,li=vc(e.stateNode.containerInfo),_n(n,e),vn(e),li=o;break;case 12:_n(n,e),vn(e);break;case 31:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 13:_n(n,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(oc=_e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 22:h=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,P=ns,F=Oe;if(ns=P||h,Oe=F||C,_n(n,e),Oe=F,ns=P,vn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||ns||Oe||Yr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Xt(C,C.return,lt)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){Xt(C,C.return,lt)}}}else if(n.tag===18){if(r===null){C=n;try{var q=C.stateNode;h?p_(q,!0):p_(C.stateNode,!1)}catch(lt){Xt(C,C.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,rc(e,r))));break;case 19:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 30:break;case 21:break;default:_n(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(_y(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Jf(e);sc(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(pn(p,""),r.flags&=-33);var E=Jf(e);sc(e,E,p);break;case 3:case 4:var C=r.stateNode.containerInfo,P=Jf(e);Wf(e,P,C);break;default:throw Error(a(161))}}catch(F){Xt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ss(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ty(e,n.alternate,n),n=n.sibling}function Yr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),Yr(n);break;case 1:Vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&py(n,n.return,r),Yr(n);break;case 27:ml(n.stateNode);case 26:case 5:Vi(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}e=e.sibling}}function rs(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:rs(h,f,r),sl(4,f);break;case 1:if(rs(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)sp(C[h],E)}catch(P){Xt(o,o.return,P)}}r&&p&64&&gy(f),rl(f,f.return);break;case 27:vy(f);case 26:case 5:rs(h,f,r),r&&o===null&&p&4&&yy(f),rl(f,f.return);break;case 12:rs(h,f,r);break;case 31:rs(h,f,r),r&&p&4&&Sy(h,f);break;case 13:rs(h,f,r),r&&p&4&&wy(h,f);break;case 22:f.memoizedState===null&&rs(h,f,r),rl(f,f.return);break;case 30:break;default:rs(h,f,r)}n=n.sibling}}function ed(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Fo(r))}function nd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e))}function ui(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(e,n,r,o),n=n.sibling}function Cy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,r,o),h&2048&&sl(9,n);break;case 1:ui(e,n,r,o);break;case 3:ui(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e)));break;case 12:if(h&2048){ui(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Xt(n,n.return,C)}}else ui(e,n,r,o);break;case 31:ui(e,n,r,o);break;case 13:ui(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ui(e,n,r,o):al(e,n):f._visibility&2?ui(e,n,r,o):(f._visibility|=2,Oa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(p,n);break;case 24:ui(e,n,r,o),h&2048&&nd(n.alternate,n);break;default:ui(e,n,r,o)}}function Oa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,C=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Oa(f,p,E,C,h),sl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Oa(f,p,E,C,h):al(f,p):(F._visibility|=2,Oa(f,p,E,C,h)),h&&P&2048&&ed(p.alternate,p);break;case 24:Oa(f,p,E,C,h),h&&P&2048&&nd(p.alternate,p);break;default:Oa(f,p,E,C,h)}n=n.sibling}}function al(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:al(r,o),h&2048&&ed(o.alternate,o);break;case 24:al(r,o),h&2048&&nd(o.alternate,o);break;default:al(r,o)}n=n.sibling}}var ol=8192;function Ma(e,n,r){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)xy(e,n,r),e=e.sibling}function xy(e,n,r){switch(e.tag){case 26:Ma(e,n,r),e.flags&ol&&e.memoizedState!==null&&Nb(r,li,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,r);break;case 3:case 4:var o=li;li=vc(e.stateNode.containerInfo),Ma(e,n,r),li=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,Ma(e,n,r),ol=o):Ma(e,n,r));break;default:Ma(e,n,r)}}function Ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];qe=o,Oy(o,e)}Ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dy(e),e=e.sibling}function Dy(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Ps(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ac(e)):ll(e);break;default:ll(e)}}function ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];qe=o,Oy(o,e)}Ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),ac(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ac(n));break;default:ac(n)}e=e.sibling}}function Oy(e,n){for(;qe!==null;){var r=qe;switch(r.tag){case 0:case 11:case 15:Ps(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,qe=o;else t:for(r=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(by(o),o===r){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var F1={getCacheForType:function(e){var n=$e(xe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return $e(xe).controller.signal}},Q1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,xt=null,Mt=0,Kt=0,xn=null,js=!1,Va=!1,id=!1,as=0,pe=0,Bs=0,Kr=0,sd=0,Nn=0,ka=0,ul=null,En=null,rd=!1,oc=0,My=0,lc=1/0,uc=null,qs=null,ze=0,Hs=null,za=null,os=0,ad=0,od=null,Vy=null,cl=0,ld=null;function Dn(){return(Qt&2)!==0&&Mt!==0?Mt&-Mt:G.T!==null?md():cu()}function ky(){if(Nn===0)if((Mt&536870912)===0||Ut){var e=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Nn=e}else Nn=536870912;return e=In.current,e!==null&&(e.flags|=32),Nn}function Tn(e,n,r){(e===ne&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Gs(e,Mt,Nn,!1)),br(e,r),((Qt&2)===0||e!==ne)&&(e===ne&&((Qt&2)===0&&(Kr|=r),pe===4&&Gs(e,Mt,Nn,!1)),ki(e))}function zy(e,n,r){if((Qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=o?X1(e,n):cd(e,n,!0),f=o;do{if(h===0){Va&&!o&&Gs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!Y1(r)){h=cd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=ul;var C=E.current.memoizedState.isDehydrated;if(C&&(La(E,p).flags|=256),p=cd(E,p,!1),p!==2){if(id&&!C){E.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break t}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){La(e,0),Gs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,Nn,!js);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=oc+300-_e(),10<h)){if(Gs(o,n,Nn,!js),yi(o,0,!0)!==0)break t;os=n,o.timeoutHandle=d_(Ly.bind(null,o,r,En,uc,rd,n,Nn,Kr,ka,js,f,"Throttled",-0,0),h);break t}Ly(o,r,En,uc,rd,n,Nn,Kr,ka,js,f,null,-0,0)}}break}while(!0);ki(e)}function Ly(e,n,r,o,h,f,p,E,C,P,F,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},xy(n,f,K);var lt=(f&62914560)===f?oc-_e():(f&4194048)===f?My-_e():0;if(lt=Db(K,lt),lt!==null){os=f,e.cancelPendingCommit=lt(Fy.bind(null,e,n,f,r,o,h,p,E,C,F,K,null,j,q)),Gs(e,f,p,!P);return}}Fy(e,n,f,r,o,h,p,E,C)}function Y1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(e,n,r,o){n&=~sd,n&=~Kr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&Ar(e,r,n)}function cc(){return(Qt&6)===0?(hl(0),!1):!0}function ud(){if(xt!==null){if(Kt===0)var e=xt.return;else e=xt,$i=Pr=null,wf(e),Ia=null,Yo=0,e=xt;for(;e!==null;)my(e.alternate,e),e=e.return;xt=null}}function La(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,db(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),os=0,ud(),ne=e,xt=r=Ki(e.current,null),Mt=n,Kt=0,xn=null,js=!1,Va=Wn(e,n),id=!1,ka=Nn=sd=Kr=Bs=pe=0,En=ul=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ve(o),f=1<<h;n|=e[h],o&=~f}return as=n,Du(),r}function Uy(e,n){Rt=null,G.H=el,n===Ra||n===Pu?(n=tp(),Kt=3):n===df?(n=tp(),Kt=4):Kt=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,xt===null&&(pe=1,Wu(e,qn(n,e.current)))}function Py(){var e=In.current;return e===null?!0:(Mt&4194048)===Mt?Qn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Qn:!1}function jy(){var e=G.H;return G.H=el,e===null?el:e}function By(){var e=G.A;return G.A=F1,e}function hc(){pe=4,js||(Mt&4194048)!==Mt&&In.current!==null||(Va=!0),(Bs&134217727)===0&&(Kr&134217727)===0||ne===null||Gs(ne,Mt,Nn,!1)}function cd(e,n,r){var o=Qt;Qt|=2;var h=jy(),f=By();(ne!==e||Mt!==n)&&(uc=null,La(e,n)),n=!1;var p=pe;t:do try{if(Kt!==0&&xt!==null){var E=xt,C=xn;switch(Kt){case 8:ud(),p=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var P=Kt;if(Kt=0,xn=null,Ua(e,E,C,P),r&&Va){p=0;break t}break;default:P=Kt,Kt=0,xn=null,Ua(e,E,C,P)}}K1(),p=pe;break}catch(F){Uy(e,F)}while(!0);return n&&e.shellSuspendCounter++,$i=Pr=null,Qt=o,G.H=h,G.A=f,xt===null&&(ne=null,Mt=0,Du()),p}function K1(){for(;xt!==null;)qy(xt)}function X1(e,n){var r=Qt;Qt|=2;var o=jy(),h=By();ne!==e||Mt!==n?(uc=null,lc=_e()+500,La(e,n)):Va=Wn(e,n);t:do try{if(Kt!==0&&xt!==null){n=xt;var f=xn;e:switch(Kt){case 1:Kt=0,xn=null,Ua(e,n,f,1);break;case 2:case 9:if(Jg(f)){Kt=0,xn=null,Hy(n);break}n=function(){Kt!==2&&Kt!==9||ne!==e||(Kt=7),ki(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Jg(f)?(Kt=0,xn=null,Hy(n)):(Kt=0,xn=null,Ua(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var E=xt;if(p?C_(p):E.stateNode.complete){Kt=0,xn=null;var C=E.sibling;if(C!==null)xt=C;else{var P=E.return;P!==null?(xt=P,fc(P)):xt=null}break e}}Kt=0,xn=null,Ua(e,n,f,5);break;case 6:Kt=0,xn=null,Ua(e,n,f,6);break;case 8:ud(),pe=6;break t;default:throw Error(a(462))}}$1();break}catch(F){Uy(e,F)}while(!0);return $i=Pr=null,G.H=o,G.A=h,Qt=r,xt!==null?0:(ne=null,Mt=0,Du(),pe)}function $1(){for(;xt!==null&&!Er();)qy(xt)}function qy(e){var n=fy(e.alternate,e,as);e.memoizedProps=e.pendingProps,n===null?fc(e):xt=n}function Hy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=ay(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=ay(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:wf(n);default:my(r,n),n=xt=Bg(n,as),n=fy(r,n,as)}e.memoizedProps=e.pendingProps,n===null?fc(e):xt=n}function Ua(e,n,r,o){$i=Pr=null,wf(n),Ia=null,Yo=0;var h=n.return;try{if(U1(e,h,n,r,Mt)){pe=1,Wu(e,qn(r,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;pe=1,Wu(e,qn(r,e.current)),xt=null;return}n.flags&32768?(Ut||o===1?e=!0:Va||(Mt&536870912)!==0?e=!1:(js=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gy(n,e)):fc(n)}function fc(e){var n=e;do{if((n.flags&32768)!==0){Gy(n,js);return}e=n.return;var r=B1(n.alternate,n,as);if(r!==null){xt=r;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);pe===0&&(pe=5)}function Gy(e,n){do{var r=q1(e.alternate,e);if(r!==null){r.flags&=32767,xt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=r}while(e!==null);pe=6,xt=null}function Fy(e,n,r,o,h,f,p,E,C){e.cancelPendingCommit=null;do dc();while(ze!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Zh,qh(e,r,f,p,E,C),e===ne&&(xt=ne=null,Mt=0),za=n,Hs=e,os=r,ad=f,od=h,Vy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tb(Es,function(){return $y(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=it.p,it.p=2,p=Qt,Qt|=4;try{H1(e,n,r)}finally{Qt=p,it.p=h,G.T=o}}ze=1,Qy(),Yy(),Ky()}}function Qy(){if(ze===1){ze=0;var e=Hs,n=za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=it.p;it.p=2;var h=Qt;Qt|=4;try{Ry(n,e);var f=bd,p=Og(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Dg(E.ownerDocument.documentElement,E)){if(C!==null&&Qh(E)){var P=C.start,F=C.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,_t=Math.min(C.start,lt),te=C.end===void 0?_t:Math.min(C.end,lt);!q.extend&&_t>te&&(p=te,te=_t,_t=p);var z=Ng(E,_t),D=Ng(E,te);if(z&&D&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var U=K.createRange();U.setStart(z.node,z.offset),q.removeAllRanges(),_t>te?(q.addRange(U),q.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),q.addRange(U))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!Td,bd=Td=null}finally{Qt=h,it.p=o,G.T=r}}e.current=n,ze=2}}function Yy(){if(ze===2){ze=0;var e=Hs,n=za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=it.p;it.p=2;var h=Qt;Qt|=4;try{Ty(e,n.alternate,n)}finally{Qt=h,it.p=o,G.T=r}}ze=3}}function Ky(){if(ze===4||ze===3){ze=0,mi();var e=Hs,n=za,r=os,o=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,za=Hs=null,Xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(qs=null),Gi(r),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(os&3)!==0&&dc(),ki(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===ld?cl++:(cl=0,ld=e):cl=0,hl(0)}}function Xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fo(n)))}function dc(){return Qy(),Yy(),Ky(),$y()}function $y(){if(ze!==5)return!1;var e=Hs,n=ad;ad=0;var r=Gi(os),o=G.T,h=it.p;try{it.p=32>r?32:r,G.T=null,r=od,od=null;var f=Hs,p=os;if(ze=0,za=Hs=null,os=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,Dy(f.current),Cy(f,f.current,p,r),Qt=E,hl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Jn,f)}catch{}return!0}finally{it.p=h,G.T=o,Xy(e,n)}}function Zy(e,n,r){n=qn(r,n),n=jf(e.stateNode,n,2),e=zs(e,n,2),e!==null&&(br(e,2),ki(e))}function Xt(e,n,r){if(e.tag===3)Zy(e,e,r);else for(;n!==null;){if(n.tag===3){Zy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){e=qn(r,e),r=Jp(2),o=zs(n,r,2),o!==null&&(Wp(r,o,n,e),br(o,2),ki(o));break}}n=n.return}}function hd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Q1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(id=!0,h.add(r),e=Z1.bind(null,e,n,r),n.then(e,e))}function Z1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ne===e&&(Mt&r)===r&&(pe===4||pe===3&&(Mt&62914560)===Mt&&300>_e()-oc?(Qt&2)===0&&La(e,0):sd|=r,ka===Mt&&(ka=0)),ki(e)}function Jy(e,n){n===0&&(n=uu()),e=zr(e,n),e!==null&&(br(e,n),ki(e))}function J1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Jy(e,r)}function W1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Jy(e,r)}function tb(e,n){return de(e,n)}var mc=null,Pa=null,fd=!1,gc=!1,dd=!1,Fs=0;function ki(e){e!==Pa&&e.next===null&&(Pa===null?mc=Pa=e:Pa=Pa.next=e),gc=!0,fd||(fd=!0,nb())}function hl(e,n){if(!dd&&gc){dd=!0;do for(var r=!1,o=mc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,n_(o,f))}else f=Mt,f=yi(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wn(o,f)||(r=!0,n_(o,f));o=o.next}while(r);dd=!1}}function eb(){Wy()}function Wy(){gc=fd=!1;var e=0;Fs!==0&&fb()&&(e=Fs);for(var n=_e(),r=null,o=mc;o!==null;){var h=o.next,f=t_(o,n);f===0?(o.next=null,r===null?mc=h:r.next=h,h===null&&(Pa=r)):(r=o,(e!==0||(f&3)!==0)&&(gc=!0)),o=h}ze!==0&&ze!==5||hl(e),Fs!==0&&(Fs=0)}function t_(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ve(f),E=1<<p,C=h[p];C===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Bh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=ne,r=Mt,r=yi(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&di(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Wn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&di(o),Gi(r)){case 2:case 8:r=To;break;case 32:r=Es;break;case 268435456:r=su;break;default:r=Es}return o=e_.bind(null,e),r=de(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&di(o),e.callbackPriority=2,e.callbackNode=null,2}function e_(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(dc()&&e.callbackNode!==r)return null;var o=Mt;return o=yi(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(zy(e,o,n),t_(e,_e()),e.callbackNode!=null&&e.callbackNode===r?e_.bind(null,e):null)}function n_(e,n){if(dc())return null;zy(e,n,!0)}function nb(){mb(function(){(Qt&6)!==0?de(Eo,eb):Wy()})}function md(){if(Fs===0){var e=Sa;e===0&&(e=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Fs=e}return Fs}function i_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function s_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function ib(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=i_((h[je]||null).action),p=o.submitter;p&&(n=(n=p[je]||null)?i_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ci("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var C=p?s_(h,p):new FormData(h);Vf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?s_(h,p):new FormData(h),Vf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var gd=0;gd<$h.length;gd++){var pd=$h[gd],sb=pd.toLowerCase(),rb=pd[0].toUpperCase()+pd.slice(1);oi(sb,"on"+rb)}oi(kg,"onAnimationEnd"),oi(zg,"onAnimationIteration"),oi(Lg,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(T1,"onTransitionRun"),oi(b1,"onTransitionStart"),oi(A1,"onTransitionCancel"),oi(Ug,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ab=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function r_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Nu(F)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Nu(F)}h.currentTarget=null,f=C}}}}function Nt(e,n){var r=n[sa];r===void 0&&(r=n[sa]=new Set);var o=e+"__bubble";r.has(o)||(a_(n,e,2,!1),r.add(o))}function yd(e,n,r){var o=0;n&&(o|=4),a_(r,e,o,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[pc]){e[pc]=!0,So.forEach(function(r){r!=="selectionchange"&&(ab.has(r)||yd(r,!1,e),yd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pc]||(n[pc]=!0,yd("selectionchange",!1,n))}}function a_(e,n,r,o){switch(k_(n)){case 2:var h=Vb;break;case 8:h=kb;break;default:h=Md}r=h.bind(null,n,r,e),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function vd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ti(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue t}E=E.parentNode}}o=o.return}Rs(function(){var P=f,F=Un(r),K=[];t:{var j=Pg.get(e);if(j!==void 0){var q=Ci,lt=e;switch(e){case"keypress":if(Nr(r)===0)break t;case"keydown":case"keyup":q=Iu;break;case"focusin":lt="focus",q=Or;break;case"focusout":lt="blur",q=Or;break;case"beforeblur":case"afterblur":q=Or;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case kg:case zg:case Lg:q=Eu;break;case Ug:q=T;break;case"scroll":case"scrollend":q=zo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Yi;break;case"toggle":case"beforetoggle":q=wt}var _t=(n&4)!==0,te=!_t&&(e==="scroll"||e==="scrollend"),z=_t?j!==null?j+"Capture":null:j;_t=[];for(var D=P,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||z===null||(Q=ii(D,z),Q!=null&&_t.push(dl(D,Q,U))),te)break;D=D.return}0<_t.length&&(j=new q(j,lt,null,r,F),K.push({event:j,listeners:_t}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Mo&&(lt=r.relatedTarget||r.fromElement)&&(Ti(lt)||lt[vi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=r.relatedTarget||r.toElement,q=P,lt=lt?Ti(lt):null,lt!==null&&(te=c(lt),_t=lt.tag,lt!==te||_t!==5&&_t!==27&&_t!==6)&&(lt=null)):(q=null,lt=P),q!==lt)){if(_t=Lo,Q="onMouseLeave",z="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Yi,Q="onPointerLeave",z="onPointerEnter",D="pointer"),te=q==null?j:An(q),U=lt==null?j:An(lt),j=new _t(Q,D+"leave",q,r,F),j.target=te,j.relatedTarget=U,Q=null,Ti(F)===P&&(_t=new _t(z,D+"enter",lt,r,F),_t.target=U,_t.relatedTarget=te,Q=_t),te=Q,q&&lt)e:{for(_t=ob,z=q,D=lt,U=0,Q=z;Q;Q=_t(Q))U++;Q=0;for(var dt=D;dt;dt=_t(dt))Q++;for(;0<U-Q;)z=_t(z),U--;for(;0<Q-U;)D=_t(D),Q--;for(;U--;){if(z===D||D!==null&&z===D.alternate){_t=z;break e}z=_t(z),D=_t(D)}_t=null}else _t=null;q!==null&&o_(K,j,q,_t,!1),lt!==null&&te!==null&&o_(K,te,lt,_t,!0)}}t:{if(j=P?An(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ht=Sg;else if(bg(j))if(wg)Ht=_1;else{Ht=p1;var ct=g1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&la(P.elementType)&&(Ht=Sg):Ht=y1;if(Ht&&(Ht=Ht(e,P))){Ag(K,Ht,r,F);break t}ct&&ct(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&No(j,"number",j.value)}switch(ct=P?An(P):window,e){case"focusin":(bg(ct)||ct.contentEditable==="true")&&(pa=ct,Yh=P,qo=null);break;case"focusout":qo=Yh=pa=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Mg(K,r,F);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":Mg(K,r,F)}var It;if(Ft)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ga?Mr(e,r)&&(Vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Vt="onCompositionStart");Vt&&(Di&&r.locale!=="ko"&&(ga||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ga&&(It=ko()):(Ii=F,Vo="value"in Ii?Ii.value:Ii.textContent,ga=!0)),ct=yc(P,Vt),0<ct.length&&(Vt=new Ni(Vt,e,null,r,F),K.push({event:Vt,listeners:ct}),It?Vt.data=It:(It=ma(r),It!==null&&(Vt.data=It)))),(It=jn?h1(e,r):f1(e,r))&&(Vt=yc(P,"onBeforeInput"),0<Vt.length&&(ct=new Ni("onBeforeInput","beforeinput",null,r,F),K.push({event:ct,listeners:Vt}),ct.data=It)),ib(K,e,P,r,F)}r_(K,n)})}function dl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function yc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(e,r),h!=null&&o.unshift(dl(e,h,f)),h=ii(e,n),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function ob(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function o_(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=ii(r,f),P!=null&&p.unshift(dl(r,P,C))):h||(P=ii(r,f),P!=null&&p.push(dl(r,P,C)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var lb=/\r\n?/g,ub=/\u0000|\uFFFD/g;function l_(e){return(typeof e=="string"?e:""+e).replace(lb,`
`).replace(ub,"")}function u_(e,n){return n=l_(n),l_(e)===n}function Wt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(e,""+o);break;case"className":Sn(e,"class",o);break;case"tabIndex":Sn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(e,r,o);break;case"style":Oo(e,o,f);break;case"data":if(n!=="object"){Sn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ua(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ua(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ni);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yu.get(r)||r,aa(e,r,o))}}function Ed(e,n,r,o,h,f){switch(r){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?pn(e,o):(typeof o=="number"||typeof o=="bigint")&&pn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[je]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):aa(e,r,o)}}}function Je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,p,r,null)}}h&&Wt(e,n,"srcSet",r.srcSet,r,null),o&&Wt(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,C=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Wt(e,n,o,F,r,null)}}mu(e,f,E,C,P,p,h,!1);return;case"select":Nt("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Wt(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?bs(e,!!o,n,!1):r!=null&&bs(e,!!o,r,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,p,E,r,null)}As(e,o,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(o=r[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,C,o,r,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)Nt(fl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,P,o,r,null)}return;default:if(la(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&Ed(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Wt(e,n,E,o,r,null))}function cb(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,P=null,F=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(q)||Wt(e,n,q,null,o,K)}}for(var j in o){var q=o[j];if(K=r[j],o.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Wt(e,n,j,q,o,K)}}oa(e,p,E,C,P,F,f,h);return;case"select":q=p=E=j=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&Wt(e,n,h,f,o,C)}n=E,r=p,o=q,j!=null?bs(e,!!r,j,!1):!!o!=!!r&&(n!=null?bs(e,!!r,n,!0):bs(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,p,h,o,f)}gu(e,j,q);return;case"option":for(var lt in r)j=r[lt],r.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Wt(e,n,lt,null,o,j));for(C in o)j=o[C],q=r[C],o.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null)&&(C==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Wt(e,n,C,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in r)j=r[_t],r.hasOwnProperty(_t)&&j!=null&&!o.hasOwnProperty(_t)&&Wt(e,n,_t,null,o,j);for(P in o)if(j=o[P],q=r[P],o.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Wt(e,n,P,j,o,q)}return;default:if(la(n)){for(var te in r)j=r[te],r.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&Ed(e,n,te,void 0,o,j);for(F in o)j=o[F],q=r[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||Ed(e,n,F,j,o,q);return}}for(var z in r)j=r[z],r.hasOwnProperty(z)&&j!=null&&!o.hasOwnProperty(z)&&Wt(e,n,z,null,o,j);for(K in o)j=o[K],q=r[K],!o.hasOwnProperty(K)||j===q||j==null&&q==null||Wt(e,n,K,j,o,q)}function c_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&c_(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],P=C.startTime;if(P>E)break;var F=C.transferSize,K=C.initiatorType;F&&c_(K)&&(C=C.responseEnd,p+=F*(C<E?1:(E-P)/(C-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Td=null,bd=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function h_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function fb(){var e=window.event;return e&&e.type==="popstate"?e===Sd?!1:(Sd=e,!0):(Sd=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,db=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(e){return m_.resolve(null).then(e).catch(gb)}:d_;function gb(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function g_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ml(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ml(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&ml(e.ownerDocument.body);r=h}while(r);Ha(n)}function p_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function wd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wd(r),ra(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function pb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function yb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Yn(e.nextSibling),e===null))return null;return e}function y_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _b(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Cd=null;function __(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Yn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function v_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function E_(e,n,r){switch(n=_c(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var Kn=new Map,T_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=it.d;it.d={f:vb,r:Eb,D:Tb,C:bb,L:Ab,m:Sb,X:Rb,S:wb,M:Ib};function vb(){var e=ls.f(),n=cc();return e||n}function Eb(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?Up(n):ls.r(e)}var ja=typeof document>"u"?null:document;function b_(e,n,r){var o=ja;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),T_.has(h)||(T_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ie(n),o.head.appendChild(n)))}}function Tb(e){ls.D(e),b_("dns-prefetch",e,null)}function bb(e,n){ls.C(e,n),b_("preconnect",e,n)}function Ab(e,n,r){ls.L(e,n,r);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+gn(r.imageSizes)+'"]')):h+='[href="'+gn(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}Kn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(pl(f))||(n=o.createElement("link"),Je(n,"link",e),Ie(n),o.head.appendChild(n)))}}function Sb(e,n){ls.m(e,n);var r=ja;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Kn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(pl(f)))return}o=r.createElement("link"),Je(o,"link",e),Ie(o),r.head.appendChild(o)}}}function wb(e,n,r){ls.S(e,n,r);var o=ja;if(o&&e){var h=bi(o).hoistableStyles,f=Ba(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(gl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Kn.get(f))&&xd(e,r);var C=p=o.createElement("link");Ie(C),Je(C,"link",e),C._p=new Promise(function(P,F){C.onload=P,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function Rb(e,n){ls.X(e,n);var r=ja;if(r&&e){var o=bi(r).hoistableScripts,h=qa(e),f=o.get(h);f||(f=r.querySelector(pl(h)),f||(e=A({src:e,async:!0},n),(n=Kn.get(h))&&Nd(e,n),f=r.createElement("script"),Ie(f),Je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ib(e,n){ls.M(e,n);var r=ja;if(r&&e){var o=bi(r).hoistableScripts,h=qa(e),f=o.get(h);f||(f=r.querySelector(pl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&Nd(e,n),f=r.createElement("script"),Ie(f),Je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function A_(e,n,r,o){var h=(h=St.current)?vc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ba(r.href),r=bi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ba(r.href);var f=bi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(gl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kn.set(e,r),f||Cb(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(r),r=bi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ba(e){return'href="'+gn(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function S_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Cb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",r),Ie(n),e.head.appendChild(n))}function qa(e){return'[src="'+gn(e)+'"]'}function pl(e){return"script[async]"+e}function w_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+gn(r.href)+'"]');if(o)return n.instance=o,Ie(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ie(o),Je(o,"style",h),Ec(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ba(r.href);var f=e.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;o=S_(r),(h=Kn.get(h))&&xd(o,h),f=(e.ownerDocument||e).createElement("link"),Ie(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Je(f,"link",o),n.state.loading|=4,Ec(f,r.precedence,e),n.instance=f;case"script":return f=qa(r.src),(h=e.querySelector(pl(f)))?(n.instance=h,Ie(h),h):(o=r,(h=Kn.get(f))&&(o=A({},r),Nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ec(o,r.precedence,e));return n.instance}function Ec(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tc=null;function R_(e,n,r){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(r,o)}else h=Tc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Ei]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function I_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function xb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Nb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ba(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ie(f);return}f=n.ownerDocument||n,o=S_(o),(h=Kn.get(h))&&xd(o,h),f=f.createElement("link"),Ie(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=bc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Dd=0;function Db(e,n){return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Dd===0&&(Dd=62500*hb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Dd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ac=null;function Sc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ac=new Map,n.forEach(Ob,e),Ac=null,bc.call(e))}function Ob(e,n){if(!(n.state.loading&4)){var r=Ac.get(e);if(r)var o=r.get(null);else{r=new Map,Ac.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var yl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Mb(e,n,r,o,h,f,p,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function x_(e,n,r,o,h,f,p,E,C,P,F,K){return e=new Mb(e,n,r,p,C,P,F,K,E),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),e.current=f,f.stateNode=e,n=cf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},mf(f),e}function N_(e){return e?(e=va,e):va}function D_(e,n,r,o,h,f){h=N_(h),o.context===null?o.context=h:o.pendingContext=h,o=ks(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=zs(e,o,n),r!==null&&(Tn(r,e,n),Xo(r,e,n))}function O_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Od(e,n){O_(e,n),(e=e.alternate)&&O_(e,n)}function M_(e){if(e.tag===13||e.tag===31){var n=zr(e,67108864);n!==null&&Tn(n,e,67108864),Od(e,67108864)}}function V_(e){if(e.tag===13||e.tag===31){var n=Dn();n=Sr(n);var r=zr(e,n);r!==null&&Tn(r,e,n),Od(e,n)}}var wc=!0;function Vb(e,n,r,o){var h=G.T;G.T=null;var f=it.p;try{it.p=2,Md(e,n,r,o)}finally{it.p=f,G.T=h}}function kb(e,n,r,o){var h=G.T;G.T=null;var f=it.p;try{it.p=8,Md(e,n,r,o)}finally{it.p=f,G.T=h}}function Md(e,n,r,o){if(wc){var h=Vd(o);if(h===null)vd(e,n,o,Rc,r),z_(e,o);else if(Lb(h,e,n,r,o))o.stopPropagation();else if(z_(e,o),n&4&&-1<zb.indexOf(e)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=pi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-ve(p);E.entanglements[1]|=C,p&=~C}ki(f),(Qt&6)===0&&(lc=_e()+500,hl(0))}}break;case 31:case 13:E=zr(f,2),E!==null&&Tn(E,f,2),cc(),Od(f,2)}if(f=Vd(o),f===null&&vd(e,n,o,Rc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(e,n,o,null,r)}}function Vd(e){return e=Un(e),kd(e)}var Rc=null;function kd(e){if(Rc=null,e=Ti(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=y(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rc=e,null}function k_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case Eo:return 2;case To:return 8;case Es:case jh:return 32;case su:return 268435456;default:return 32}default:return 32}}var zd=!1,Ys=null,Ks=null,Xs=null,_l=new Map,vl=new Map,$s=[],zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(e,n){switch(e){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":_l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function El(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&M_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Lb(e,n,r,o,h){switch(n){case"focusin":return Ys=El(Ys,e,n,r,o,h),!0;case"dragenter":return Ks=El(Ks,e,n,r,o,h),!0;case"mouseover":return Xs=El(Xs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,El(_l.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,El(vl.get(f)||null,e,n,r,o,h)),!0}return!1}function L_(e){var n=Ti(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,ti(e.priority,function(){V_(r)});return}}else if(n===31){if(n=y(r),n!==null){e.blockedOn=n,ti(e.priority,function(){V_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Vd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Mo=o,r.target.dispatchEvent(o),Mo=null}else return n=Ln(r),n!==null&&M_(n),e.blockedOn=r,!1;n.shift()}return!0}function U_(e,n,r){Ic(e)&&r.delete(n)}function Ub(){zd=!1,Ys!==null&&Ic(Ys)&&(Ys=null),Ks!==null&&Ic(Ks)&&(Ks=null),Xs!==null&&Ic(Xs)&&(Xs=null),_l.forEach(U_),vl.forEach(U_)}function Cc(e,n){e.blockedOn===n&&(e.blockedOn=null,zd||(zd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ub)))}var xc=null;function P_(e){xc!==e&&(xc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xc===e&&(xc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(kd(o||r)===null)continue;break}var f=Ln(r);f!==null&&(e.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ha(e){function n(C){return Cc(C,e)}Ys!==null&&Cc(Ys,e),Ks!==null&&Cc(Ks,e),Xs!==null&&Cc(Xs,e),_l.forEach(n),vl.forEach(n);for(var r=0;r<$s.length;r++){var o=$s[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$s.length&&(r=$s[0],r.blockedOn===null);)L_(r),r.blockedOn===null&&$s.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[je]||null;if(typeof f=="function")p||P_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[je]||null)E=p.formAction;else if(kd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),P_(r)}}}function j_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}Nc.prototype.render=Ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Dn();D_(r,o,e,n,null,null)},Nc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;D_(e.current,2,null,e,null,null),cc(),n[vi]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=cu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<$s.length&&n!==0&&n<$s[r].priority;r++);$s.splice(r,0,e),r===0&&L_(e)}};var B_=t.version;if(B_!=="19.2.3")throw Error(a(527,B_,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Pb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Jn=Dc.inject(Pb),Ye=Dc}catch{}}return bl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Kp,f=Xp,p=$p;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=x_(e,1,!1,null,null,r,o,null,h,f,p,j_),e[vi]=n.current,_d(e),new Ld(n)},bl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Kp,p=Xp,E=$p,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=x_(e,1,!0,n,r??null,o,h,C,f,p,E,j_),n.context=N_(null),r=n.current,o=Dn(),o=Sr(o),h=ks(o),h.callback=null,zs(r,h,o),r=o,n.current.lanes=r,br(n,r),ki(n),e[vi]=n.current,_d(e),new Nc(n)},bl.version="19.2.3",bl}var Z_;function $b(){if(Z_)return jd.exports;Z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jd.exports=Xb(),jd.exports}var Zb=$b();const Jb=()=>{};var J_={};const xv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Wb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,b=c>>2,A=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,H=_&63;g||(H=64,d||(M=64)),a.push(i[b],i[A],i[M],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(xv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Wb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||A==null)throw new tA;const M=c<<2|y>>4;if(a.push(M),_!==64){const H=y<<4&240|_>>2;if(a.push(H),A!==64){const et=_<<6&192|A;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eA=function(s){const t=xv(s);return Nv.encodeByteArray(t,!0)},Zc=function(s){return eA(s).replace(/\./g,"")},Dv=function(s){try{return Nv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function nA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iA=()=>nA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof J_>"u")return;const s=J_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},rA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Dv(s[1]);return t&&JSON.parse(t)},vh=()=>{try{return Jb()||iA()||sA()||rA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ov=s=>vh()?.emulatorHosts?.[s],aA=s=>{const t=Ov(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Mv=()=>vh()?.config,Vv=s=>vh()?.[`_${s}`];class oA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function fo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kv(s){return(await fetch(s,{credentials:"include"})).ok}function lA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(d)),""].join(".")}const Cl={};function uA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?s.emulator.push(t):s.prod.push(t);return s}function cA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let W_=!1;function zv(s,t){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Cl[s]===t||Cl[s]||W_)return;Cl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=uA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{W_=!0,d()},M}function b(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=cA(a),H=i("text"),et=document.getElementById(H)||document.createElement("span"),rt=i("learnmore"),tt=document.getElementById(rt)||document.createElement("a"),mt=i("preprendIcon"),bt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const gt=M.element;y(gt),b(tt,rt);const Bt=_();g(bt,mt),gt.append(bt,et,tt,Bt),document.body.appendChild(gt)}c?(et.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function fA(){const s=vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function gA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pA(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function yA(){return!fA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _A(){try{return typeof indexedDB=="object"}catch{return!1}}function vA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const EA="FirebaseError";class vs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=EA,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?TA(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new vs(l,y,a)}}function TA(s,t){return s.replace(bA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const bA=/\{\$([^}]+)}/g;function AA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function cr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(t0(c)&&t0(d)){if(!cr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function t0(s){return s!==null&&typeof s=="object"}function Gl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function SA(s,t){const i=new wA(s,t);return i.subscribe.bind(i)}class wA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");RA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Gd(){}function en(s){return s&&s._delegate?s._delegate:s}class Zr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xr="[DEFAULT]";class IA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new oA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xA(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(s){return s===Xr?void 0:s}function xA(s){return s.instantiationMode==="EAGER"}class NA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new IA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const DA={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},OA=kt.INFO,MA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},VA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=MA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dm{constructor(t){this.name=t,this._logLevel=OA,this._logHandler=VA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const kA=(s,t)=>t.some(i=>s instanceof i);let e0,n0;function zA(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LA(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lv=new WeakMap,im=new WeakMap,Uv=new WeakMap,Fd=new WeakMap,Om=new WeakMap;function UA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(rr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Lv.set(i,s)}).catch(()=>{}),Om.set(t,s),t}function PA(s){if(im.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,t)}let sm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return im.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Uv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function jA(s){sm=s(sm)}function BA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Qd(this),t,...i);return Uv.set(a,t.sort?t.sort():[t]),rr(a)}:LA().includes(s)?function(...t){return s.apply(Qd(this),t),rr(Lv.get(this))}:function(...t){return rr(s.apply(Qd(this),t))}}function qA(s){return typeof s=="function"?BA(s):(s instanceof IDBTransaction&&PA(s),kA(s,zA())?new Proxy(s,sm):s)}function rr(s){if(s instanceof IDBRequest)return UA(s);if(Fd.has(s))return Fd.get(s);const t=qA(s);return t!==s&&(Fd.set(s,t),Om.set(t,s)),t}const Qd=s=>Om.get(s);function HA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),y=rr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(rr(d.result),g.oldVersion,g.newVersion,rr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const GA=["get","getKey","getAll","getAllKeys","count"],FA=["put","add","delete","clear"],Yd=new Map;function i0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Yd.get(t))return Yd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=FA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||GA.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return Yd.set(t,c),c}jA(s=>({...s,get:(t,i,a)=>i0(t,i)||s.get(t,i,a),has:(t,i)=>!!i0(t,i)||s.has(t,i)}));class QA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(YA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function YA(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",s0="0.14.6";const ds=new Dm("@firebase/app"),KA="@firebase/app-compat",XA="@firebase/analytics-compat",$A="@firebase/analytics",ZA="@firebase/app-check-compat",JA="@firebase/app-check",WA="@firebase/auth",tS="@firebase/auth-compat",eS="@firebase/database",nS="@firebase/data-connect",iS="@firebase/database-compat",sS="@firebase/functions",rS="@firebase/functions-compat",aS="@firebase/installations",oS="@firebase/installations-compat",lS="@firebase/messaging",uS="@firebase/messaging-compat",cS="@firebase/performance",hS="@firebase/performance-compat",fS="@firebase/remote-config",dS="@firebase/remote-config-compat",mS="@firebase/storage",gS="@firebase/storage-compat",pS="@firebase/firestore",yS="@firebase/ai",_S="@firebase/firestore-compat",vS="firebase",ES="12.6.0";const am="[DEFAULT]",TS={[rm]:"fire-core",[KA]:"fire-core-compat",[$A]:"fire-analytics",[XA]:"fire-analytics-compat",[JA]:"fire-app-check",[ZA]:"fire-app-check-compat",[WA]:"fire-auth",[tS]:"fire-auth-compat",[eS]:"fire-rtdb",[nS]:"fire-data-connect",[iS]:"fire-rtdb-compat",[sS]:"fire-fn",[rS]:"fire-fn-compat",[aS]:"fire-iid",[oS]:"fire-iid-compat",[lS]:"fire-fcm",[uS]:"fire-fcm-compat",[cS]:"fire-perf",[hS]:"fire-perf-compat",[fS]:"fire-rc",[dS]:"fire-rc-compat",[mS]:"fire-gcs",[gS]:"fire-gcs-compat",[pS]:"fire-fst",[_S]:"fire-fst-compat",[yS]:"fire-vertex","fire-js":"fire-js",[vS]:"fire-js-all"};const Jc=new Map,bS=new Map,om=new Map;function r0(s,t){try{s.container.addComponent(t)}catch(i){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function io(s){const t=s.name;if(om.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,s);for(const i of Jc.values())r0(i,s);for(const i of bS.values())r0(i,s);return!0}function Mm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function $n(s){return s==null?!1:s.settings!==void 0}const AS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Hl("app","Firebase",AS);class SS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const mo=ES;function Pv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:am,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(i||(i=Mv()),!i)throw ar.create("no-options");const c=Jc.get(l);if(c){if(cr(i,c.options)&&cr(a,c.config))return c;throw ar.create("duplicate-app",{appName:l})}const d=new NA(l);for(const g of om.values())d.addComponent(g);const y=new SS(i,a,d);return Jc.set(l,y),y}function jv(s=am){const t=Jc.get(s);if(!t&&s===am&&Mv())return Pv();if(!t)throw ar.create("no-app",{appName:s});return t}function or(s,t,i){let a=TS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}io(new Zr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const wS="firebase-heartbeat-database",RS=1,kl="firebase-heartbeat-store";let Kd=null;function Bv(){return Kd||(Kd=HA(wS,RS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),Kd}async function IS(s){try{const i=(await Bv()).transaction(kl),a=await i.objectStore(kl).get(qv(s));return await i.done,a}catch(t){if(t instanceof vs)ds.warn(t.message);else{const i=ar.create("idb-get",{originalErrorMessage:t?.message});ds.warn(i.message)}}}async function a0(s,t){try{const a=(await Bv()).transaction(kl,"readwrite");await a.objectStore(kl).put(t,qv(s)),await a.done}catch(i){if(i instanceof vs)ds.warn(i.message);else{const a=ar.create("idb-set",{originalErrorMessage:i?.message});ds.warn(a.message)}}}function qv(s){return`${s.name}!${s.options.appId}`}const CS=1024,xS=30;class NS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new OS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=o0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>xS){const l=MS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=o0(),{heartbeatsToSend:i,unsentEntries:a}=DS(this._heartbeatsCache.heartbeats),l=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ds.warn(t),""}}}function o0(){return new Date().toISOString().substring(0,10)}function DS(s,t=CS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),l0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),l0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class OS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _A()?vA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await IS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return a0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return a0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function l0(s){return Zc(JSON.stringify({version:2,heartbeats:s})).length}function MS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function VS(s){io(new Zr("platform-logger",t=>new QA(t),"PRIVATE")),io(new Zr("heartbeat",t=>new NS(t),"PRIVATE")),or(rm,s0,s),or(rm,s0,"esm2020"),or("fire-js","")}VS("");var kS="firebase",zS="12.7.0";or(kS,zS,"app");function Hv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LS=Hv,Gv=new Hl("auth","Firebase",Hv());const Wc=new Dm("@firebase/auth");function US(s,...t){Wc.logLevel<=kt.WARN&&Wc.warn(`Auth (${mo}): ${s}`,...t)}function Bc(s,...t){Wc.logLevel<=kt.ERROR&&Wc.error(`Auth (${mo}): ${s}`,...t)}function ms(s,...t){throw Vm(s,...t)}function Li(s,...t){return Vm(s,...t)}function Fv(s,t,i){const a={...LS(),[t]:i};return new Hl("auth","Firebase",a).create(t,{appName:s.name})}function hs(s){return Fv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Gv.create(s,...t)}function Et(s,t,...i){if(!s)throw Vm(t,...i)}function us(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Bc(t),new Error(t)}function gs(s,t){s||us(t)}function lm(){return typeof self<"u"&&self.location?.href||""}function PS(){return u0()==="http:"||u0()==="https:"}function u0(){return typeof self<"u"&&self.location?.protocol||null}function jS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PS()||mA()||"connection"in navigator)?navigator.onLine:!0}function BS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,gs(i>t,"Short delay should be less than long delay!"),this.isMobile=hA()||gA()}get(){return jS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function km(s,t){gs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Qv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const HS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GS=new Fl(3e4,6e4);function Ql(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function go(s,t,i,a,l={}){return Yv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const y=Gl({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:g,...c};return dA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&fo(s.emulatorConfig.host)&&(_.credentials="include"),Qv.fetch()(await Kv(s,s.config.apiHost,i,y),_)})}async function Yv(s,t,i){s._canInitEmulator=!1;const a={...qS,...t};try{const l=new FS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Mc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Mc(s,"user-disabled",d);const b=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fv(s,b,_);ms(s,b)}}catch(l){if(l instanceof vs)throw l;ms(s,"network-request-failed",{message:String(l)})}}async function zm(s,t,i,a,l={}){const c=await go(s,t,i,a,l);return"mfaPendingCredential"in c&&ms(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Kv(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?km(s.config,l):`${s.config.apiScheme}://${l}`;return HS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class FS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Li(this.auth,"network-request-failed")),GS.get())})}}function Mc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Li(s,t,a);return l.customData._tokenResponse=i,l}async function QS(s,t){return go(s,"POST","/v1/accounts:delete",t)}async function th(s,t){return go(s,"POST","/v1/accounts:lookup",t)}function xl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YS(s,t=!1){const i=en(s),a=await i.getIdToken(t),l=Lm(a);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:xl(Xd(l.auth_time)),issuedAtTime:xl(Xd(l.iat)),expirationTime:xl(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function Lm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Dv(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function c0(s){const t=Lm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof vs&&KS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function KS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class XS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(s){const t=s.auth,i=await s.getIdToken(),a=await zl(s,th(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Xv(l.providerUserInfo):[],d=ZS(s.providerData,c),y=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=y?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function $S(s){const t=en(s);await eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZS(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Xv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function JS(s,t){const i=await Yv(s,{},async()=>{const a=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Kv(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return s.emulatorConfig&&fo(s.emulatorConfig.host)&&(g.credentials="include"),Qv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function WS(s,t){return go(s,"POST","/v2/accounts:revokeToken",Ql(s,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):c0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=c0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await JS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return us("not implemented")}}function Js(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new XS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await zl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return YS(this,t)}reload(){return $S(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(hs(this.auth));const t=await this.getIdToken();return await zl(this,QS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:H,providerData:et,stsTokenManager:rt}=i;Et(A&&rt,t,"internal-error");const tt=Ja.fromJSON(this.name,rt);Et(typeof A=="string",t,"internal-error"),Js(a,t.name),Js(l,t.name),Et(typeof M=="boolean",t,"internal-error"),Et(typeof H=="boolean",t,"internal-error"),Js(c,t.name),Js(d,t.name),Js(y,t.name),Js(g,t.name),Js(_,t.name),Js(b,t.name);const mt=new hi({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:tt,createdAt:_,lastLoginAt:b});return et&&Array.isArray(et)&&(mt.providerData=et.map(bt=>({...bt}))),g&&(mt._redirectEventId=g),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await eh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Xv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new Ja;y.updateFromIdToken(a);const g=new hi({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const h0=new Map;function cs(s){gs(s instanceof Function,"Expected a class definition");let t=h0.get(s);return t?(gs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,h0.set(s,t),t)}class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}$v.type="NONE";const f0=$v;function qc(s,t,i){return`firebase:${s}:${t}:${i}`}class Wa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await th(this.auth,{idToken:t}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Wa(cs(f0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||cs(f0);const d=qc(a,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const M=await th(t,{idToken:b}).catch(()=>{});if(!M)break;A=await hi._fromGetAccountInfoResponse(t,M,b)}else A=hi._fromJSON(t,b);_!==c&&(y=A),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Wa(c,t,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Wa(c,t,a))}}function d0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nE(t))return"Blackberry";if(iE(t))return"Webos";if(Jv(t))return"Safari";if((t.includes("chrome/")||Wv(t))&&!t.includes("edge/"))return"Chrome";if(eE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Zv(s=cn()){return/firefox\//i.test(s)}function Jv(s=cn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wv(s=cn()){return/crios\//i.test(s)}function tE(s=cn()){return/iemobile/i.test(s)}function eE(s=cn()){return/android/i.test(s)}function nE(s=cn()){return/blackberry/i.test(s)}function iE(s=cn()){return/webos/i.test(s)}function Um(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function tw(s=cn()){return Um(s)&&!!window.navigator?.standalone}function ew(){return pA()&&document.documentMode===10}function sE(s=cn()){return Um(s)||eE(s)||iE(s)||nE(s)||/windows phone/i.test(s)||tE(s)}function rE(s,t=[]){let i;switch(s){case"Browser":i=d0(cn());break;case"Worker":i=`${d0(cn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${mo}/${a}`}class nw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,y)=>{try{const g=t(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function iw(s,t={}){return go(s,"GET","/v2/passwordPolicy",Ql(s,t))}const sw=6;class rw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??sw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class aw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new nw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await th(this,{idToken:t}),a=await hi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await eh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(hs(this));const i=t?en(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iw(this),i=new rw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await WS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&cs(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&US(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Yl(s){return en(s)}class m0{constructor(t){this.auth=t,this.observer=null,this.addObserver=SA(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ow(s){Pm=s}function lw(s){return Pm.loadJS(s)}function uw(){return Pm.gapiScript}function cw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function hw(s,t){const i=Mm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(cr(c,t??{}))return l;ms(l,"already-initialized")}return i.initialize({options:t})}function fw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(cs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function dw(s,t,i){const a=Yl(s);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=aE(t),{host:d,port:y}=mw(t),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},b=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(cr(_,a.config.emulator)&&cr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,fo(d)?(kv(`${c}//${d}${g}`),zv("Auth",!0)):gw()}function aE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function mw(s){const t=aE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:g0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:g0(d)}}}function g0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function gw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class oE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,i){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function to(s,t){return zm(s,"POST","/v1/accounts:signInWithIdp",Ql(s,t))}const pw="http://localhost";class Jr extends oE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ms("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Jr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return to(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,to(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,to(t,i)}buildRequest(){const t={requestUri:pw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}class lE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends lE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class tr extends Kl{constructor(){super("facebook.com")}static credential(t){return Jr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class er extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Jr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return er.credential(i,a)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class nr extends Kl{constructor(){super("github.com")}static credential(t){return Jr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends Kl{constructor(){super("twitter.com")}static credential(t,i){return Jr._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";async function yw(s,t){return zm(s,"POST","/v1/accounts:signUp",Ql(s,t))}class ps{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await hi._fromIdTokenResponse(t,a,l),d=p0(a);return new ps({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=p0(a);return new ps({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function p0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function _w(s){if($n(s.app))return Promise.reject(hs(s));const t=Yl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ps({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await yw(t,{returnSecureToken:!0}),a=await ps._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class nh extends vs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new nh(t,i,a,l)}}function uE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,c,t,a):c})}async function vw(s,t,i=!1){const a=await zl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ps._forOperation(s,"link",a)}async function Ew(s,t,i=!1){const{auth:a}=s;if($n(a.app))return Promise.reject(hs(a));const l="reauthenticate";try{const c=await zl(s,uE(a,l,t,s),i);Et(c.idToken,a,"internal-error");const d=Lm(c.idToken);Et(d,a,"internal-error");const{sub:y}=d;return Et(s.uid===y,a,"user-mismatch"),ps._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ms(a,"user-mismatch"),c}}async function Tw(s,t,i=!1){if($n(s.app))return Promise.reject(hs(s));const a="signIn",l=await uE(s,a,t),c=await ps._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function bw(s,t){return zm(s,"POST","/v1/accounts:signInWithCustomToken",Ql(s,t))}async function Aw(s,t){if($n(s.app))return Promise.reject(hs(s));const i=Yl(s),a=await bw(i,{token:t,returnSecureToken:!0}),l=await ps._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Sw(s,t,i,a){return en(s).onIdTokenChanged(t,i,a)}function ww(s,t,i){return en(s).beforeAuthStateChanged(t,i)}function Rw(s,t,i,a){return en(s).onAuthStateChanged(t,i,a)}const ih="__sak";class cE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Iw=1e3,Cw=10;class hE extends cE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);ew()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Cw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}hE.type="LOCAL";const xw=hE;class fE extends cE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}fE.type="SESSION";const dE=fE;function Nw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Eh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await Nw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function jm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class Dw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=jm("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function Ow(s){Ui().location.href=s}function mE(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function Mw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Vw(){return navigator?.serviceWorker?.controller||null}function kw(){return mE()?self:null}const gE="firebaseLocalStorageDb",zw=1,sh="firebaseLocalStorage",pE="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(s,t){return s.transaction([sh],t?"readwrite":"readonly").objectStore(sh)}function Lw(){const s=indexedDB.deleteDatabase(gE);return new Xl(s).toPromise()}function cm(){const s=indexedDB.open(gE,zw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(sh,{keyPath:pE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(sh)?t(a):(a.close(),await Lw(),t(await cm()))})})}async function y0(s,t,i){const a=Th(s,!0).put({[pE]:t,value:i});return new Xl(a).toPromise()}async function Uw(s,t){const i=Th(s,!1).get(t),a=await new Xl(i).toPromise();return a===void 0?null:a.value}function _0(s,t){const i=Th(s,!0).delete(t);return new Xl(i).toPromise()}const Pw=800,jw=3;class yE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>jw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(kw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Mw(),!this.activeServiceWorker)return;this.sender=new Dw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Vw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await y0(t,ih,"1"),await _0(t,ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Uw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Th(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yE.type="LOCAL";const Bw=yE;new Fl(3e4,6e4);function qw(s,t){return t?cs(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Bm extends oE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,i){return to(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Hw(s){return Tw(s.auth,new Bm(s),s.bypassAuthState)}function Gw(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),Ew(i,new Bm(s),s.bypassAuthState)}async function Fw(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),vw(i,new Bm(s),s.bypassAuthState)}class _E{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Hw;case"linkViaPopup":case"linkViaRedirect":return Fw;case"reauthViaPopup":case"reauthViaRedirect":return Gw;default:ms(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qw=new Fl(2e3,1e4);class $a extends _E{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Qw.get())};t()}}$a.currentPopupAction=null;const Yw="pendingRedirect",Hc=new Map;class Kw extends _E{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const a=await Xw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xw(s,t){const i=Jw(t),a=Zw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function $w(s,t){Hc.set(s._key(),t)}function Zw(s){return cs(s._redirectPersistence)}function Jw(s){return qc(Yw,s.config.apiKey,s.name)}async function Ww(s,t,i=!1){if($n(s.app))return Promise.reject(hs(s));const a=Yl(s),l=qw(a,t),d=await new Kw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const t2=600*1e3;class e2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!n2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!vE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=t2&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(t))}saveEventToCache(t){this.cachedEventUids.add(v0(t)),this.lastProcessedEventTime=Date.now()}}function v0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function vE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function n2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vE(s);default:return!1}}async function i2(s,t={}){return go(s,"GET","/v1/projects",t)}const s2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r2=/^https?/;async function a2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await i2(s);for(const i of t)try{if(o2(i))return}catch{}ms(s,"unauthorized-domain")}function o2(s){const t=lm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!r2.test(i))return!1;if(s2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const l2=new Fl(3e4,6e4);function E0(){const s=Ui().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function u2(s){return new Promise((t,i)=>{function a(){E0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{E0(),i(Li(s,"network-request-failed"))},timeout:l2.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const l=cw("iframefcb");return Ui()[l]=()=>{gapi.load?a():i(Li(s,"network-request-failed"))},lw(`${uw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Gc=null,t})}let Gc=null;function c2(s){return Gc=Gc||u2(s),Gc}const h2=new Fl(5e3,15e3),f2="__/auth/iframe",d2="emulator/auth/iframe",m2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p2(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?km(t,d2):`https://${s.config.authDomain}/${f2}`,a={apiKey:t.apiKey,appName:s.name,v:mo},l=g2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Gl(a).slice(1)}`}async function y2(s){const t=await c2(s),i=Ui().gapi;return Et(i,s,"internal-error"),t.open({where:document.body,url:p2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Li(s,"network-request-failed"),y=Ui().setTimeout(()=>{c(d)},h2.get());function g(){Ui().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const _2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v2=500,E2=600,T2="_blank",b2="http://localhost";class T0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A2(s,t,i,a=v2,l=E2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={..._2,width:a.toString(),height:l.toString(),top:c,left:d},_=cn().toLowerCase();i&&(y=Wv(_)?T2:i),Zv(_)&&(t=t||b2,g.scrollbars="yes");const b=Object.entries(g).reduce((M,[H,et])=>`${M}${H}=${et},`,"");if(tw(_)&&y!=="_self")return S2(t||"",y),new T0(null);const A=window.open(t||"",y,b);Et(A,s,"popup-blocked");try{A.focus()}catch{}return new T0(A)}function S2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const w2="__/auth/handler",R2="emulator/auth/handler",I2=encodeURIComponent("fac");async function b0(s,t,i,a,l,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:mo,eventId:l};if(t instanceof lE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",AA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Kl){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const b of Object.keys(y))y[b]===void 0&&delete y[b];const g=await s._getAppCheckToken(),_=g?`#${I2}=${encodeURIComponent(g)}`:"";return`${C2(s)}?${Gl(y).slice(1)}${_}`}function C2({config:s}){return s.emulator?km(s,R2):`https://${s.authDomain}/${w2}`}const $d="webStorageSupport";class x2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=Ww,this._overrideRedirectResult=$w}async _openPopup(t,i,a,l){gs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await b0(t,i,a,lm(),l);return A2(t,c,jm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await b0(t,i,a,lm(),l);return Ow(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(gs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await y2(t),a=new e2(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send($d,{type:$d},l=>{const c=l?.[0]?.[$d];c!==void 0&&i(!!c),ms(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=a2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return sE()||Jv()||Um()}}const N2=x2;var A0="@firebase/auth",S0="1.12.0";class D2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function O2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M2(s){io(new Zr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rE(s)},_=new aw(a,l,c,g);return fw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),io(new Zr("auth-internal",t=>{const i=Yl(t.getProvider("auth").getImmediate());return(a=>new D2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(A0,S0,O2(s)),or(A0,S0,"esm2020")}const V2=300,k2=Vv("authIdTokenMaxAge")||V2;let w0=null;const z2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>k2)return;const l=i?.token;w0!==l&&(w0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function L2(s=jv()){const t=Mm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=hw(s,{popupRedirectResolver:N2,persistence:[Bw,xw,dE]}),a=Vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=z2(c.toString());ww(i,d,()=>d(i.currentUser)),Sw(i,y=>d(y))}}const l=Ov("auth");return l&&dw(i,`http://${l}`),i}function U2(){return document.getElementsByTagName("head")?.[0]??document}ow({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Li("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",U2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M2("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,EE;(function(){var s;function t(x,w){function I(){}I.prototype=w.prototype,x.F=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,N,k){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],N=x.g[2];let k=x.g[3],R;R=w+(k^I&(N^k))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(N^w&(I^N))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(I^k&(w^I))+V[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(w^N&(k^w))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(k^I&(N^k))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(N^w&(I^N))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(I^k&(w^I))+V[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(w^N&(k^w))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(k^I&(N^k))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(N^w&(I^N))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(I^k&(w^I))+V[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(w^N&(k^w))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(k^I&(N^k))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(N^w&(I^N))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(I^k&(w^I))+V[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(w^N&(k^w))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(N^k&(I^N))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(w^I))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(k^w))+V[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(N^k))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(I^N))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(w^I))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(k^w))+V[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(N^k))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(I^N))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(w^I))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(k^w))+V[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(N^k))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(I^N))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(w^I))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(k^w))+V[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(N^k))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(I^N^k)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^N)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^I)+V[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^w)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^k)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^N)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^I)+V[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^w)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^k)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^N)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^I)+V[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^w)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^k)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^N)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^I)+V[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^w)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(N^(I|~k))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~N))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~I))+V[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~w))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~k))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~N))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~I))+V[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~w))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~k))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~N))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~I))+V[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~w))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~k))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~N))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~I))+V[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+k&4294967295}a.prototype.v=function(x,w){w===void 0&&(w=x.length);const I=w-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<w;){if(N==0)for(;k<=I;)l(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(V[N++]=x.charCodeAt(k++),N==this.blockSize){l(this,V),N=0;break}}else for(;k<w;)if(V[N++]=x[k++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[w++]=this.g[I]>>>V&255;return x};function c(x,w){var I=y;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function d(x,w){this.h=w;const I=[];let V=!0;for(let N=x.length-1;N>=0;N--){const k=x[N]|0;V&&k==w||(I[N]=k,V=!1)}this.g=I}var y={};function g(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return tt(_(-x));const w=[];let I=1;for(let V=0;x>=I;V++)w[V]=x/I|0,I*=4294967296;return new d(w,0)}function b(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return tt(b(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=A;for(let k=0;k<x.length;k+=8){var N=Math.min(8,x.length-k);const R=parseInt(x.substring(k,k+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var A=g(0),M=g(1),H=g(16777216);s=d.prototype,s.m=function(){if(rt(this))return-tt(this).m();let x=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(et(this))return"0";if(rt(this))return"-"+tt(this).toString(x);const w=_(Math.pow(x,6));var I=this;let V="";for(;;){const N=Bt(I,w).g;I=mt(I,N.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=N,et(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function et(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function rt(x){return x.h==-1}s.l=function(x){return x=mt(this,x),rt(x)?-1:et(x)?0:1};function tt(x){const w=x.g.length,I=[];for(let V=0;V<w;V++)I[V]=~x.g[V];return new d(I,~x.h).add(M)}s.abs=function(){return rt(this)?tt(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let N=0;N<=w;N++){let k=V+(this.i(N)&65535)+(x.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,k&=65535,R&=65535,I[N]=R<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(x,w){return x.add(tt(w))}s.j=function(x){if(et(this)||et(x))return A;if(rt(this))return rt(x)?tt(this).j(tt(x)):tt(tt(this).j(x));if(rt(x))return tt(this.j(tt(x)));if(this.l(H)<0&&x.l(H)<0)return _(this.m()*x.m());const w=this.g.length+x.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const k=this.i(V)>>>16,R=this.i(V)&65535,ie=x.i(N)>>>16,ye=x.i(N)&65535;I[2*V+2*N]+=R*ye,bt(I,2*V+2*N),I[2*V+2*N+1]+=k*ye,bt(I,2*V+2*N+1),I[2*V+2*N+1]+=R*ie,bt(I,2*V+2*N+1),I[2*V+2*N+2]+=k*ie,bt(I,2*V+2*N+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new d(I,0)};function bt(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function gt(x,w){this.g=x,this.h=w}function Bt(x,w){if(et(w))throw Error("division by zero");if(et(x))return new gt(A,A);if(rt(x))return w=Bt(tt(x),w),new gt(tt(w.g),tt(w.h));if(rt(w))return w=Bt(x,tt(w)),new gt(tt(w.g),w.h);if(x.g.length>30){if(rt(x)||rt(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=w;V.l(x)<=0;)I=$t(I),V=$t(V);var N=Dt(I,1),k=Dt(V,1);for(V=Dt(V,2),I=Dt(I,2);!et(V);){var R=k.add(V);R.l(x)<=0&&(N=N.add(I),k=R),V=Dt(V,1),I=Dt(I,1)}return w=mt(x,N.j(w)),new gt(N,w)}for(N=A;x.l(w)>=0;){for(I=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(I),R=k.j(w);rt(R)||R.l(x)>0;)I-=V,k=_(I),R=k.j(w);et(k)&&(k=M),N=N.add(k),x=mt(x,R)}return new gt(N,x)}s.B=function(x){return Bt(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function $t(x){const w=x.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Dt(x,w){const I=w>>5;w%=32;const V=x.g.length-I,N=[];for(let k=0;k<V;k++)N[k]=w>0?x.i(k+I)>>>w|x.i(k+I+1)<<32-w:x.i(k+I);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,EE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,lr=d}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TE,Al,bE,Fc,hm,AE,SE,wE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return m.prototype[L].apply(T,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let nt=0;nt<B;nt++)u[v+nt]=L[nt]}else u.push(L)}}class rt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new rt(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Dt=!1,x=new bt,w=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ie,N),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ot(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const nt=St(u,m,T,L);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new it(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function ft(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var J="closure_lm_"+(Math.random()*1e6|0),W={};function Z(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Z(u,m[B],v,T,L);return null}return v=Qe(v),u&&u[ye]?u.J(m,v,y(T)?!!T.capture:!1,L):Ct(u,m,v,!1,T,L)}function Ct(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const nt=y(L)?!!L.capture:!!L;let wt=ee(u);if(wt||(u[J]=wt=new at(u)),v=wt.add(m,v,T,nt,B),v.proxy)return v;if(T=Pe(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Fe(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pe(){function u(v){return m.call(u.src,u.listener,v)}const m=fi;return u}function ke(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ke(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=Qe(v),u&&u[ye]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ee(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,L)),(v=u>-1?m[u]:null)&&sn(v))}function sn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ye])ft(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Fe(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ee(m))?(ft(v,u),v.h==0&&(v.src=null,m[J]=null)):ht(u)}}}function Fe(u){return u in W?W[u]:W[u]="on"+u}function fi(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&sn(u),u=v.call(T,m)}return u}function ee(u){return u=u[J],u instanceof at?u:null}var hn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qe(u){return typeof u=="function"?u:(u[hn]||(u[hn]=function(m){return u.handleEvent(m)}),u[hn])}function se(){V.call(this),this.i=new at(this),this.M=this,this.G=null}A(se,V),se.prototype[ye]=!0,se.prototype.removeEventListener=function(u,m,v,T){ke(this,u,m,v,T)};function de(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),st(m,L)}L=!0;let B,nt;if(v)for(nt=v.length-1;nt>=0;nt--)B=m.g=v[nt],L=di(B,T,!0,m)&&L;if(B=m.g=u,L=di(B,T,!0,m)&&L,L=di(B,T,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)B=m.g=v[nt],L=di(B,T,!1,m)&&L}se.prototype.N=function(){if(se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},se.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},se.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function di(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const nt=m[B];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,Ee=nt.ha||nt.src;nt.fa&&ft(u.i,nt),L=wt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function Er(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function mi(u){u.g=Er(()=>{u.g=null,u.i&&(u.i=!1,mi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _e extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(u){V.call(this),this.h=u,this.g={}}A(rn,V);var Eo=[];function To(u){Ot(u.g,function(m,v){this.g.hasOwnProperty(v)&&sn(m)},u),u.g={}}rn.prototype.N=function(){rn.Z.N.call(this),To(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=d.JSON.stringify,jh=d.JSON.parse,su=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ru(){}function au(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){N.call(this,"d")}A(Ye,N);function zn(){N.call(this,"c")}A(zn,N);var ve={},ou=null;function ia(){return ou=ou||new se}ve.Ia="serverreachability";function lu(u){N.call(this,ve.Ia,u)}A(lu,N);function gi(u){const m=ia();de(m,new lu(m))}ve.STAT_EVENT="statevent";function Tr(u,m){N.call(this,ve.STAT_EVENT,u),this.stat=m}A(Tr,N);function we(u){const m=ia();de(m,new Tr(m,u))}ve.Ja="timingevent";function pi(u,m){N.call(this,ve.Ja,u),this.size=m}A(pi,N);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Bh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var nt="",wt=B.split("&");for(let Ft=0;Ft<wt.length;Ft++){var Ee=wt[Ft].split("=");if(Ee.length>1){const ce=Ee[0];Ee=Ee[1];const jn=ce.split("_");nt=jn.length>=2&&jn[1]=="type"?nt+(ce+"="+Ee+"&"):nt+(ce+"=redacted&")}}}else nt=null;else nt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function uu(u,m,v,T,L,B,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+nt})}function _i(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,v)+(T?" "+T:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return Es(B)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function Sr(){}A(Sr,ru),Sr.prototype.g=function(){return new XMLHttpRequest},Ao=new Sr;function Gi(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Re={},je={};function vi(u,m,v){u.M=1,u.A=wr(Ce(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),Ei(u),u.B=Ce(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),la(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ei,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new _e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Eo[0]=L.toString()),L=Eo);for(let B=0;B<L.length;B++){const nt=Z(v,L[B],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)t:{const wt=si(this.g),Ee=this.g.ya(),Ft=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||wt!=4||Ee==7||(Ee==8||Ft<=0?gi(3):gi(2)),Ti(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,we(12),An(this),Ln(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=fu(this,v),ce==je){wt==4&&(this.m=4,we(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Re){this.m=4,we(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,ce,null),bi(this,ce);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(nt),nt.P=!0,we(11))}}else _i(this.i,this.l,v,null),bi(this,v);wt==4&&An(this),this.o&&!this.K&&(wt==4?Tu(this.j,this):(this.o=!1,Ei(this)))}else Qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),An(this),Ln(this)}}}catch{}};function Hh(u){if(!hu(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const T=m.length,L=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?je:(v=Number(m.substring(v,T)),isNaN(v)?Re:(T+=1,T+v>m.length?je:(m=m.slice(T,T+v),u.C=T+v,m)))}ti.prototype.cancel=function(){this.K=!0,An(this)};function Ei(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(_(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(gi(),we(17)),An(this),this.m=2,Ln(this)):ra(this,this.T-u)};function Ln(u){u.j.I==0||u.K||Tu(u.j,u)}function An(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,To(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Si(v.h,u))){if(!u.L&&Si(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),Cs(v);else break t;Or(v),we(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(_(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&da(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ft=L[m];const ce=Ft[0];if(!(ce<=v.K))if(v.K=ce,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const jn=Ft[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Di=Ft[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ri=Ft[5];ri!=null&&typeof ri=="number"&&ri>0&&(T=1.5*ri,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ai=u.g;if(ai){const Mr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var B=T.h;B.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ro(B,B.h),B.h=null))}if(T.G){const ma=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(T.wa=ma,Yt(T.J,T.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var nt=u;if(T.na=Su(T,T.L?T.ba:null,T.W),nt.L){Io(T.h,nt);var wt=nt,Ee=T.O;Ee&&(wt.H=Ee),wt.D&&(Ti(wt),Ei(wt)),T.g=nt}else vu(T);v.i.length>0&&xi(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ni(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ni(v,7):zo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}gi(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function So(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function Si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}So.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Co(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,xo(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Be(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),Ts(this,m[4]),this.h=wi(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,oa,!0),"@"),u.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?No:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,gu)),u.join("")},Sn.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ts(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let nt=0;nt<L.length;){const wt=L[nt++];wt=="."?T&&nt==L.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&nt==L.length&&B.push("")):(B.push(wt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?xo(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new Sn(u)}function Be(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,v){m instanceof As?(u.i=m,ua(u.i,u.l)):(v||(m=Rr(m,bs)),u.i=new As(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function wr(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,mu=/[#\?:]/g,No=/[#\?]/g,bs=/[#\?@]/g,gu=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=As.prototype,s.add=function(u,m){pn(this),this.i=null,u=Ss(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pu(u,m){pn(u),m=Ss(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return pn(u),m=Ss(u,m),u.g.has(m)}s.forEach=function(u,m){pn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Oo(u,m){pn(u);let v=[];if(typeof m=="string")Do(u,m)&&(v=v.concat(u.g.get(Ss(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return pn(this),this.i=null,u=Ss(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){pu(u,m),v.length>0&&(u.i=null,u.g.set(Ss(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Gi(v);v=Oo(this,v);for(let B=0;B<v.length;B++){let nt=L;v[B]!==""&&(nt+="="+Gi(v[B])),u.push(nt)}}return this.i=u.join("&")};function yu(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ss(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(pu(this,T),la(this,L,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const T=new Image;T.onload=b(Un,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Un,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Un,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Un,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Mo(u,m){const v=new Wn,T=new AbortController,L=setTimeout(()=>{T.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ws(){this.g=new su}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ri,ru),Ri.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(u,m){se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ir,se),s=Ir.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Rs(this):ii(this),this.readyState==3&&ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},s.Na=function(u){this.g&&(this.response=u,Rs(this))},s.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return Ot(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Cr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Pn(v),typeof u=="string"?v!=null&&Gi(v):Yt(u,m,v))}function Zt(u){se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,se);var Ii=/^https?$/i,Vo=["POST","PUT"];s=Zt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){xr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,nt]of v)this.g.setRequestHeader(B,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){xr(this,B)}};function xr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ko(u),Fi(u)}function ko(u){u.A||(u.A=!0,de(u,"complete"),de(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,de(this,"complete"),de(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(de(u,"readystatechange"),si(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let nt=String(u.D).match(du)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!Ii.test(nt?nt.toLowerCase():"")}v=T}if(v)de(u,"complete"),de(u,"success");else{u.o=6;try{var L=si(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",ko(u)}}finally{Fi(u)}}}}function Fi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||de(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),jh(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=cu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}qt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){we(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Su(this,null,this.W),xi(this)};function zo(u){if(ha(u),u.I==3){var m=u.V++,v=Ce(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),Dr(u,v),m=new ti(u,u.j,m),m.M=2,m.A=wr(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Au(u)}function Cs(u){u.g&&(Uo(u),u.g.cancel(),u.g=null)}function ha(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!wo(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||w(),Dt||($t(),Dt=!0),x.add(m,u),u.D=0}}function fa(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ti(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),st(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,L,m),v=Ce(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Dr(this,v),B&&(this.R?m="headers="+Gi(Pn(B))+"&"+m:this.u&&Cr(v,this.u,B)),Ro(this.h,L),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),L.U=!0,vi(L,v,null)):vi(L,v,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||wo(this.h)||Lo(this))};function Lo(u,m){var v;m?v=m.l:v=u.V++;const T=Ce(u.J);Yt(T,"SID",u.M),Yt(T,"RID",v),Yt(T,"AID",u.K),Dr(u,T),u.u&&u.o&&Cr(T,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),vi(v,T,m)}function Dr(u,m){u.H&&Ot(u.H,function(v,T){Yt(m,T,v)}),u.l&&Ot({},function(v,T){Yt(m,T,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const Ee=["count="+v];wt==-1?v>0?(wt=L[0].g,Ee.push("ofs="+wt)):wt=0:Ee.push("ofs="+wt);let Ft=!0;for(let ce=0;ce<v;ce++){var B=L[ce].g;const jn=L[ce].map;if(B-=wt,B<0)wt=Math.max(0,L[ce].g-100),Ft=!1;else try{B="req"+B+"_"||"";try{var nt=jn instanceof Map?jn:Object.entries(jn);for(const[Di,ri]of nt){let ai=ri;y(ri)&&(ai=Es(ri)),Ee.push(B+Di+"="+encodeURIComponent(ai))}}catch(Di){throw Ee.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{T&&T(jn)}}if(Ft){nt=Ee.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||w(),Dt||($t(),Dt=!0),x.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(_(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Cs(this),Eu(this))};function Uo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(Ce(m)),v.u=null,v.R=!0,sa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),Or(this),we(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){da(u),Uo(u),u.g=null;var T=2}else if(Si(u.h,m))v=m.G,Io(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ia(),de(T,new pi(T,v)),xi(u)}else vu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&fa(u,m)||T==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(T,"https"),wr(T),L?ni(T.toString(),v):Mo(T.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),Au(u),ha(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=Co(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var T=v instanceof Sn?Ce(v):new Sn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ts(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Sn(null);T&&Be(B,T),m&&(B.g=m),L&&Ts(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Yt(T,v,m),Yt(T,"VER",u.ka),Dr(u,T),T}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new Ri({ab:v})):new Zt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}s=Ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function xs(){}xs.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){se.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yi(this)}A(fn,se),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){zo(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Es(u),u=v);m.i.push(new Ie(m.Ya++,u)),m.I==3&&xi(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,fn.Z.N.call(this)};function Iu(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Iu,Ye);function Cu(){zn.call(this),this.status=1}A(Cu,zn);function Yi(u){this.g=u}A(Yi,Ru),Yi.prototype.ra=function(){de(this.g,"a")},Yi.prototype.qa=function(u){de(this.g,new Iu(u))},Yi.prototype.pa=function(u){de(this.g,new Cu)},Yi.prototype.oa=function(){de(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,wE=function(){return new xs},SE=function(){return ia()},AE=ve,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Fc=Ar,bo.COMPLETE="complete",bE=bo,au.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",se.prototype.listen=se.prototype.J,Al=au,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,TE=Zt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const I0="@firebase/firestore",C0="4.9.3";let ln=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let po="12.7.0";const Wr=new Dm("@firebase/firestore");function Qa(){return Wr.logLevel}function ot(s,...t){if(Wr.logLevel<=kt.DEBUG){const i=t.map(qm);Wr.debug(`Firestore (${po}): ${s}`,...i)}}function ys(s,...t){if(Wr.logLevel<=kt.ERROR){const i=t.map(qm);Wr.error(`Firestore (${po}): ${s}`,...i)}}function so(s,...t){if(Wr.logLevel<=kt.WARN){const i=t.map(qm);Wr.warn(`Firestore (${po}): ${s}`,...i)}}function qm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function pt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,RE(s,a,i)}function RE(s,t,i){let a=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ys(a),new Error(a)}function jt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||RE(t,l,a)}function Tt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends vs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class IE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class P2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class j2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class B2{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new IE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class q2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new q2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new x0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function F2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Hm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=F2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function zt(s,t){return s<t?-1:s>t?1:0}function fm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Zd(l)===Zd(c)?zt(l,c):Zd(l)?1:-1}return zt(s.length,t.length)}const Q2=55296,Y2=57343;function Zd(s){const t=s.charCodeAt(0);return t>=Q2&&t<=Y2}function ro(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const N0="__name__";class zi{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return zi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof zi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=zi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const a=zi.isNumericId(t),l=zi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?zi.extractNumericId(t).compare(zi.extractNumericId(i)):fm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lr.fromString(t.substring(4,t.length-2))}}class le extends zi{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const K2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends zi{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return K2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new tn([N0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(le.fromString(t))}static fromName(t){return new yt(le.fromString(t).popFirst(5))}static empty(){return new yt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new le(t.slice()))}}function X2(s,t,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function $2(s,t,i,a){if(t===!0&&a===!0)throw new ut($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function D0(s){if(!yt.isDocumentKey(s))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function CE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Gm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function Zn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Gm(s);throw new ut($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ve(s,t){const i={typeString:s};return t&&(i.value=t),i}function $l(s,t){if(!CE(s))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}const O0=-62135596800,M0=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*M0);return new ue(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<O0)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M0}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-O0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Ve("string",ue._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ue(0,0))}static max(){return new vt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ll=-1;function Z2(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new hr(l,yt.empty(),t)}function J2(s){return new hr(s.readTime,s.key,Ll)}class hr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new hr(vt.min(),yt.empty(),Ll)}static max(){return new hr(vt.max(),yt.empty(),Ll)}}function W2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(s.documentKey,t.documentKey),i!==0?i:zt(s.largestBatchId,t.largestBatchId))}const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function yo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==tR)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(t[_]).next((b=>{d[_]=b,++y,y===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function nR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _o(s){return s.name==="IndexedDbTransactionError"}class bh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bh.ce=-1;const Fm=-1;function Zl(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function iR(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const xE="";function sR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=V0(t)),t=rR(s.get(i),t);return V0(t)}function rR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case xE:i+="";break;default:i+=c}}return i}function V0(s){return s+xE+""}function k0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function _r(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function NE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kc(this.root,t,this.comparator,!0)}}class kc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??We.RED,this.left=l??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new We(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(t){return new z0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class z0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new Vn([])}unionWith(t){let i=new Ue(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class DE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new DE("Invalid base64 string: "+c):c}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const aR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(jt(!!s,39018),typeof s=="string"){let t=0;const i=aR.exec(s);if(jt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(s.seconds),nanos:Ae(s.nanos)}}function Ae(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const OE="server_timestamp",ME="__type__",VE="__previous_value__",kE="__local_write_time__";function Qm(s){return(s?.mapValue?.fields||{})[ME]?.stringValue===OE}function Ah(s){const t=s.mapValue.fields[VE];return Qm(t)?Ah(t):t}function Ul(s){const t=fr(s.mapValue.fields[kE].timestampValue);return new ue(t.seconds,t.nanos)}class oR{constructor(t,i,a,l,c,d,y,g,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=b}}const ah="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||ah}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}const zE="__type__",lR="__max__",zc={mapValue:{}},LE="__vector__",oh="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qm(s)?4:cR(s)?9007199254740991:uR(s)?10:11:pt(28295,{value:s})}function qi(s,t){if(s===t)return!0;const i=mr(s);if(i!==mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ul(s).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=fr(l.timestampValue),y=fr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return dr(l.bytesValue).isEqual(dr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),y=Ae(c.doubleValue);return d===y?rh(d)===rh(y):isNaN(d)&&isNaN(y)}return!1})(s,t);case 9:return ro(s.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(k0(d)!==k0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!qi(d[g],y[g])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function jl(s,t){return(s.values||[]).find((i=>qi(i,t)))!==void 0}function ao(s,t){if(s===t)return 0;const i=mr(s),a=mr(t);if(i!==a)return zt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const y=Ae(c.integerValue||c.doubleValue),g=Ae(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(s,t);case 3:return L0(s.timestampValue,t.timestampValue);case 4:return L0(Ul(s),Ul(t));case 5:return fm(s.stringValue,t.stringValue);case 6:return(function(c,d){const y=dr(c),g=dr(d);return y.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const b=zt(y[_],g[_]);if(b!==0)return b}return zt(y.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const y=zt(Ae(c.latitude),Ae(d.latitude));return y!==0?y:zt(Ae(c.longitude),Ae(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return U0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[oh]?.arrayValue,b=g[oh]?.arrayValue,A=zt(_?.values?.length||0,b?.values?.length||0);return A!==0?A:U0(_,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},b=Object.keys(_);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const M=fm(g[A],b[A]);if(M!==0)return M;const H=ao(y[g[A]],_[b[A]]);if(H!==0)return H}return zt(g.length,b.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function L0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const i=fr(s),a=fr(t),l=zt(i.seconds,a.seconds);return l!==0?l:zt(i.nanos,a.nanos)}function U0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ao(i[l],a[l]);if(c)return c}return zt(i.length,a.length)}function oo(s){return dm(s)}function dm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=fr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return yt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=dm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${dm(i.fields[d])}`;return l+"}"})(s.mapValue):pt(61005,{value:s})}function Qc(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(s);return t?16+Qc(t):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return _r(a.fields,((c,d)=>{l+=c.length+Qc(d)})),l})(s.mapValue);default:throw pt(13486,{value:s})}}function mm(s){return!!s&&"integerValue"in s}function Ym(s){return!!s&&"arrayValue"in s}function P0(s){return!!s&&"nullValue"in s}function j0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function uR(s){return(s?.mapValue?.fields||{})[zE]?.stringValue===LE}function Nl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return _r(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Nl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Nl(s.arrayValue.values[i]);return t}return{...s}}function cR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===lR}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(i)}setAll(t){let i=tn.emptyPath(),a={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Nl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){_r(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new mn(Nl(this.value))}}function UE(s){const t=[];return _r(s.fields,((i,a)=>{const l=new tn([i]);if(Yc(a)){const c=UE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Vn(t)}class Ge{constructor(t,i,a,l,c,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Ge(t,0,vt.min(),vt.min(),vt.min(),mn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ge(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Ge(t,2,i,vt.min(),vt.min(),mn.empty(),0)}static newUnknownDocument(t,i){return new Ge(t,3,i,vt.min(),vt.min(),mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(t,i){this.position=t,this.inclusive=i}}function B0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(d.referenceValue),i.key):a=ao(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function q0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],t.position[i]))return!1;return!0}class uh{constructor(t,i="asc"){this.field=t,this.dir=i}}function hR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class PE{}class Le extends PE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new dR(t,i,a):i==="array-contains"?new pR(t,a):i==="in"?new yR(t,a):i==="not-in"?new _R(t,a):i==="array-contains-any"?new vR(t,a):new Le(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new mR(t,a):new gR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends PE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Hi(t,i)}matches(t){return jE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jE(s){return s.op==="and"}function BE(s){return fR(s)&&jE(s)}function fR(s){for(const t of s.filters)if(t instanceof Hi)return!1;return!0}function gm(s){if(s instanceof Le)return s.field.canonicalString()+s.op.toString()+oo(s.value);if(BE(s))return s.filters.map((t=>gm(t))).join(",");{const t=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${t})`}}function qE(s,t){return s instanceof Le?(function(a,l){return l instanceof Le&&a.op===l.op&&a.field.isEqual(l.field)&&qi(a.value,l.value)})(s,t):s instanceof Hi?(function(a,l){return l instanceof Hi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&qE(d,l.filters[y])),!0):!1})(s,t):void pt(19439)}function HE(s){return s instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(s):s instanceof Hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(HE).join(" ,")+"}"})(s):"Filter"}class dR extends Le{constructor(t,i,a){super(t,i,a),this.key=yt.fromName(a.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class mR extends Le{constructor(t,i){super(t,"in",i),this.keys=GE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class gR extends Le{constructor(t,i){super(t,"not-in",i),this.keys=GE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function GE(s,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class pR extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ym(i)&&jl(i.arrayValue,this.value)}}class yR extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class _R extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class vR extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jl(this.value.arrayValue,a)))}}class ER{constructor(t,i=null,a=[],l=[],c=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function H0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new ER(s,t,i,a,l,c,d)}function Km(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>gm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Zl(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>oo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>oo(a))).join(",")),t.Te=i}return t.Te}function Xm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!hR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!qE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!q0(s.startAt,t.startAt)&&q0(s.endAt,t.endAt)}function pm(s){return yt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Sh{constructor(t,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TR(s,t,i,a,l,c,d,y){return new Sh(s,t,i,a,l,c,d,y)}function wh(s){return new Sh(s)}function G0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bR(s){return s.collectionGroup!==null}function Dl(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ue(tn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new uh(c,a))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new uh(tn.keyField(),a))}return t.Ie}function Pi(s){const t=Tt(s);return t.Ee||(t.Ee=AR(t,Dl(s))),t.Ee}function AR(s,t){if(s.limitType==="F")return H0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new uh(l.field,c)}));const i=s.endAt?new lh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new lh(s.startAt.position,s.startAt.inclusive):null;return H0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function ym(s,t,i){return new Sh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Rh(s,t){return Xm(Pi(s),Pi(t))&&s.limitType===t.limitType}function FE(s){return`${Km(Pi(s))}|lt:${s.limitType}`}function Ya(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>HE(l))).join(", ")}]`),Zl(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${a})`})(Pi(s))}; limitType=${s.limitType})`}function Ih(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=B0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,y,g){const _=B0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Dl(a),l))})(s,t)}function SR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function QE(s){return(t,i)=>{let a=!1;for(const l of Dl(s)){const c=wR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function wR(s,t,i){const a=s.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?ao(g,_):pt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}class ea{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){_r(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return NE(this.inner)}size(){return this.innerSize}}const RR=new me(yt.comparator);function _s(){return RR}const YE=new me(yt.comparator);function Sl(...s){let t=YE;for(const i of s)t=t.insert(i.key,i);return t}function KE(s){let t=YE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function $r(){return Ol()}function XE(){return Ol()}function Ol(){return new ea((s=>s.toString()),((s,t)=>s.isEqual(t)))}const IR=new me(yt.comparator),CR=new Ue(yt.comparator);function Lt(...s){let t=CR;for(const i of s)t=t.add(i);return t}const xR=new Ue(zt);function NR(){return xR}function $m(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function $E(s){return{integerValue:""+s}}function DR(s,t){return iR(t)?$E(t):$m(s,t)}class Ch{constructor(){this._=void 0}}function OR(s,t,i){return s instanceof ch?(function(l,c){const d={fields:{[ME]:{stringValue:OE},[kE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Qm(c)&&(c=Ah(c)),c&&(d.fields[VE]=c),{mapValue:d}})(i,t):s instanceof lo?JE(s,t):s instanceof Bl?WE(s,t):(function(l,c){const d=ZE(l,c),y=F0(d)+F0(l.Ae);return mm(d)&&mm(l.Ae)?$E(y):$m(l.serializer,y)})(s,t)}function MR(s,t,i){return s instanceof lo?JE(s,t):s instanceof Bl?WE(s,t):i}function ZE(s,t){return s instanceof hh?(function(a){return mm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ch extends Ch{}class lo extends Ch{constructor(t){super(),this.elements=t}}function JE(s,t){const i=tT(t);for(const a of s.elements)i.some((l=>qi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends Ch{constructor(t){super(),this.elements=t}}function WE(s,t){let i=tT(t);for(const a of s.elements)i=i.filter((l=>!qi(l,a)));return{arrayValue:{values:i}}}class hh extends Ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function F0(s){return Ae(s.integerValue||s.doubleValue)}function tT(s){return Ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class VR{constructor(t,i){this.field=t,this.transform=i}}function kR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof lo&&l instanceof lo||a instanceof Bl&&l instanceof Bl?ro(a.elements,l.elements,qi):a instanceof hh&&l instanceof hh?qi(a.Ae,l.Ae):a instanceof ch&&l instanceof ch})(s.transform,t.transform)}class zR{constructor(t,i){this.version=t,this.transformResults=i}}class un{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new un}static exists(t){return new un(void 0,t)}static updateTime(t){return new un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class xh{}function eT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Nh(s.key,un.none()):new Jl(s.key,s.data,un.none());{const i=s.data,a=mn.empty();let l=new Ue(tn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new vr(s.key,a,new Vn(l.toArray()),un.none())}}function LR(s,t,i){s instanceof Jl?(function(l,c,d){const y=l.value.clone(),g=Y0(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):s instanceof vr?(function(l,c,d){if(!Kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=Y0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(nT(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(s,t,i,a){return s instanceof Jl?(function(c,d,y,g){if(!Kc(c.precondition,d))return y;const _=c.value.clone(),b=K0(c.fieldTransforms,g,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof vr?(function(c,d,y,g){if(!Kc(c.precondition,d))return y;const _=K0(c.fieldTransforms,g,d),b=d.data;return b.setAll(nT(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,y){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,t,i)}function UR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=ZE(a.transform,l||null);c!=null&&(i===null&&(i=mn.empty()),i.set(a.field,c))}return i||null}function Q0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ro(a,l,((c,d)=>kR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Jl extends xh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vr extends xh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function nT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Y0(s,t,i){const a=new Map;jt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=t.data.field(c.field);a.set(c.field,MR(d,y,i[l]))}return a}function K0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,OR(c,d,t))}return a}class Nh extends xh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iT extends xh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&LR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=XE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=eT(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((i,a)=>Q0(i,a)))&&ro(this.baseMutations,t.baseMutations,((i,a)=>Q0(i,a)))}}class Zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){jt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return IR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Zm(t,i,a,l)}}class jR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,Pt;function sT(s){switch(s){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function rT(s){if(s===void 0)return ys("GRPC error has no .code"),$.UNKNOWN;switch(s){case Me.OK:return $.OK;case Me.CANCELLED:return $.CANCELLED;case Me.UNKNOWN:return $.UNKNOWN;case Me.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Me.INTERNAL:return $.INTERNAL;case Me.UNAVAILABLE:return $.UNAVAILABLE;case Me.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Me.NOT_FOUND:return $.NOT_FOUND;case Me.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Me.ABORTED:return $.ABORTED;case Me.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Me.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:s})}}(Pt=Me||(Me={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function qR(){return new TextEncoder}const HR=new lr([4294967295,4294967295],0);function X0(s){const t=qR().encode(s),i=new EE;return i.update(t),new Uint8Array(i.digest())}function $0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new lr([i,a],0),new lr([l,c],0)]}class Jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(a<0)throw new wl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=lr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(lr.fromNumber(a)));return l.compare(HR)===1&&(l=new lr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=X0(t),[a,l]=$0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Jm(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=X0(t),[a,l]=$0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Dh(vt.min(),l,new me(zt),_s(),Lt())}}class Wl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Wl(a,i,Lt(),Lt(),Lt())}}class Xc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class aT{constructor(t,i){this.targetId=t,this.Ce=i}}class oT{constructor(t,i,a=nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Z0{constructor(){this.ve=0,this.Fe=J0(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Wl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=J0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GR{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.Je=Lc(),this.He=Lc(),this.Ye=new me(zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(a===0){const d=new yt(c.path);this.et(i,d,Ge.newNoDocument(d,vt.min()))}else jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(t),g=y?this.ct(y,t,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=dr(a).toUint8Array()}catch(g){if(g instanceof DE)return so("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Jm(d,l,c)}catch(g){return so(g instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&pm(y.target)){const g=new yt(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Ge.newNoDocument(g,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Lt();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Dh(t,i,this.Ye,this.je,a);return this.je=_s(),this.Je=Lc(),this.He=Lc(),this.Ye=new me(zt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Z0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ue(zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ue(zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Z0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Lc(){return new me(yt.comparator)}function J0(){return new me(yt.comparator)}const FR={asc:"ASCENDING",desc:"DESCENDING"},QR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YR={and:"AND",or:"OR"};class KR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function _m(s,t){return s.useProto3Json||Zl(t)?t:{value:t}}function fh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function XR(s,t){return fh(s,t.toTimestamp())}function kn(s){return jt(!!s,49232),vt.fromTimestamp((function(i){const a=fr(i);return new ue(a.seconds,a.nanos)})(s))}function Wm(s,t){return vm(s,t).canonicalString()}function vm(s,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function uT(s){const t=le.fromString(s);return jt(gT(t),10190,{key:t.toString()}),t}function dh(s,t){return Wm(s.databaseId,t.path)}function Vl(s,t){const i=uT(t);if(i.get(1)!==s.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new yt(hT(i))}function cT(s,t){return Wm(s.databaseId,t)}function $R(s){const t=uT(s);return t.length===4?le.emptyPath():hT(t)}function Em(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function hT(s){return jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function W0(s,t,i){return{name:dh(s,t),fields:i.value.mapValue.fields}}function ZR(s,t){return"found"in t?(function(a,l){jt(!!l.found,43571),l.found.name,l.found.updateTime;const c=Vl(a,l.found.name),d=kn(l.found.updateTime),y=l.found.createTime?kn(l.found.createTime):vt.min(),g=new mn({mapValue:{fields:l.found.fields}});return Ge.newFoundDocument(c,d,y,g)})(s,t):"missing"in t?(function(a,l){jt(!!l.missing,3894),jt(!!l.readTime,22933);const c=Vl(a,l.missing),d=kn(l.readTime);return Ge.newNoDocument(c,d)})(s,t):pt(7234,{result:t})}function JR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(jt(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(jt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:rT(_.code);return new ut(b,_.message||"")})(d);i=new oT(a,l,c,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Vl(s,a.document.name),c=kn(a.document.updateTime),d=a.document.createTime?kn(a.document.createTime):vt.min(),y=new mn({mapValue:{fields:a.document.fields}}),g=Ge.newFoundDocument(l,c,d,y),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Xc(_,b,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Vl(s,a.document),c=a.readTime?kn(a.readTime):vt.min(),d=Ge.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Xc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Vl(s,a.document),c=a.removedTargetIds||[];i=new Xc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new BR(l,c),y=a.targetId;i=new aT(y,d)}}return i}function fT(s,t){let i;if(t instanceof Jl)i={update:W0(s,t.key,t.value)};else if(t instanceof Nh)i={delete:dh(s,t.key)};else if(t instanceof vr)i={update:W0(s,t.key,t.data),updateMask:oI(t.fieldMask)};else{if(!(t instanceof iT))return pt(16599,{Vt:t.type});i={verify:dh(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof ch)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof hh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:XR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(s,t.precondition)),i}function WR(s,t){return s&&s.length>0?(jt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?kn(l.updateTime):kn(c);return d.isEqual(vt.min())&&(d=kn(c)),new zR(d,l.transformResults||[])})(i,t)))):[]}function tI(s,t){return{documents:[cT(s,t.path)]}}function eI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=cT(s,l);const c=(function(_){if(_.length!==0)return mT(Hi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(M){return{field:Ka(M.field),direction:sI(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=_m(s,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function nI(s){let t=$R(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){jt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=dT(A);return M instanceof Hi&&BE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(et){return new uh(Xa(et.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let M;return M=typeof A=="object"?A.value:A,Zl(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(A){const M=!!A.before,H=A.values||[];return new lh(H,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,H=A.values||[];return new lh(H,M)})(i.endAt)),TR(t,l,d,c,y,"F",g,_)}function iI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function dT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Xa(i.unaryFilter.field);return Le.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xa(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xa(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Le.create(Xa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Hi.create(i.compositeFilter.filters.map((a=>dT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(s):pt(30097,{filter:s})}function sI(s){return FR[s]}function rI(s){return QR[s]}function aI(s){return YR[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Xa(s){return tn.fromServerFormat(s.fieldPath)}function mT(s){return s instanceof Le?(function(i){if(i.op==="=="){if(j0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(P0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(j0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(P0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:rI(i.op),value:i.value}}})(s):s instanceof Hi?(function(i){const a=i.getFilters().map((l=>mT(l)));return a.length===1?a[0]:{compositeFilter:{op:aI(i.op),filters:a}}})(s):pt(54877,{filter:s})}function oI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function gT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class sr{constructor(t,i,a,l,c=vt.min(),d=vt.min(),y=nn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(t){return new sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lI{constructor(t){this.yt=t}}function uI(s){const t=nI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ym(t,t.limit,"L"):t}class cI{constructor(){this.Cn=new hI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(hr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(hr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class hI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ue(le.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ue(le.comparator)).toArray()}}const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(pT,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}const ev="LruGarbageCollector",fI=1048576;function nv([s,t],[i,a]){const l=zt(s,i);return l===0?zt(t,a):l}class dI{constructor(t){this.Ir=t,this.buffer=new Ue(nv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();nv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(ev,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_o(i)?ot(ev,"Ignoring IndexedDB error during garbage collection: ",i):await yo(i)}await this.Vr(3e5)}))}}class gI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(bh.ce);const a=new dI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(tv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,y,g,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,y=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),Qa()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function pI(s,t){return new gI(s,t)}class yI{constructor(){this.changes=new ea((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class _I{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class vI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ml(a.mutation,l,Vn.empty(),ue.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const l=$r();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Sl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=$r();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,l){let c=_s();const d=Ol(),y=(function(){return Ol()})();return i.forEach(((g,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof vr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Ml(b.mutation,_,b.mutation.getFieldMask(),ue.now())):d.set(_.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,c).next((g=>(g.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>y.set(_,new _I(b,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=Ol();let l=new me(((d,y)=>d-y)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let b=a.get(g)||Vn.empty();b=y.applyToLocalView(_,b),a.set(g,b);const A=(l.get(y.batchId)||Lt()).add(g);l=l.insert(y.batchId,A)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,b=g.value,A=XE();b.forEach((M=>{if(!c.has(M)){const H=eT(i.get(M),a.get(M));H!==null&&A.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):bR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve($r());let y=Ll,g=c;return d.next((_=>X.forEach(_,((b,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{g=g.insert(b,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,g,_,Lt()))).next((b=>({batchId:y,changes:KE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((a=>{let l=Sl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((y=>X.forEach(y,(g=>{const _=(function(A,M){return new Sh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Ge.newInvalidDocument(b)))}));let y=Sl();return d.forEach(((g,_)=>{const b=c.get(g);b!==void 0&&Ml(b.mutation,_,Vn.empty(),ue.now()),Ih(i,_)&&(y=y.insert(g,_))})),y}))}}class EI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:kn(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:uI(l.bundledQuery),readTime:kn(l.readTime)}})(i)),X.resolve()}}class TI{constructor(){this.overlays=new me(yt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=$r();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=$r(),c=i.length+1,d=new yt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new me(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=$r(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const y=$r(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,b)=>y.set(_,b))),!(y.size()>=l)););return X.resolve(y)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new jR(i,a));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class bI{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class tg{constructor(){this.Qr=new Ue(He.$r),this.Ur=new Ue(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new yt(new le([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new le([])),a=new He(i,t),l=new He(i,t+1);let c=Lt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||zt(t.Yr,i.Yr)}static Kr(t,i){return zt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class AI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(He.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new PR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new He(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Fm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ue(zt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const d=new He(new yt(c),0);let y=new Ue(zt);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class SI{constructor(t){this.ri=t,this.docs=(function(){return new me(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(t,i){let a=_s();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ge.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=_s();const d=i.path,y=new yt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:b}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||W2(J2(b),a)<=0||(l.has(b.key)||Ih(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new wI(this)}getSize(t){return X.resolve(this.size)}}class wI extends yI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class RI{constructor(t){this.persistence=t,this.si=new ea((i=>Km(i)),Xm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new tg,this.targetCount=0,this.ai=uo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new uo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class yT{constructor(t,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new bI,this.referenceDelegate=t(this),this.Pi=new RI(this),this.indexManager=new cI,this.remoteDocumentCache=(function(l){return new SI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new lI(i),this.Ii=new EI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new TI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new AI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new II(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class II extends eR{constructor(t){super(),this.currentSequenceNumber=t}}class eg{constructor(t){this.persistence=t,this.Ri=new tg,this.Vi=null}static mi(t){return new eg(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=yt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class mh{constructor(t,i){this.persistence=t,this.pi=new ea((a=>sR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=pI(this,i)}static mi(t,i){return new mh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((y=>{y||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Qc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ng{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ng(t,i.fromCache,a,l)}}class CI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class xI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yA()?8:nR(cn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new CI;return this.Ss(t,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(t,i,d,y.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Qa()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Qa()<=kt.DEBUG&&ot("QueryEngine","Query:",Ya(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Qa()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(i))):X.resolve())}ys(t,i){if(G0(i))return X.resolve(null);let a=Pi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),a=Pi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((g=>{const _=this.Ds(i,y);return this.Cs(i,_,d,g.readTime)?this.ys(t,ym(i,null,"F")):this.vs(t,_,i,g)}))))})))))}ws(t,i,a,l){return G0(i)||l.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Qa()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.vs(t,d,i,Z2(l,Ll)).next((y=>y)))}))}Ds(t,i){let a=new Ue(QE(t));return i.forEach(((l,c)=>{Ih(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Qa()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.ps.getDocumentsMatchingQuery(t,i,hr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ig="LocalStore",NI=3e8;class DI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new me(zt),this.xs=new ea((c=>Km(c)),Xm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function OI(s,t,i,a){return new DI(s,t,i,a)}async function _T(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Lt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}for(const _ of c){y.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function MI(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,b){const A=_.batch,M=A.keys();let H=X.resolve();return M.forEach((et=>{H=H.next((()=>b.getEntry(g,et))).next((rt=>{const tt=_.docVersions.get(et);jt(tt!==null,48541),rt.version.compareTo(tt)<0&&(A.applyToRemoteDocument(rt,_),rt.isValidDocument()&&(rt.setReadTime(_.commitVersion),b.addEntry(rt)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(g,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Lt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function vT(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function VI(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];t.targetChanges.forEach(((b,A)=>{const M=l.get(A);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(nn.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,a)),l=l.insert(A,H),(function(rt,tt,mt){return rt.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=NI?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,H,b)&&y.push(i.Pi.updateTargetData(c,H))}));let g=_s(),_=Lt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),y.push(kI(c,d,t.documentUpdates).next((b=>{g=b.ks,_=b.qs}))),!a.isEqual(vt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(b)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function kI(s,t,i){let a=Lt(),l=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=_s();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(vt.min())?(t.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(y,g)):ot(ig,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function zI(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Fm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function LI(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new sr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Tm(s,t,i){const a=Tt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_o(d))throw d;ot(ig,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function iv(s,t,i){const a=Tt(s);let l=vt.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,b){const A=Tt(g),M=A.xs.get(b);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,b)})(a,d,Pi(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Lt()))).next((y=>(UI(a,SR(t),y),{documents:y,Qs:c})))))}function UI(s,t,i){let a=s.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class sv{constructor(){this.activeTargetIds=NR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PI{constructor(){this.Mo=new sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new sv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class jI{Oo(t){}shutdown(){}}const rv="ConnectivityMonitor";class av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(rv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(rv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function bm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const Jd="RestConnection",BI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===ah?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=bm(),y=this.zo(t,i.toUriEncodedString());ot(Jd,`Sending RPC '${t}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(y),b=fo(_);return this.Jo(t,y,g,a,b).then((A=>(ot(Jd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw so(Jd,`RPC '${t}' ${d} failed with error: `,A,"url: ",y,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=BI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class HI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const on="WebChannelConnection";class GI extends qI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=bm();return new Promise(((y,g)=>{const _=new TE;_.setWithCredentials(!0),_.listenOnce(bE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const A=_.getResponseJson();ot(on,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),y(A);break;case Fc.TIMEOUT:ot(on,`RPC '${t}' ${d} timed out`),g(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const M=_.getStatus();if(ot(on,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const et=H?.error;if(et&&et.status&&et.message){const rt=(function(mt){const bt=mt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(bt)>=0?bt:$.UNKNOWN})(et.status);g(new ut(rt,et.message))}else g(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ut($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(on,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ot(on,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=bm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=wE(),y=SE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const b=c.join("");ot(on,`Creating RPC '${t}' stream ${l}: ${b}`,g);const A=d.createWebChannel(b,g);this.I_(A);let M=!1,H=!1;const et=new HI({Yo:tt=>{H?ot(on,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(M||(ot(on,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),ot(on,`RPC '${t}' stream ${l} sending:`,tt),A.send(tt))},Zo:()=>A.close()}),rt=(tt,mt,bt)=>{tt.listen(mt,(gt=>{try{bt(gt)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return rt(A,Al.EventType.OPEN,(()=>{H||(ot(on,`RPC '${t}' stream ${l} transport opened.`),et.o_())})),rt(A,Al.EventType.CLOSE,(()=>{H||(H=!0,ot(on,`RPC '${t}' stream ${l} transport closed`),et.a_(),this.E_(A))})),rt(A,Al.EventType.ERROR,(tt=>{H||(H=!0,so(on,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),et.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),rt(A,Al.EventType.MESSAGE,(tt=>{if(!H){const mt=tt.data[0];jt(!!mt,16349);const bt=mt,gt=bt?.error||bt[0]?.error;if(gt){ot(on,`RPC '${t}' stream ${l} received error:`,gt);const Bt=gt.status;let $t=(function(w){const I=Me[w];if(I!==void 0)return rT(I)})(Bt),Dt=gt.message;$t===void 0&&($t=$.INTERNAL,Dt="Unknown error status: "+Bt+" with message "+gt.message),H=!0,et.a_(new ut($t,Dt)),A.close()}else ot(on,`RPC '${t}' stream ${l} received:`,mt),et.u_(mt)}})),rt(y,AE.STAT_EVENT,(tt=>{tt.stat===hm.PROXY?ot(on,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===hm.NOPROXY&&ot(on,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Wd(){return typeof document<"u"?document:null}function Oh(s){return new KR(s,!0)}class sg{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ov="PersistentStream";class ET{constructor(t,i,a,l,c,d,y,g){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sg(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FI extends ET{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=JR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?kn(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=pm(g)?{documents:tI(c,g)}:{query:eI(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=lT(c,d.resumeToken);const _=_m(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){y.readTime=fh(c,d.snapshotVersion.toTimestamp());const _=_m(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,t);const a=iI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Em(this.serializer),i.removeTarget=t,this.q_(i)}}class QI extends ET{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=WR(t.writeResults,t.commitTime),a=kn(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>fT(this.serializer,a)))};this.q_(i)}}class YI{}class KI extends YI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,vm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,vm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ta="RemoteStore";class $I{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{na(this)&&(ot(ta,"Restarting streams for network reachability change."),await(async function(g){const _=Tt(g);_.Ea.add(4),await tu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Mh(_)})(this))}))})),this.Ra=new XI(a,l)}}async function Mh(s){if(na(s))for(const t of s.da)await t(!0)}async function tu(s){for(const t of s.da)await t(!1)}function TT(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),lg(i)?og(i):vo(i).O_()&&ag(i,t))}function rg(s,t){const i=Tt(s),a=vo(i);i.Ia.delete(t),a.O_()&&bT(i,t),i.Ia.size===0&&(a.O_()?a.L_():na(i)&&i.Ra.set("Unknown"))}function ag(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}vo(s).Y_(t)}function bT(s,t){s.Va.Ue(t),vo(s).Z_(t)}function og(s){s.Va=new GR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),vo(s).start(),s.Ra.ua()}function lg(s){return na(s)&&!vo(s).x_()&&s.Ia.size>0}function na(s){return Tt(s).Ea.size===0}function AT(s){s.Va=void 0}async function ZI(s){s.Ra.set("Online")}async function JI(s){s.Ia.forEach(((t,i)=>{ag(s,t)}))}async function WI(s,t){AT(s),lg(s)?(s.Ra.ha(t),og(s)):s.Ra.set("Unknown")}async function tC(s,t,i){if(s.Ra.set("Online"),t instanceof oT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(s,t)}catch(a){ot(ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await gh(s,a)}else if(t instanceof Xc?s.Va.Ze(t):t instanceof aT?s.Va.st(t):s.Va.tt(t),!i.isEqual(vt.min()))try{const a=await vT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const b=c.Ia.get(g);if(!b)return;c.Ia.set(g,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),bT(c,g);const A=new sr(b.target,g,_,b.sequenceNumber);ag(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){ot(ta,"Failed to raise snapshot:",a),await gh(s,a)}}async function gh(s,t,i){if(!_o(t))throw t;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>vT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(ta,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Mh(s)}))}function ST(s,t){return t().catch((i=>gh(s,i,t)))}async function Vh(s){const t=Tt(s),i=gr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fm;for(;eC(t);)try{const l=await zI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,nC(t,l)}catch(l){await gh(t,l)}wT(t)&&RT(t)}function eC(s){return na(s)&&s.Ta.length<10}function nC(s,t){s.Ta.push(t);const i=gr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function wT(s){return na(s)&&!gr(s).x_()&&s.Ta.length>0}function RT(s){gr(s).start()}async function iC(s){gr(s).ra()}async function sC(s){const t=gr(s);for(const i of s.Ta)t.ea(i.mutations)}async function rC(s,t,i){const a=s.Ta.shift(),l=Zm.from(a,t,i);await ST(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Vh(s)}async function aC(s,t){t&&gr(s).X_&&await(async function(a,l){if((function(d){return sT(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();gr(a).B_(),await ST(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Vh(a)}})(s,t),wT(s)&&RT(s)}async function lv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),ot(ta,"RemoteStore received new credentials");const a=na(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Mh(i)}async function oC(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Mh(i)):t||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function vo(s){return s.ma||(s.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new FI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:ZI.bind(null,s),t_:JI.bind(null,s),r_:WI.bind(null,s),H_:tC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),lg(s)?og(s):s.Ra.set("Unknown")):(await s.ma.stop(),AT(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new QI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:iC.bind(null,s),r_:aC.bind(null,s),ta:sC.bind(null,s),na:rC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Vh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ug{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,y=new ug(t,i,d,l,c);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(s,t){if(ys("AsyncQueue",`${t}: ${s}`),_o(s))return new ut($.UNAVAILABLE,`${t}: ${s}`);throw s}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||yt.comparator(i.key,a.key):(i,a)=>yt.comparator(i.key,a.key),this.keyedMap=Sl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new eo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class uv{constructor(){this.ga=new me(yt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class co{constructor(t,i,a,l,c,d,y,g,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new co(t,i,eo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class lC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class uC{constructor(){this.queries=cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=cv(),c.forEach(((d,y)=>{for(const g of y.Sa)g.onError(a)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function cv(){return new ea((s=>FE(s)),Rh)}async function IT(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new lC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=cg(d,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(y)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&hg(i)}async function CT(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function cC(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(a=!0);d.wa=l}}a&&hg(i)}function hC(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function hg(s){s.Ca.forEach((t=>{t.next()}))}var Am,hv;(hv=Am||(Am={})).Ma="default",hv.Cache="cache";class xT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new co(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Am.Cache}}class NT{constructor(t){this.key=t}}class DT{constructor(t){this.key=t}}class fC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=QE(t),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new uv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,A)=>{const M=l.get(b),H=Ih(this.query,A)?A:null,et=!!M&&this.mutatedKeys.has(M.key),rt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let tt=!1;M&&H?M.data.isEqual(H.data)?et!==rt&&(a.track({type:3,doc:H}),tt=!0):this.su(M,H)||(a.track({type:2,doc:H}),tt=!0,(g&&this.eu(H,g)>0||_&&this.eu(H,_)<0)&&(y=!0)):!M&&H?(a.track({type:0,doc:H}),tt=!0):M&&!H&&(a.track({type:1,doc:M}),tt=!0,(g||_)&&(y=!0)),tt&&(H?(d=d.add(H),c=rt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(H,et){const rt=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:tt})}};return rt(H)-rt(et)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new co(this.query,t.tu,c,d,t.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new DT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new NT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fg="SyncEngine";class dC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class mC{constructor(t){this.key=t,this.hu=!1}}class gC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ea((y=>FE(y)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new me(yt.comparator),this.Au=new Map,this.Ru=new tg,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pC(s,t,i=!0){const a=LT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await OT(a,t,i,!0),l}async function yC(s,t){const i=LT(s);await OT(i,t,!0,!1)}async function OT(s,t,i,a){const l=await LI(s.localStore,Pi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await _C(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&TT(s.remoteStore,l),y}async function _C(s,t,i,a,l){s.pu=(A,M,H)=>(async function(rt,tt,mt,bt){let gt=tt.view.ru(mt);gt.Cs&&(gt=await iv(rt.localStore,tt.query,!1).then((({documents:x})=>tt.view.ru(x,gt))));const Bt=bt&&bt.targetChanges.get(tt.targetId),$t=bt&&bt.targetMismatches.get(tt.targetId)!=null,Dt=tt.view.applyChanges(gt,rt.isPrimaryClient,Bt,$t);return dv(rt,tt.targetId,Dt.au),Dt.snapshot})(s,A,M,H);const c=await iv(s.localStore,t,!0),d=new fC(t,c.Qs),y=d.ru(c.documents),g=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,g);dv(s,i,_.au);const b=new dC(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function vC(s,t,i){const a=Tt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&rg(a.remoteStore,l.targetId),Sm(a,l.targetId)})).catch(yo)):(Sm(a,l.targetId),await Tm(a.localStore,l.targetId,!0))}async function EC(s,t){const i=Tt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),rg(i.remoteStore,a.targetId))}async function TC(s,t,i){const a=CC(s);try{const l=await(function(d,y){const g=Tt(d),_=ue.now(),b=y.reduce(((H,et)=>H.add(et.key)),Lt());let A,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let et=_s(),rt=Lt();return g.Ns.getEntries(H,b).next((tt=>{et=tt,et.forEach(((mt,bt)=>{bt.isValidDocument()||(rt=rt.add(mt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,et))).next((tt=>{A=tt;const mt=[];for(const bt of y){const gt=UR(bt,A.get(bt.key).overlayedDocument);gt!=null&&mt.push(new vr(bt.key,gt,UE(gt.value.mapValue),un.exists(!0)))}return g.mutationQueue.addMutationBatch(H,_,mt,y)})).next((tt=>{M=tt;const mt=tt.applyToLocalDocumentSet(A,rt);return g.documentOverlayCache.saveOverlays(H,tt.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:KE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new me(zt)),_=_.insert(y,g),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await eu(a,l.changes),await Vh(a.remoteStore)}catch(l){const c=cg(l,"Failed to persist write");i.reject(c)}}async function MT(s,t){const i=Tt(s);try{const a=await VI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?jt(d.hu,14607):l.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await eu(i,a,t)}catch(a){await yo(a)}}function fv(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=Tt(d);g.onlineState=y;let _=!1;g.queries.forEach(((b,A)=>{for(const M of A.Sa)M.va(y)&&(_=!0)})),_&&hg(g)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function bC(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new me(yt.comparator);d=d.insert(c,Ge.newNoDocument(c,vt.min()));const y=Lt().add(c),g=new Dh(vt.min(),new Map,new me(zt),d,y);await MT(a,g),a.du=a.du.remove(c),a.Au.delete(t),dg(a)}else await Tm(a.localStore,t,!1).then((()=>Sm(a,t,i))).catch(yo)}async function AC(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await MI(i.localStore,t);kT(i,a,null),VT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eu(i,l)}catch(l){await yo(l)}}async function SC(s,t,i){const a=Tt(s);try{const l=await(function(d,y){const g=Tt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return g.mutationQueue.lookupMutationBatch(_,y).next((A=>(jt(A!==null,37113),b=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,b,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>g.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);kT(a,t,i),VT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await eu(a,l)}catch(l){await yo(l)}}function VT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function kT(s,t,i){const a=Tt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Sm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||zT(s,a)}))}function zT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(rg(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),dg(s))}function dv(s,t,i){for(const a of i)a instanceof NT?(s.Ru.addReference(a.key,t),wC(s,a)):a instanceof DT?(ot(fg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||zT(s,a.key)):pt(19791,{wu:a})}function wC(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ot(fg,"New document in limbo: "+i),s.Eu.add(a),dg(s))}function dg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new yt(le.fromString(t)),a=s.fu.next();s.Au.set(a,new mC(i)),s.du=s.du.insert(i,a),TT(s.remoteStore,new sr(Pi(wh(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function eu(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(_){l.push(_);const b=ng.As(g.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(g,_){const b=Tt(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Es,(H=>b.persistence.referenceDelegate.addReference(A,M.targetId,H))).next((()=>X.forEach(M.ds,(H=>b.persistence.referenceDelegate.removeReference(A,M.targetId,H)))))))))}catch(A){if(!_o(A))throw A;ot(ig,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const H=b.Ms.get(M),et=H.snapshotVersion,rt=H.withLastLimboFreeSnapshotVersion(et);b.Ms=b.Ms.insert(M,rt)}}})(a.localStore,c))}async function RC(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){ot(fg,"User change. New user:",t.toKey());const a=await _T(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ut($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await eu(i,a.Ls)}}function IC(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function LT(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=MT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bC.bind(null,t),t.Pu.H_=cC.bind(null,t.eventManager),t.Pu.yu=hC.bind(null,t.eventManager),t}function CC(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SC.bind(null,t),t}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return OI(this.persistence,new xI,t.initialUser,this.serializer)}Cu(t){return new yT(eg.mi,this.serializer)}Du(t){return new PI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class xC extends ph{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){jt(this.persistence.referenceDelegate instanceof mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new mI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new yT((a=>mh.mi(a,i)),this.serializer)}}class wm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>fv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=RC.bind(null,this.syncEngine),await oC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uC})()}createDatastore(t){const i=Oh(t.databaseInfo.databaseId),a=(function(c){return new GI(c)})(t.databaseInfo);return(function(c,d,y,g){return new KI(c,d,y,g)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,y){return new $I(a,l,c,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>fv(this.syncEngine,i,0)),(function(){return av.v()?new av:new jI})())}createSyncEngine(t,i){return(function(l,c,d,y,g,_,b){const A=new gC(l,c,d,y,g,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);ot(ta,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class UT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ys("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}class NC{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=Tt(l),y={documents:c.map((A=>dh(d.serializer,A)))},g=await d.Ho("BatchGetDocuments",d.serializer.databaseId,le.emptyPath(),y,c.length),_=new Map;g.forEach((A=>{const M=ZR(d.serializer,A);_.set(M.key.toString(),M)}));const b=[];return c.forEach((A=>{const M=_.get(A.toString());jt(!!M,55234,{key:A}),b.push(M)})),b})(this.datastore,t);return i.forEach((a=>this.recordVersion(a))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new Nh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,a)=>{const l=yt.fromPath(a);this.mutations.push(new iT(l,this.precondition(l)))})),await(async function(a,l){const c=Tt(a),d={writes:l.map((y=>fT(c.serializer,y)))};await c.Go("Commit",c.serializer.databaseId,le.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw pt(50498,{Gu:t.constructor.name});i=vt.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!i.isEqual(a))throw new ut($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(vt.min())?un.exists(!1):un.updateTime(i):un.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(vt.min()))throw new ut($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(i)}return un.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class DC{constructor(t,i,a,l,c){this.asyncQueue=t,this.datastore=i,this.options=a,this.updateFunction=l,this.deferred=c,this.zu=a.maxAttempts,this.M_=new sg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new NC(this.datastore),i=this.Hu(t);i&&i.then((a=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(a)})).catch((l=>{this.Yu(l)}))))})).catch((a=>{this.Yu(a)}))}))}Hu(t){try{const i=this.updateFunction(t);return!Zl(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!sT(i)}return!1}}const pr="FirestoreClient";class OC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=cg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function tm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(pr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await _T(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function mv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await MC(s);ot(pr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>lv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>lv(t.remoteStore,l))),s._onlineComponents=t}async function MC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(pr,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;so("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new ph)}}else ot(pr,"Using default OfflineComponentProvider"),await tm(s,new xC(void 0));return s._offlineComponents}async function mg(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(pr,"Using user provided OnlineComponentProvider"),await mv(s,s._uninitializedComponentsProvider._online)):(ot(pr,"Using default OnlineComponentProvider"),await mv(s,new wm))),s._onlineComponents}function VC(s){return mg(s).then((t=>t.syncEngine))}function kC(s){return mg(s).then((t=>t.datastore))}async function Rm(s){const t=await mg(s),i=t.eventManager;return i.onListen=pC.bind(null,t.syncEngine),i.onUnlisten=vC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=yC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=EC.bind(null,t.syncEngine),i}function zC(s,t,i={}){const a=new fs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const b=new UT({next:M=>{b.Nu(),d.enqueueAndForget((()=>CT(c,A)));const H=M.docs.has(y);!H&&M.fromCache?_.reject(new ut($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&g&&g.source==="server"?_.reject(new ut($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new xT(wh(y.path),b,{includeMetadataChanges:!0,qa:!0});return IT(c,A)})(await Rm(s),s.asyncQueue,t,i,a))),a.promise}function PT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const gv=new Map;const jT="firestore.googleapis.com",pv=!0;class yv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=pv}else this.host=t.host,this.ssl=t.ssl??pv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fI)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new P2;switch(a.type){case"firstParty":return new H2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=gv.get(i);a&&(ot("ComponentProvider","Removing Datastore"),gv.delete(i),a.terminate())})(this),Promise.resolve()}}function LC(s,t,i,a={}){s=Zn(s,gg);const l=fo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${t}:${i}`;l&&(kv(`https://${y}`),zv("Firestore",!0)),c.host!==jT&&c.host!==y&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!cr(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=ln.MOCK_USER;else{_=lA(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ln(A)}s._authCredentials=new j2(new IE(_,b))}}class kh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new kh(this.firestore,t,this._query)}}class Se{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Se(this.firestore,t,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if($l(i,Se._jsonSchema))return new Se(t,a||null,new yt(le.fromString(i.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:Ve("string",Se._jsonSchemaVersion),referencePath:Ve("string")};class ql extends kh{constructor(t,i,a){super(t,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Se(this.firestore,null,new yt(t))}withConverter(t){return new ql(this.firestore,t,this._path)}}function Xn(s,t,...i){if(s=en(s),arguments.length===1&&(t=Hm.newId()),X2("doc","path",t),s instanceof gg){const a=le.fromString(t,...i);return D0(a),new Se(s,null,new yt(a))}{if(!(s instanceof Se||s instanceof ql))throw new ut($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(le.fromString(t,...i));return D0(a),new Se(s.firestore,s instanceof ql?s.converter:null,new yt(a))}}const _v="AsyncQueue";class vv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sg(this,"async_queue_retry"),this._c=()=>{const a=Wd();a&&ot(_v,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_o(t))throw t;ot(_v,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",Ev(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ug.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:Ev(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Ev(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function Tv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class yr extends gg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new vv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vv(t),this._firestoreClient=void 0,await t}}}function UC(s,t){const i=typeof s=="object"?s:jv(),a=typeof s=="string"?s:ah,l=Mm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=aA("firestore");c&&LC(l,...c)}return l}function zh(s){if(s._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||PC(s),s._firestoreClient}function PC(s){const t=s._freezeSettings(),i=(function(l,c,d,y){return new oR(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,PT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new OC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(nn.fromBase64String(t))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Mn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Ve("string",Mn._jsonSchemaVersion),bytes:Ve("string")};class nu{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lh{constructor(t){this._methodName=t}}class ji{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if($l(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Ve("string",ji._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class Bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Bi(t.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ve("string",Bi._jsonSchemaVersion),vectorValues:Ve("object")};const jC=/^__.*__$/;class BC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new vr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(t,this.data,i,this.fieldTransforms)}}class BT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new vr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function qT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:s})}}class Uh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Uh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return yh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(qT(this.Ac)&&jC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class qC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Oh(t)}Cc(t,i,a,l=!1){return new Uh({Ac:t,methodName:i,Dc:a,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(s){const t=s._freezeSettings(),i=Oh(s._databaseId);return new qC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function HT(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);_g("Data must be an object, but it was:",d,a);const y=QT(a,d);let g,_;if(c.merge)g=new Vn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=Im(t,A,i);if(!d.contains(M))throw new ut($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);KT(b,M)||b.push(M)}g=new Vn(b),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new BC(new mn(y),g,_)}class Ph extends Lh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ph}}function HC(s,t,i){return new Uh({Ac:3,Dc:t.settings.Dc,methodName:s._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class yg extends Lh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=HC(this,t,!0),a=this.vc.map((c=>iu(c,i))),l=new lo(a);return new VR(t.path,l)}isEqual(t){return t instanceof yg&&cr(this.vc,t.vc)}}function GT(s,t,i,a){const l=s.Cc(1,t,i);_g("Data must be an object, but it was:",l,a);const c=[],d=mn.empty();_r(a,((g,_)=>{const b=vg(t,g,i);_=en(_);const A=l.yc(b);if(_ instanceof Ph)c.push(b);else{const M=iu(_,A);M!=null&&(c.push(b),d.set(b,M))}}));const y=new Vn(c);return new BT(d,y,l.fieldTransforms)}function FT(s,t,i,a,l,c){const d=s.Cc(1,t,i),y=[Im(t,a,i)],g=[l];if(c.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Im(t,c[M])),g.push(c[M+1]);const _=[],b=mn.empty();for(let M=y.length-1;M>=0;--M)if(!KT(_,y[M])){const H=y[M];let et=g[M];et=en(et);const rt=d.yc(H);if(et instanceof Ph)_.push(H);else{const tt=iu(et,rt);tt!=null&&(_.push(H),b.set(H,tt))}}const A=new Vn(_);return new BT(b,A,d.fieldTransforms)}function iu(s,t){if(YT(s=en(s)))return _g("Unsupported field value:",t,s),QT(s,t);if(s instanceof Lh)return(function(a,l){if(!qT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=iu(y,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=en(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return DR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ue.fromDate(a);return{timestampValue:fh(l.serializer,c)}}if(a instanceof ue){const c=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(l.serializer,c)}}if(a instanceof ji)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Mn)return{bytesValue:lT(l.serializer,a._byteString)};if(a instanceof Se){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Bi)return(function(d,y){return{mapValue:{fields:{[zE]:{stringValue:LE},[oh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return $m(y.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Gm(a)}`)})(s,t)}function QT(s,t){const i={};return NE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_r(s,((a,l)=>{const c=iu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function YT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ue||s instanceof ji||s instanceof Mn||s instanceof Se||s instanceof Lh||s instanceof Bi)}function _g(s,t,i){if(!YT(i)||!CE(i)){const a=Gm(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function Im(s,t,i){if((t=en(t))instanceof nu)return t._internalPath;if(typeof t=="string")return vg(s,t);throw yh("Field path arguments must be of type string or ",s,!1,void 0,i)}const GC=new RegExp("[~\\*/\\[\\]]");function vg(s,t,i){if(t.search(GC)>=0)throw yh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new nu(...t.split("."))._internalPath}catch{throw yh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function yh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new ut($.INVALID_ARGUMENT,y+s+g)}function KT(s,t){return s.some((i=>i.isEqual(t)))}class _h{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new FC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(XT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class FC extends _h{data(){return super.data()}}function XT(s,t){return typeof t=="string"?vg(s,t):t instanceof nu?t._internalPath:t._delegate._internalPath}function QC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $T{convertValue(t,i="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return _r(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[oh].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new Bi(i)}convertGeoPoint(t){return new ji(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Ah(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=fr(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);jt(gT(a),9688,{name:t});const l=new Pl(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return l.isEqual(i)||ys(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function ZT(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class YC extends $T{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,i)}}class Za{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ur extends _h{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(XT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",ur._jsonSchema={type:Ve("string",ur._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class $c extends ur{data(t={}){return super.data(t)}}class no{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Za(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new $c(this._firestore,this._userDataWriter,a.key,a,new Za(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new $c(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Za(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new $c(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Za(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),b=d.indexOf(y.doc.key)),{type:KC(y.type),doc:g,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function KC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}function XC(s){s=Zn(s,Se);const t=Zn(s.firestore,yr);return zC(zh(t),s._key).then((i=>JT(t,s,i)))}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Ve("string",no._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Eg extends $T{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,i)}}function $C(s,t,i){s=Zn(s,Se);const a=Zn(s.firestore,yr),l=ZT(s.converter,t,i);return Tg(a,[HT(pg(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,un.none())])}function Ws(s,t,i,...a){s=Zn(s,Se);const l=Zn(s.firestore,yr),c=pg(l);let d;return d=typeof(t=en(t))=="string"||t instanceof nu?FT(c,"updateDoc",s._key,t,i,a):GT(c,"updateDoc",s._key,t),Tg(l,[d.toMutation(s._key,un.exists(!0))])}function ZC(s){return Tg(Zn(s.firestore,yr),[new Nh(s._key,un.none())])}function bv(s,...t){s=en(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Tv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Tv(t[a])){const g=t[a];t[a]=g.next?.bind(g),t[a+1]=g.error?.bind(g),t[a+2]=g.complete?.bind(g)}let c,d,y;if(s instanceof Se)d=Zn(s.firestore,yr),y=wh(s._key.path),c={next:g=>{t[a]&&t[a](JT(d,s,g))},error:t[a+1],complete:t[a+2]};else{const g=Zn(s,kh);d=Zn(g.firestore,yr),y=g._query;const _=new Eg(d);c={next:b=>{t[a]&&t[a](new no(d,_,g,b))},error:t[a+1],complete:t[a+2]},QC(s._query)}return(function(_,b,A,M){const H=new UT(M),et=new xT(b,H,A);return _.asyncQueue.enqueueAndForget((async()=>IT(await Rm(_),et))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>CT(await Rm(_),et)))}})(zh(d),y,l,c)}function Tg(s,t){return(function(a,l){const c=new fs;return a.asyncQueue.enqueueAndForget((async()=>TC(await VC(a),l,c))),c.promise})(zh(s),t)}function JT(s,t,i){const a=i.docs.get(t._key),l=new Eg(s);return new ur(s,l,t._key,a,new Za(i.hasPendingWrites,i.fromCache),t.converter)}const JC={maxAttempts:5};function Rl(s,t){if((s=en(s)).firestore!==t)throw new ut($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class WC{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=pg(t)}get(t){const i=Rl(t,this._firestore),a=new YC(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return pt(24041);const c=l[0];if(c.isFoundDocument())return new _h(this._firestore,a,c.key,c,i.converter);if(c.isNoDocument())return new _h(this._firestore,a,i._key,null,i.converter);throw pt(18433,{doc:c})}))}set(t,i,a){const l=Rl(t,this._firestore),c=ZT(l.converter,i,a),d=HT(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,a);return this._transaction.set(l._key,d),this}update(t,i,a,...l){const c=Rl(t,this._firestore);let d;return d=typeof(i=en(i))=="string"||i instanceof nu?FT(this._dataReader,"Transaction.update",c._key,i,a,l):GT(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=Rl(t,this._firestore);return this._transaction.delete(i._key),this}}class tx extends WC{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Rl(t,this._firestore),a=new Eg(this._firestore);return super.get(t).then((l=>new ur(this._firestore,a,i._key,l._document,new Za(!1,!1),i.converter)))}}function ex(s,t,i){s=Zn(s,yr);const a={...JC,...i};return(function(c){if(c.maxAttempts<1)throw new ut($.INVALID_ARGUMENT,"Max attempts must be at least 1")})(a),(function(c,d,y){const g=new fs;return c.asyncQueue.enqueueAndForget((async()=>{const _=await kC(c);new DC(c.asyncQueue,_,y,d,g).ju()})),g.promise})(zh(s),(l=>t(new tx(s,l))),a)}function Pc(...s){return new yg("arrayUnion",s)}(function(t,i=!0){(function(l){po=l})(mo),io(new Zr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new yr(new B2(a.getProvider("auth-internal")),new G2(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),or(I0,C0,t),or(I0,C0,"esm2020")})();const nx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ix=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Av=s=>{const t=ix(s);return t.charAt(0).toUpperCase()+t.slice(1)},WT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),sx=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var rx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ax=re.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>re.createElement("svg",{ref:g,...rx,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:WT("lucide",l),...!c&&!sx(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,b])=>re.createElement(_,b)),...Array.isArray(c)?c:[c]]));const fe=(s,t)=>{const i=re.forwardRef(({className:a,...l},c)=>re.createElement(ax,{ref:c,iconNode:t,className:WT(`lucide-${nx(Av(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Av(s),i};const ox=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cm=fe("book-open",ox);const lx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],em=fe("circle-check-big",lx);const ux=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Sv=fe("crown",ux);const cx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],t1=fe("dice-1",cx);const hx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M9 15h.01",key:"fzyn71"}]],e1=fe("dice-2",hx);const fx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],n1=fe("dice-3",fx);const dx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}]],i1=fe("dice-4",dx);const mx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],s1=fe("dice-5",mx);const gx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],r1=fe("dice-6",gx);const px=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],ho=fe("dices",px);const yx=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],_x=fe("gavel",yx);const vx=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Ex=fe("ghost",vx);const Tx=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],bx=fe("hammer",Tx);const Ax=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],a1=fe("history",Ax);const Sx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],o1=fe("house",Sx);const wx=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Rx=fe("loader",wx);const Ix=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xm=fe("log-out",Ix);const Cx=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],xx=fe("megaphone",Cx);const Nx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],l1=fe("rotate-ccw",Nx);const Dx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Ox=fe("skull",Dx);const Mx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vx=fe("trash-2",Mx);const kx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zx=fe("trophy",kx);const Lx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wv=fe("user",Lx);const Ux=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],u1=fe("x",Ux),Px={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:590c84080a05dcfd6aa637"},c1=Pv(Px),nm=L2(c1),On=UC(c1),ci=typeof __app_id<"u"?__app_id:"ghost-dice",jx="7",Ga="ghost_dice_roomId",Il={1:t1,2:e1,3:n1,4:i1,5:s1,6:r1},Fa=[{name:"Green",color:"text-green-400",border:"border-green-500",bg:"bg-green-900/20",shadow:"shadow-green-500/20",ring:"ring-green-500"},{name:"Orange",color:"text-orange-400",border:"border-orange-500",bg:"bg-orange-900/20",shadow:"shadow-orange-500/20",ring:"ring-orange-500"},{name:"Cyan",color:"text-cyan-400",border:"border-cyan-500",bg:"bg-cyan-900/20",shadow:"shadow-cyan-500/20",ring:"ring-cyan-500"},{name:"Yellow",color:"text-yellow-400",border:"border-yellow-500",bg:"bg-yellow-900/20",shadow:"shadow-yellow-500/20",ring:"ring-yellow-500"},{name:"Purple",color:"text-purple-400",border:"border-purple-500",bg:"bg-purple-900/20",shadow:"shadow-purple-500/20",ring:"ring-purple-500"},{name:"Rose",color:"text-rose-400",border:"border-rose-500",bg:"bg-rose-900/20",shadow:"shadow-rose-500/20",ring:"ring-rose-500"}],jc=()=>S.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,var(--tw-gradient-stops))] from-green-900/40 via-gray-950 to-black"}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(15)].map((s,t)=>S.jsxs("div",{className:"absolute animate-float text-green-500/20",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${15+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:[S.jsx(ho,{size:32}),S.jsx(t1,{size:32}),S.jsx(e1,{size:32}),S.jsx(n1,{size:32}),S.jsx(i1,{size:32}),S.jsx(s1,{size:32}),S.jsx(r1,{size:32})]},t))}),S.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(45deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
    `})]}),Rv=()=>S.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[S.jsx(ho,{size:12,className:"text-indigo-400"}),S.jsx("span",{className:"text-[10px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),Bx=()=>S.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[S.jsx(ho,{size:22,className:"text-indigo-400"}),S.jsx("span",{className:"text-[20px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),Iv=({onConfirmLeave:s,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Haunt?"}),S.jsx("p",{className:"text-zinc-400 mb-6 text-sm",children:l?"Leaving now will forfeit your soul (and the game).":"Leaving the lobby will disconnect you."}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("button",{onClick:i,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),l&&a&&S.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white",children:[S.jsx(o1,{size:18})," Return Group to Lobby"]}),S.jsxs("button",{onClick:s,className:"bg-red-900/80 hover:bg-red-800 text-red-200 py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 border border-red-900",children:[S.jsx(xm,{size:18})," Leave Game"]})]})]})}),qx=({logs:s,onClose:t})=>S.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:S.jsxs("div",{className:"bg-zinc-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-zinc-700 shadow-2xl",children:[S.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[S.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[S.jsx(a1,{size:18,className:"text-indigo-400"})," Sance Logs"]}),S.jsx("button",{onClick:t,className:"p-2 bg-zinc-800 rounded-full hover:bg-zinc-700",children:S.jsx(u1,{className:"text-zinc-400"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>S.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":i.type==="success"?"bg-green-900/10 border-green-500 text-green-300":i.type==="warning"?"bg-indigo-900/10 border-indigo-500 text-indigo-300":"bg-zinc-800/50 border-zinc-600 text-zinc-400"}`,children:[S.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),Cv=({onClose:s})=>S.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-zinc-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-indigo-500/30 flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[S.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[S.jsx(Cm,{className:"text-indigo-400"})," The Grimoire"]}),S.jsx("button",{onClick:s,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400",children:S.jsx(u1,{})})]}),S.jsx("div",{className:"p-6 overflow-y-auto text-zinc-300 space-y-6",children:S.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[S.jsx("h3",{className:"text-xl font-bold text-indigo-400 mb-2",children:"The Basics"}),S.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[S.jsxs("li",{children:["Everyone starts with ",S.jsx("strong",{children:"5 Dice"}),"."]}),S.jsxs("li",{children:["Only ",S.jsx("strong",{children:"you"})," can see your own dice."]}),S.jsx("li",{children:"Goal: Be the last player with dice remaining."}),S.jsxs("li",{children:[S.jsx("strong",{children:"1s (Aces) are Wild!"})," They count as any number, unless the bid is on 1s."]})]})]}),S.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Bidding & Challenging"}),S.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Bid:"})," Claim a quantity of a specific face value on the ",S.jsx("em",{children:"entire table"}),' (e.g., "Five 4s").']}),S.jsxs("li",{children:[S.jsx("strong",{children:"Raise:"})," You must bid a higher quantity OR the same quantity with a higher face value."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Liar!:"})," If you don't believe the previous bid, challenge it!"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Result:"})," If the bid was valid, Challenger loses a die. If invalid, Bidder loses a die."]})]})]})]})})]})}),Hx=({data:s,currentUserId:t,onClose:i})=>{if(!s)return null;const a=t===s.loserId,l=t===s.winnerId;let c="bg-zinc-800/95 border-zinc-500 text-white",d="animate-in fade-in zoom-in slide-in-from-bottom-10",y="bg-zinc-700 hover:bg-zinc-600 text-white border-zinc-500";l?(c="bg-green-900/95 border-green-500 text-green-100 shadow-[0_0_100px_rgba(34,197,94,0.5)]",y="bg-green-600 hover:bg-green-500 text-white border-green-400"):a&&(c="bg-red-900/95 border-red-500 text-red-100 shadow-[0_0_100px_rgba(239,68,68,0.5)]",d+=" animate-shake",y="bg-red-800 hover:bg-red-700 text-white border-red-400");const g=Il[s.bidFace]||ho;return S.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:[a&&S.jsx("div",{className:"absolute inset-0 bg-red-500/10 z-0"}),l&&S.jsx("div",{className:"absolute inset-0 bg-green-500/10 z-0"}),S.jsxs("div",{className:`
      relative z-10 flex flex-col items-center justify-center p-8 rounded-3xl border-4 
      max-w-xl w-full text-center shadow-2xl duration-300
      ${c} ${d}
    `,children:[S.jsxs("div",{className:"mb-6",children:[S.jsx("h2",{className:"text-3xl font-black uppercase tracking-widest mb-2",children:"LIAR CALLED!"}),S.jsxs("p",{className:"text-lg opacity-80",children:[S.jsx("span",{className:"font-bold border-b border-white/30 pb-0.5",children:s.challengerName})," ","called out"," ",S.jsx("span",{className:"font-bold border-b border-white/30 pb-0.5",children:s.bidderName})]})]}),S.jsxs("div",{className:"bg-black/30 p-6 rounded-xl w-full mb-8 border border-white/10",children:[S.jsxs("div",{className:"flex items-center justify-center gap-8 mb-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-xs uppercase tracking-wider opacity-70 mb-1",children:"Bid"}),S.jsxs("div",{className:"text-4xl font-black flex items-center gap-2 justify-center",children:[s.bidQuantity," ",S.jsx("span",{className:"text-sm opacity-50",children:"x"})," ",S.jsx(g,{size:32})]})]}),S.jsx("div",{className:"h-12 w-px bg-white/20"}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-xs uppercase tracking-wider opacity-70 mb-1",children:"Found"}),S.jsx("div",{className:`text-4xl font-black ${s.actualCount>=s.bidQuantity?"text-green-400":"text-red-400"}`,children:s.actualCount})]})]}),S.jsx("p",{className:"text-sm italic opacity-75",children:s.actualCount>=s.bidQuantity?"The bid was truthful!":"The bid was a lie!"})]}),S.jsxs("div",{className:"text-2xl font-bold uppercase tracking-wide bg-black/40 px-6 py-3 rounded-full border border-white/20 mb-8",children:[s.loserName," loses a die!"]}),S.jsx("button",{onClick:i,className:`
            w-full py-4 rounded-xl font-bold text-lg uppercase tracking-widest border-2 shadow-lg
            transition-all transform hover:scale-[1.02] active:scale-[0.98]
            ${y}
          `,children:"Continue"})]})]})},Gx=S.jsx("style",{children:`
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
    .animate-shake {
      animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
    }
  `}),Fx=({winnerName:s,onReturnToLobby:t,isHost:i})=>S.jsxs("div",{className:"fixed inset-0 z-[155] bg-black/95 flex flex-col items-center justify-center animate-in fade-in duration-500",children:[S.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-900/40 via-black to-black pointer-events-none"}),S.jsxs("div",{className:"z-10 text-center space-y-8 p-8",children:[S.jsx("div",{className:"mb-4",children:S.jsx(zx,{size:80,className:"text-yellow-400 mx-auto animate-bounce drop-shadow-[0_0_35px_rgba(250,204,21,0.6)]"})}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h2",{className:"text-2xl text-zinc-400 font-serif tracking-widest uppercase",children:"The Deadliest Ghost"}),S.jsx("h1",{className:"text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-300 to-yellow-600 drop-shadow-2xl",children:s})]}),S.jsx("div",{className:"pt-12",children:i?S.jsx("button",{onClick:t,className:"group relative px-8 py-4 bg-zinc-100 text-black font-black text-xl rounded-full hover:bg-white hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)]",children:S.jsxs("span",{className:"flex items-center gap-3",children:[S.jsx(l1,{className:"group-hover:-rotate-180 transition-transform duration-500"}),"RETURN TO LOBBY"]})}):S.jsx("div",{className:"text-zinc-500 animate-pulse font-mono",children:"Waiting for Host to reset..."})})]})]});function Qx(){const[s,t]=re.useState(null),[i,a]=re.useState("menu"),[l,c]=re.useState(()=>localStorage.getItem(Ga)||""),[d,y]=re.useState(""),[g,_]=re.useState(null),[b,A]=re.useState(!1),[M,H]=re.useState(""),[et,rt]=re.useState(!1),[tt,mt]=re.useState(!1),[bt,gt]=re.useState(!1),[Bt,$t]=re.useState(!1),[Dt,x]=re.useState(null),[w,I]=re.useState(1),[V,N]=re.useState(2),[k,R]=re.useState(()=>localStorage.getItem("gameHub_playerName")||"");re.useEffect(()=>{k&&localStorage.setItem("gameHub_playerName",k)},[k]),re.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await Aw(nm,__initial_auth_token):await _w(nm))();const W=Rw(nm,t);return()=>W()},[]),re.useEffect(()=>{if(!l||!s)return;const J=bv(Xn(On,"artifacts",ci,"public","data","rooms",l),W=>{if(W.exists()){const Z=W.data();if(!Z.players.some(Ct=>Ct.id===s.uid)){c(""),localStorage.removeItem(Ga),a("menu"),H("Connection Terminated.");return}_(Z),Z.status==="lobby"?a("lobby"):a("game"),Z.feedbackTrigger?Z.feedbackTrigger.id!==g?.feedbackTrigger?.id&&x(Z.feedbackTrigger):x(null),Z.currentBid&&!g?.currentBid&&(I(Z.currentBid.quantity),N(Z.currentBid.face))}else c(""),localStorage.removeItem(Ga),a("menu"),H("Room vanished into the ether.")});return()=>J()},[l,s,g?.feedbackTrigger?.id]),re.useEffect(()=>{const J=bv(Xn(On,"game_hub_settings","config"),W=>{W.exists()&&W.data()[jx]?.maintenance?rt(!0):rt(!1)});return()=>J()},[]);const ie=async()=>{if(!k.trim())return H("Name required.");A(!0);const J=Math.random().toString(36).substring(2,7).toUpperCase(),W={roomId:J,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:k,dice:[],diceCount:5,eliminated:!1,ready:!0}],logs:[],turnIndex:0,currentBid:null,turnState:"IDLE",feedbackTrigger:null,winner:null,roundLoserId:null,revealReadyIds:[]};try{await $C(Xn(On,"artifacts",ci,"public","data","rooms",J),W),c(J),localStorage.setItem(Ga,J),a("lobby")}catch{H("Network error.")}A(!1)},ye=async()=>{if(!d||!k)return H("Code and Name required.");A(!0);try{const J=Xn(On,"artifacts",ci,"public","data","rooms",d),W=await XC(J);if(!W.exists())throw new Error("Room not found.");const Z=W.data();if(Z.status!=="lobby")throw new Error("Game already in progress.");if(Z.players.length>=6)throw new Error("Table full.");Z.players.find(Ct=>Ct.id===s.uid)||await Ws(J,{players:Pc({id:s.uid,name:k,dice:[],diceCount:5,eliminated:!1,ready:!0})}),c(d),localStorage.setItem(Ga,d)}catch(J){H(J.message)}A(!1)},G=async()=>{if(!l)return;const J=Xn(On,"artifacts",ci,"public","data","rooms",l);if(g.hostId===s.uid)await ZC(J);else{const Z=g.players.filter(Ct=>Ct.id!==s.uid);await Ws(J,{players:Z})}c(""),localStorage.removeItem(Ga),a("menu"),gt(!1)},it=async J=>{if(g.hostId!==s.uid)return;const W=g.players.filter(Z=>Z.id!==J);await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{players:W})},ht=async()=>{if(!g)return;const J=g.players.map(W=>W.id===s.uid?{...W,ready:!W.ready}:W);await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{players:J})},Ot=J=>{const W=[];for(let Z=0;Z<J;Z++)W.push(Math.floor(Math.random()*6)+1);return W.sort()},qt=async()=>{if(g.players.length<2)return H("Need 2+ Players.");const J=g.players.map(Z=>({...Z,diceCount:5,dice:Ot(5),eliminated:!1,ready:!1})),W=Math.floor(Math.random()*J.length);await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{status:"playing",players:J,turnIndex:W,currentBid:null,turnState:"BIDDING",feedbackTrigger:null,winner:null,revealReadyIds:[],roundLoserId:null,logs:[{id:Date.now().toString(),text:"The Haunt Begins. 5 Dice each.",type:"neutral"}]})},O=async()=>{const J=g.currentBid,W=g.players.find(Ct=>Ct.id===s.uid);if(J&&(w<J.quantity||w===J.quantity&&V<=J.face))return;let Z=(g.turnIndex+1)%g.players.length;for(;g.players[Z].eliminated;)Z=(Z+1)%g.players.length;await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{currentBid:{quantity:w,face:V,playerId:s.uid,playerName:W.name},turnIndex:Z,logs:Pc({id:Date.now().toString(),text:`${W.name} bids: ${w}x ${V}s`,type:"neutral"})})},Y=async()=>{const J=g.currentBid,W=g.players.find(Qe=>Qe.id===s.uid),Z=g.players.find(Qe=>Qe.id===J.playerId);let Ct=0,Pe=[];g.players.forEach(Qe=>{Qe.eliminated||(Pe=[...Pe,...Qe.dice],Qe.dice.forEach(se=>{(se===J.face||se===1&&J.face!==1)&&Ct++}))});const ke=Ct>=J.quantity,sn=ke?W.id:Z.id,Fe=ke?Z.id:W.id,fi=ke?W.name:Z.name,ee={id:Date.now(),type:"challenge_result",challengerName:W.name,bidderName:Z.name,bidQuantity:J.quantity,bidFace:J.face,actualCount:Ct,loserId:sn,winnerId:Fe,loserName:fi};let hn=[{id:Date.now().toString(),text:`${W.name} called LIAR on ${Z.name}!`,type:"warning"},{id:Date.now()+1,text:`Result: ${Ct} matching dice found (Bid: ${J.quantity}).`,type:ke?"success":"danger"},{id:Date.now()+2,text:`${fi} loses a die.`,type:"danger"}];await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{turnState:"REVEAL",feedbackTrigger:ee,logs:Pc(...hn),roundLoserId:sn,revealReadyIds:[]})},st=async()=>{if(!g||!s)return;const J=Xn(On,"artifacts",ci,"public","data","rooms",l);try{await ex(On,async W=>{const Z=await W.get(J);if(!Z.exists())return;const Ct=Z.data();if(Ct.revealReadyIds?.includes(s.uid))return;const Pe=[...Ct.revealReadyIds||[],s.uid],ke=Ct.players.find(ee=>ee.id===Ct.roundLoserId),sn=ke&&ke.diceCount<=1,fi=Ct.players.filter(ee=>!(ee.eliminated||ee.id===Ct.roundLoserId&&sn)).length;if(Pe.length>=fi){const ee=[...Ct.players],hn=ee.findIndex(rn=>rn.id===Ct.roundLoserId);ee[hn].diceCount-=1;let Qe="",se="BIDDING",de=null,di=null;ee[hn].diceCount<=0&&(ee[hn].eliminated=!0,Qe=`${ee[hn].name} has run out of soul. Eliminated.`);const Er=ee.filter(rn=>!rn.eliminated);Er.length===1?(se="FINISHED",de=Er[0].name,di=null):ee.forEach(rn=>{rn.eliminated?rn.dice=[]:rn.dice=Ot(rn.diceCount)});let mi=hn;if(ee[hn].eliminated)for(mi=(hn+1)%ee.length;ee[mi].eliminated&&Er.length>1;)mi=(mi+1)%ee.length;const _e={players:ee,turnState:se==="FINISHED"?"IDLE":"BIDDING",currentBid:null,turnIndex:mi,revealReadyIds:[],roundLoserId:null};Qe&&(_e.logs=Pc({id:Date.now().toString(),text:Qe,type:"danger"})),de&&(_e.status="finished",_e.winner=de,_e.feedbackTrigger=null),W.update(J,_e)}else W.update(J,{revealReadyIds:Pe})})}catch(W){console.error("Transaction failed: ",W)}},at=async()=>{const J=g.players.map(W=>({...W,dice:[],diceCount:5,eliminated:!1,ready:!0}));await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{status:"lobby",players:J,logs:[],currentBid:null,turnState:"IDLE",winner:null,feedbackTrigger:null,revealReadyIds:[],roundLoserId:null})},ft=g?.players.find(J=>J.id===s?.uid),St=g?.players[g?.turnIndex]?.id===s?.uid;if(et)return S.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:S.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[S.jsx(bx,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),S.jsx("p",{className:"text-gray-400",children:"The spirits are resting. The tavern is closed until dusk."})]})});if(!s)return S.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-indigo-500 animate-pulse",children:"Summoning..."});if(l&&!g&&!M)return S.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[S.jsx(jc,{}),S.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[S.jsx(Rx,{size:48,className:"text-indigo-500 animate-spin"}),S.jsxs("div",{className:"text-center",children:[S.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),S.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming the Sance"})]})]})]});if(i==="menu")return S.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[S.jsx(jc,{}),tt&&S.jsx(Cv,{onClose:()=>mt(!1)}),S.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[S.jsx(ho,{size:64,className:"text-indigo-400 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(129,140,248,0.5)]"}),S.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-indigo-300 to-zinc-500 font-serif tracking-widest drop-shadow-md",children:"GHOST DICE"}),S.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Dead Men Tell No Tales"})]}),S.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur border border-indigo-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[M&&S.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),S.jsx("input",{className:"w-full bg-black/50 border border-zinc-600 p-3 rounded mb-4 text-white placeholder-zinc-500 focus:border-indigo-500 outline-none transition-colors",placeholder:"Soul Name",value:k,onChange:J=>R(J.target.value)}),S.jsxs("button",{onClick:ie,disabled:b,className:"w-full bg-gradient-to-r from-indigo-700 to-zinc-600 hover:from-indigo-600 hover:to-zinc-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-indigo-500/30 shadow-[0_0_15px_rgba(99,102,241,0.2)] transition-all",children:[S.jsx(Sv,{size:20})," Host Sance"]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[S.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-zinc-600 p-3 rounded text-white placeholder-zinc-500 uppercase font-mono tracking-wider focus:border-indigo-500 outline-none",placeholder:"CODE",value:d,onChange:J=>y(J.target.value.toUpperCase())}),S.jsx("button",{onClick:ye,disabled:b,className:"w-full sm:w-auto bg-zinc-800 hover:bg-zinc-700 border border-zinc-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),S.jsxs("button",{onClick:()=>mt(!0),className:"w-full text-sm text-zinc-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[S.jsx(Cm,{size:16})," The Grimoire"]})]}),S.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Liar's Dice. A tribute game.",S.jsx("br",{}),"Developed by ",S.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-500 underline hover:text-indigo-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const J=g.hostId===s.uid;return S.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-6 relative",children:[S.jsx(jc,{}),S.jsx(Bx,{}),bt&&S.jsx(Iv,{onConfirmLeave:G,onCancel:()=>gt(!1),isHost:J,inGame:!1}),S.jsxs("div",{className:"z-10 w-full max-w-lg bg-zinc-900/90 backdrop-blur p-8 rounded-2xl border border-indigo-900/50 shadow-2xl mb-4",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-zinc-700 pb-4",children:[S.jsxs("h2",{className:"text-2xl font-serif text-indigo-400",children:["Crypt: ",S.jsx("span",{className:"text-white font-mono",children:l})]}),S.jsx("button",{onClick:()=>gt(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:S.jsx(xm,{size:16})})]}),S.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-zinc-800",children:[S.jsx("h3",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:S.jsxs("span",{children:["Souls (",g.players.length,")"]})}),S.jsxs("div",{className:"space-y-2",children:[g.players.map((W,Z)=>{const Ct=Fa[Z%Fa.length];return S.jsxs("div",{className:`flex items-center justify-between p-3 rounded border ${Ct.bg} ${Ct.border}`,children:[S.jsxs("span",{className:`font-bold flex items-center gap-2 ${Ct.color}`,children:[S.jsx(wv,{size:14})," ",W.name," ",W.id===g.hostId&&S.jsx(Sv,{size:14,className:"text-yellow-500"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[S.jsx(em,{size:12})," Present"]}),J&&W.id!==s.uid&&S.jsx("button",{onClick:()=>it(W.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-red-900/20 rounded-full transition-colors",title:"Kick Soul",children:S.jsx(Vx,{size:14})})]})]},W.id)}),g.players.length<2&&S.jsx("div",{className:"text-center text-zinc-500 italic text-sm py-2",children:"Waiting for more souls..."})]})]}),J?S.jsx("button",{onClick:qt,disabled:g.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${g.players.length>=2?"bg-indigo-700 hover:bg-indigo-600 text-white shadow-indigo-900/20":"bg-zinc-800 cursor-not-allowed text-zinc-500"}`,children:g.players.length<2?"Need 2+ Players...":"Begin Haunt"}):S.jsx("div",{className:"text-center text-indigo-400/60 animate-pulse font-serif italic",children:"Waiting for Host..."})]}),S.jsx(Rv,{})]})}if(i==="game"&&g){const J=g.players.findIndex(Z=>Z.id===s.uid),W=Fa[J%Fa.length];return S.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col relative overflow-hidden font-sans",children:[Gx," ",S.jsx(jc,{}),g.status==="finished"&&S.jsx(Fx,{winnerName:g.winner,isHost:g.hostId===s.uid,onReturnToLobby:at}),Dt&&g.status!=="finished"&&S.jsx(Hx,{data:Dt,currentUserId:s.uid,onClose:()=>x(null)}),tt&&S.jsx(Cv,{onClose:()=>mt(!1)}),Bt&&S.jsx(qx,{logs:g.logs,onClose:()=>$t(!1)}),bt&&S.jsx(Iv,{onConfirmLeave:G,onCancel:()=>gt(!1),isHost:g.hostId===s.uid,onConfirmLobby:()=>{at(),gt(!1)},inGame:!0}),S.jsxs("div",{className:"h-14 bg-zinc-900/80 border-b border-zinc-800 flex items-center justify-between px-4 z-[160] backdrop-blur-md sticky top-0",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-serif text-indigo-500 font-bold tracking-wider hidden md:block",children:"GHOST DICE"}),S.jsx("span",{className:"text-xs text-zinc-500 bg-black/50 px-2 py-1 rounded",children:"Graveyard"})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>mt(!0),className:"p-2 hover:bg-zinc-800 rounded text-zinc-400",children:S.jsx(Cm,{size:18})}),S.jsx("button",{onClick:()=>$t(!Bt),className:`p-2 rounded-full ${Bt?"bg-indigo-900 text-indigo-400":"text-gray-400 hover:bg-gray-800"}`,children:S.jsx(a1,{size:18})}),S.jsx("button",{onClick:()=>gt(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:S.jsx(xm,{size:18})})]})]}),S.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-6xl mx-auto w-full gap-4",children:[S.jsxs("div",{className:`w-full max-w-md ${W.bg} p-6 rounded-2xl border border-indigo-500/20 flex flex-col items-center justify-center min-h-[160px] animate-in fade-in zoom-in`,children:[S.jsx("div",{className:`text-xs ${W.color} uppercase tracking-widest mb-2`,children:"Current Bid"}),g.currentBid?S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("span",{className:"text-6xl font-black text-white drop-shadow-lg",children:g.currentBid.quantity}),S.jsx("span",{className:"text-4xl text-zinc-500",children:"x"}),Oc.createElement(Il[g.currentBid.face],{size:64,className:`${W.color} drop-shadow-[0_0_10px_rgba(129,140,248,0.5)]`})]}),S.jsxs("div",{className:"mt-2 text-zinc-400 text-sm",children:["by"," ",S.jsx("span",{className:"text-white font-bold",children:g.currentBid.playerName})]})]}):S.jsx("div",{className:"text-zinc-600 italic",children:"No bids placed..."})]}),S.jsx("div",{className:"flex gap-4 justify-center flex-wrap w-full my-4",children:g.players.map((Z,Ct)=>{if(Z.id===s.uid)return null;const Pe=g.turnIndex===Ct,ke=Fa[Ct%Fa.length];return S.jsxs("div",{className:`
                                relative bg-zinc-900/90 p-4 rounded-xl border-2 w-32 md:w-40 transition-all flex flex-col items-center
                                ${Pe?`${ke.border} ${ke.shadow} scale-105`:"border-zinc-700"}
                                ${Z.eliminated?"opacity-40 grayscale":""}
                            `,children:[g.turnState==="REVEAL"&&!Z.eliminated&&g.revealReadyIds?.includes(Z.id)&&S.jsx("div",{className:"absolute top-2 left-2",children:S.jsx(em,{size:16,className:"text-green-500"})}),S.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5",children:[...Array(Z.diceCount)].map((sn,Fe)=>S.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Pe?"bg-white":"bg-zinc-600"}`},Fe))}),Z.eliminated?S.jsx(Ox,{size:32,className:"text-red-500 mb-2"}):S.jsx(Ex,{size:32,className:`${Pe?ke.color+" animate-bounce":"text-zinc-600"}`}),S.jsx("span",{className:`font-bold text-sm truncate w-full text-center ${Pe?ke.color:"text-zinc-400"}`,children:Z.name}),g.turnState==="REVEAL"&&!Z.eliminated&&S.jsx("div",{className:"absolute inset-0 bg-black/90 rounded-xl flex items-center justify-center z-10 p-2 flex-wrap gap-1",children:Z.dice.map((sn,Fe)=>Oc.createElement(Il[sn],{key:Fe,size:16,className:sn===g.currentBid?.face||sn===1?"text-white":"text-zinc-700"}))})]},Z.id)})}),S.jsxs("div",{className:`w-full max-w-2xl bg-zinc-900/95 p-4 rounded-t-3xl border-t-4 ${W.border} backdrop-blur-md mt-auto shadow-2xl z-20 transition-all ${ft.eliminated&&g.status!=="finished"?"grayscale opacity-50 pointer-events-none":""}`,children:[(()=>{const Ct=g.roundLoserId===s.uid&&ft.diceCount<=1;return g.turnState==="REVEAL"&&!ft.eliminated&&!Ct&&g.status!=="finished"?S.jsx("div",{className:"absolute -top-16 left-0 right-0 flex justify-center z-30",children:g.revealReadyIds?.includes(s.uid)?S.jsxs("div",{className:"bg-zinc-900 px-6 py-2 rounded-full border border-green-500 text-green-500 font-bold flex items-center gap-2",children:[S.jsx(em,{size:18})," Ready"]}):S.jsxs("button",{onClick:st,className:`
                        px-8 py-3 rounded-full font-black text-lg shadow-xl uppercase tracking-widest flex items-center gap-2 animate-bounce
                        ${W.bg} ${W.text} ${W.border} border-2
                      `,children:[S.jsx(ho,{size:24})," Roll Dice"]})}):null})(),S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(wv,{className:W.color}),S.jsx("span",{className:`font-bold text-xl ${W.color}`,children:ft.name}),S.jsxs("div",{className:`px-3 py-1 rounded-full text-xs border ${W.bg} ${W.color} ${W.border}`,children:[ft.diceCount," Dice Left"]})]}),S.jsx("div",{className:"flex flex-wrap justify-center gap-2 bg-black/40 p-2 rounded-xl",children:ft.dice.map((Z,Ct)=>S.jsx("div",{className:`
                                    ${W.bg} rounded-lg p-1 shadow-inner
                                     ${g.currentBid&&(Z===g.currentBid.face||Z===1)?`ring-2 ${W.ring}`:""}
                                 `,children:Oc.createElement(Il[Z],{size:32,className:W.color})},Ct))})]}),S.jsx("div",{className:"min-h-[100px]",children:g.status==="finished"?S.jsxs("div",{className:"text-center",children:[S.jsxs("h3",{className:"text-3xl font-black text-indigo-400 mb-4",children:[g.winner," Wins!"]}),S.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:g.players.map(Z=>S.jsxs("div",{className:`px-3 py-1 rounded-full text-[10px] uppercase font-bold border ${Z.ready?"bg-green-900/30 border-green-500 text-green-400":"bg-zinc-800 border-zinc-600 text-zinc-500"}`,children:[Z.name," ",Z.ready&&""]},Z.id))}),g.hostId===s.uid?S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsxs("div",{className:"flex gap-3 justify-center",children:[S.jsxs("button",{onClick:qt,disabled:!g.players.every(Z=>Z.ready),className:"bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[S.jsx(l1,{size:18})," Restart"]}),S.jsxs("button",{onClick:at,disabled:!g.players.every(Z=>Z.ready),className:"bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[S.jsx(o1,{size:18})," Lobby"]})]}),!g.players.every(Z=>Z.ready)&&S.jsx("div",{className:"text-zinc-500 text-xs animate-pulse mt-2",children:"Waiting for all souls to be ready..."}),!ft.ready&&S.jsx("button",{onClick:ht,className:"text-xs text-indigo-400 hover:text-indigo-300 underline mt-2",children:"Mark Self Ready"})]}):S.jsxs("div",{className:"w-full max-w-xs mx-auto",children:[S.jsx("button",{onClick:ht,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg transition-all mb-2 ${ft.ready?"bg-green-900/30 border border-green-500 text-green-400":"bg-indigo-600 hover:bg-indigo-500 text-white"}`,children:ft.ready?"READY":"MARK READY"}),S.jsx("div",{className:"text-zinc-500 text-xs italic",children:"Waiting for Host..."})]})]}):St&&g.turnState==="BIDDING"?S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[S.jsxs("div",{className:"flex items-center bg-zinc-800 rounded-lg border border-zinc-700",children:[S.jsx("button",{onClick:()=>I(Math.max(1,w-1)),className:"p-3 hover:bg-zinc-700 text-zinc-400",children:"-"}),S.jsx("span",{className:"w-12 text-center font-bold text-xl",children:w}),S.jsx("button",{onClick:()=>I(w+1),className:"p-3 hover:bg-zinc-700 text-white",children:"+"})]}),S.jsx("span",{className:"text-zinc-500",children:"x"}),S.jsx("div",{className:"flex gap-1 bg-zinc-800 p-1 rounded-lg border border-zinc-700 overflow-x-auto",children:[1,2,3,4,5,6].map(Z=>S.jsx("button",{onClick:()=>N(Z),className:`p-2 rounded-md transition-all ${V===Z?`${W.bg} ${W.color} shadow-lg`:"hover:bg-zinc-700 text-zinc-500"}`,children:Oc.createElement(Il[Z],{size:24})},Z))})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[S.jsxs("button",{onClick:Y,disabled:!g.currentBid,className:"bg-red-900/80 hover:bg-red-800 disabled:opacity-50 disabled:bg-zinc-800 text-red-200 py-4 rounded-xl font-bold text-lg shadow-lg border border-red-700 flex items-center justify-center gap-2",children:[S.jsx(_x,{size:20})," LIAR!"]}),S.jsxs("button",{onClick:O,disabled:g.currentBid&&(w<g.currentBid.quantity||w===g.currentBid.quantity&&V<=g.currentBid.face),className:`col-span-2 ${W.bg} border ${W.border} ${W.text} hover:opacity-80 disabled:opacity-50 disabled:bg-zinc-800 disabled:border-zinc-700 disabled:text-zinc-500 py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2`,children:[S.jsx(xx,{size:20})," Place Bid"]})]})]}):S.jsx("div",{className:"text-center text-zinc-500 animate-pulse py-8",children:g.turnState==="REVEAL"?"Waiting for all players to roll the dice...":`Waiting for ${g.players[g.turnIndex]?.name}...`})})]})]}),S.jsx(Rv,{})]})}return null}Zb.createRoot(document.getElementById("root")).render(S.jsx(re.StrictMode,{children:S.jsx(Qx,{})}));
