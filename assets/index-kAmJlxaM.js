(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Rb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xd={exports:{}},_l={};var V_;function Ib(){if(V_)return _l;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var k_;function Cb(){return k_||(k_=1,xd.exports=Ib()),xd.exports}var N=Cb(),Dd={exports:{}},bt={};var z_;function Nb(){if(z_)return bt;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,W={};function dt(O,Y,it){this.props=O,this.context=Y,this.refs=W,this.updater=it||J}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=dt.prototype;function mt(O,Y,it){this.props=O,this.context=Y,this.refs=W,this.updater=it||J}var Ht=mt.prototype=new Et;Ht.constructor=mt,et(Ht,dt.prototype),Ht.isPureReactComponent=!0;var Pt=Array.isArray;function zt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Y,it){var rt=it.ref;return{$$typeof:r,type:O,key:Y,ref:rt!==void 0?rt:null,props:it}}function M(O,Y){return I(O.type,Y,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function z(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return Y[it]})}var w=/\/+/g;function ne(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?z(""+O.key):Y.toString(36)}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(zt,zt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,it,rt,_t){var Q=typeof O;(Q==="undefined"||Q==="boolean")&&(O=null);var nt=!1;if(O===null)nt=!0;else switch(Q){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(O.$$typeof){case r:case t:nt=!0;break;case T:return nt=O._init,H(nt(O._payload),Y,it,rt,_t)}}if(nt)return _t=_t(O),nt=rt===""?"."+ne(O,0):rt,Pt(_t)?(it="",nt!=null&&(it=nt.replace(w,"$&/")+"/"),H(_t,Y,it,"",function(an){return an})):_t!=null&&(x(_t)&&(_t=M(_t,it+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+nt)),Y.push(_t)),1;nt=0;var ht=rt===""?".":rt+":";if(Pt(O))for(var At=0;At<O.length;At++)rt=O[At],Q=ht+ne(rt,At),nt+=H(rt,Y,it,Q,_t);else if(At=F(O),typeof At=="function")for(O=At.call(O),At=0;!(rt=O.next()).done;)rt=rt.value,Q=ht+ne(rt,At++),nt+=H(rt,Y,it,Q,_t);else if(Q==="object"){if(typeof O.then=="function")return H(ye(O),Y,it,rt,_t);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return nt}function st(O,Y,it){if(O==null)return O;var rt=[],_t=0;return H(O,rt,"","",function(Q){return Y.call(it,Q,_t++)}),rt}function ct(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var xt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},jt={map:st,forEach:function(O,Y,it){st(O,function(){Y.apply(this,arguments)},it)},count:function(O){var Y=0;return st(O,function(){Y++}),Y},toArray:function(O){return st(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return bt.Activity=A,bt.Children=jt,bt.Component=dt,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=mt,bt.StrictMode=a,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},bt.cache=function(O){return function(){return O.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(O,Y,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=et({},O.props),_t=O.key;if(Y!=null)for(Q in Y.key!==void 0&&(_t=""+Y.key),Y)!S.call(Y,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&Y.ref===void 0||(rt[Q]=Y[Q]);var Q=arguments.length-2;if(Q===1)rt.children=it;else if(1<Q){for(var nt=Array(Q),ht=0;ht<Q;ht++)nt[ht]=arguments[ht+2];rt.children=nt}return I(O.type,_t,rt)},bt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},bt.createElement=function(O,Y,it){var rt,_t={},Q=null;if(Y!=null)for(rt in Y.key!==void 0&&(Q=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=Y[rt]);var nt=arguments.length-2;if(nt===1)_t.children=it;else if(1<nt){for(var ht=Array(nt),At=0;At<nt;At++)ht[At]=arguments[At+2];_t.children=ht}if(O&&O.defaultProps)for(rt in nt=O.defaultProps,nt)_t[rt]===void 0&&(_t[rt]=nt[rt]);return I(O,Q,_t)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(O){return{$$typeof:p,render:O}},bt.isValidElement=x,bt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ct}},bt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},bt.startTransition=function(O){var Y=C.T,it={};C.T=it;try{var rt=O(),_t=C.S;_t!==null&&_t(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(zt,xt)}catch(Q){xt(Q)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),C.T=Y}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(O){return C.H.use(O)},bt.useActionState=function(O,Y,it){return C.H.useActionState(O,Y,it)},bt.useCallback=function(O,Y){return C.H.useCallback(O,Y)},bt.useContext=function(O){return C.H.useContext(O)},bt.useDebugValue=function(){},bt.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},bt.useEffect=function(O,Y){return C.H.useEffect(O,Y)},bt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(O,Y,it){return C.H.useImperativeHandle(O,Y,it)},bt.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},bt.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},bt.useMemo=function(O,Y){return C.H.useMemo(O,Y)},bt.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},bt.useReducer=function(O,Y,it){return C.H.useReducer(O,Y,it)},bt.useRef=function(O){return C.H.useRef(O)},bt.useState=function(O){return C.H.useState(O)},bt.useSyncExternalStore=function(O,Y,it){return C.H.useSyncExternalStore(O,Y,it)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.3",bt}var U_;function Am(){return U_||(U_=1,Dd.exports=Nb()),Dd.exports}var re=Am();const wc=Rb(re);var Od={exports:{}},vl={},Md={exports:{}},Vd={};var L_;function xb(){return L_||(L_=1,(function(r){function t(H,st){var ct=H.length;H.push(st);t:for(;0<ct;){var xt=ct-1>>>1,jt=H[xt];if(0<l(jt,st))H[xt]=st,H[ct]=jt,ct=xt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var st=H[0],ct=H.pop();if(ct!==st){H[0]=ct;t:for(var xt=0,jt=H.length,O=jt>>>1;xt<O;){var Y=2*(xt+1)-1,it=H[Y],rt=Y+1,_t=H[rt];if(0>l(it,ct))rt<jt&&0>l(_t,it)?(H[xt]=_t,H[rt]=ct,xt=rt):(H[xt]=it,H[Y]=ct,xt=Y);else if(rt<jt&&0>l(_t,ct))H[xt]=_t,H[rt]=ct,xt=rt;else break t}}return st}function l(H,st){var ct=H.sortIndex-st.sortIndex;return ct!==0?ct:H.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,A=null,V=3,F=!1,J=!1,et=!1,W=!1,dt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ht(H){for(var st=i(y);st!==null;){if(st.callback===null)a(y);else if(st.startTime<=H)a(y),st.sortIndex=st.expirationTime,t(_,st);else break;st=i(y)}}function Pt(H){if(et=!1,Ht(H),!J)if(i(_)!==null)J=!0,zt||(zt=!0,z());else{var st=i(y);st!==null&&ye(Pt,st.startTime-H)}}var zt=!1,C=-1,S=5,I=-1;function M(){return W?!0:!(r.unstable_now()-I<S)}function x(){if(W=!1,zt){var H=r.unstable_now();I=H;var st=!0;try{t:{J=!1,et&&(et=!1,Et(C),C=-1),F=!0;var ct=V;try{e:{for(Ht(H),A=i(_);A!==null&&!(A.expirationTime>H&&M());){var xt=A.callback;if(typeof xt=="function"){A.callback=null,V=A.priorityLevel;var jt=xt(A.expirationTime<=H);if(H=r.unstable_now(),typeof jt=="function"){A.callback=jt,Ht(H),st=!0;break e}A===i(_)&&a(_),Ht(H)}else a(_);A=i(_)}if(A!==null)st=!0;else{var O=i(y);O!==null&&ye(Pt,O.startTime-H),st=!1}}break t}finally{A=null,V=ct,F=!1}st=void 0}}finally{st?z():zt=!1}}}var z;if(typeof mt=="function")z=function(){mt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=x,z=function(){ne.postMessage(null)}}else z=function(){dt(x,0)};function ye(H,st){C=dt(function(){H(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var st=3;break;default:st=V}var ct=V;V=st;try{return H()}finally{V=ct}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(H,st){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=V;V=H;try{return st()}finally{V=ct}},r.unstable_scheduleCallback=function(H,st,ct){var xt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?xt+ct:xt):ct=xt,H){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ct+jt,H={id:T++,callback:st,priorityLevel:H,startTime:ct,expirationTime:jt,sortIndex:-1},ct>xt?(H.sortIndex=ct,t(y,H),i(_)===null&&H===i(y)&&(et?(Et(C),C=-1):et=!0,ye(Pt,ct-xt))):(H.sortIndex=jt,t(_,H),J||F||(J=!0,zt||(zt=!0,z()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var st=V;return function(){var ct=V;V=st;try{return H.apply(this,arguments)}finally{V=ct}}}})(Vd)),Vd}var P_;function Db(){return P_||(P_=1,Md.exports=xb()),Md.exports}var kd={exports:{}},Ze={};var j_;function Ob(){if(j_)return Ze;j_=1;var r=Am();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},Ze.flushSync=function(_){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=T,a.d.f()}},Ze.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ze.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ze.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:F}):T==="script"&&a.d.X(_,{crossOrigin:A,integrity:V,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ze.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ze.requestFormReset=function(_){a.d.r(_)},Ze.unstable_batchedUpdates=function(_,y){return _(y)},Ze.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.3",Ze}var B_;function Mb(){if(B_)return kd.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=Ob(),kd.exports}var q_;function Vb(){if(q_)return vl;q_=1;var r=Db(),t=Am(),i=Mb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),Pt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case dt:return"Profiler";case W:return"StrictMode";case Pt:return"Suspense";case zt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case mt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var ye=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},xt=[],jt=-1;function O(e){return{current:e}}function Y(e){0>jt||(e.current=xt[jt],xt[jt]=null,jt--)}function it(e,n){jt++,xt[jt]=e.current,e.current=n}var rt=O(null),_t=O(null),Q=O(null),nt=O(null);function ht(e,n){switch(it(Q,n),it(_t,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?i_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=i_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),it(rt,e)}function At(){Y(rt),Y(_t),Y(Q)}function an(e){e.memoizedState!==null&&it(nt,e);var n=rt.current,s=s_(n,e.type);n!==s&&(it(_t,e),it(rt,s))}function pn(e){_t.current===e&&(Y(rt),Y(_t)),nt.current===e&&(Y(nt),ml._currentValue=ct)}var _s,Pi;function In(e){if(_s===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);_s=n&&n[1]||"",Pi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_s+e+Pi}var yr=!1;function $t(e,n){if(!e||yr)return"";yr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{yr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?In(s):""}function $e(e,n){switch(e.tag){case 26:case 27:case 5:return In(e.type);case 16:return In("Lazy");case 13:return e.child!==n&&n!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return $t(e.type,!1);case 11:return $t(e.type.render,!1);case 1:return $t(e.type,!0);case 31:return In("Activity");default:return""}}function ji(e){try{var n="",s=null;do n+=$e(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var he=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,Fn=r.unstable_cancelCallback,Bi=r.unstable_shouldYield,li=r.unstable_requestPaint,le=r.unstable_now,_r=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,vs=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,Zl=r.unstable_IdlePriority,Jl=r.log,Wl=r.unstable_setDisableYieldValue,Qn=null,Be=null;function Cn(e){if(typeof Jl=="function"&&Wl(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Qn,e)}catch{}}var _e=Math.clz32?Math.clz32:eu,tu=Math.log,ia=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/ia|0)|0}var ui=256,vr=262144,Se=4194304;function ci(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ci(o):(g&=E,g!==0?h=ci(g):s||(s=E&~e,s!==0&&(h=ci(s))))):(E=o&~f,E!==0?h=ci(E):g!==0?h=ci(g):s||(s=o&~e,s!==0&&(h=ci(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function fi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Er(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-_e(s),X=1<<G;E[G]=0,R[G]=-1;var j=P[G];if(j!==null)for(P[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~X}o!==0&&Tr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Tr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function vo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-_e(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Eo(e,n){var s=n&-n;return s=(s&42)!==0?1:br(s),(s&(e.suspendedLanes|n))!==0?0:s}function br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:I_(e.type))}function Yn(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var Xn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Xn,Ue="__reactProps$"+Xn,di="__reactContainer$"+Xn,sa="__reactEvents$"+Xn,kh="__reactListeners$"+Xn,su="__reactHandles$"+Xn,ru="__reactResources$"+Xn,mi="__reactMarker$"+Xn;function ra(e){delete e[Ae],delete e[Ue],delete e[sa],delete e[kh],delete e[su]}function gi(e){var n=e[Ae];if(n)return n;for(var s=e.parentNode;s;){if(n=s[di]||s[Ae]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=h_(e);e!==null;){if(s=e[Ae])return s;e=h_(e)}return n}e=s,s=e.parentNode}return null}function Nn(e){if(e=e[Ae]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pi(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[mi]=!0}var To=new Set,bo={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(bo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},wo={};function au(e){return he.call(wo,e)?!0:he.call(Ao,e)?!1:So.test(e)?wo[e]=!0:(Ao[e]=!0,!1)}function aa(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function _n(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Re(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Es(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=Es(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function Sr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Es(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ar=/[\n"\\]/g;function on(e){return e.replace(Ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,Le(n)):s!=null?Io(e,g,Le(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function ou(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function Io(e,n,s){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ts(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function bs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ye(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function ln(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function No(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return Ss.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var xo=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,Ei=null;function wr(e){var n=Nn(e);if(n&&(e=n.stateNode)){var s=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(a(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Sr(o)}break t;case"textarea":lu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ts(e,!!s.multiple,n,!1)}}}var ca=!1;function ws(e,n,s){if(ca)return e(n,s);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(As!==null||Ei!==null)&&(ic(),As&&(n=As,e=Ei,Ei=As=null,wr(n),e)))for(n=0;n<e.length;n++)wr(e[n])}}function Zn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ue]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(Dn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Rr=!1}var Ti=null,Do=null,Ir=null;function Oo(){if(Ir)return Ir;var e,n=Do,s=n.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Ir=h.slice(e,1<o?1-o:void 0)}function Cr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function Jn(){return!1}function qe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:Jn,this.isPropagationStopped=Jn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=qe(Gi),Rs=A({},Gi,{view:0,detail:0}),Mo=qe(Rs),Is,ha,Si,fa=A({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Is=e.screenX-Si.screenX,ha=e.screenY-Si.screenY):ha=Is=0,Si=e),Is)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Vo=qe(fa),Nr=A({},fa,{dataTransfer:0}),hu=qe(Nr),fu=A({},Rs,{relatedTarget:0}),xr=qe(fu),ko=A({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=qe(ko),da=A({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=qe(da),gu=A({},Gi,{data:0}),Ai=qe(gu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function Cs(){return vu}var nn=A({},Rs,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=qe(nn),Tu=A({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=qe(Tu),u=A({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=qe(u),v=A({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qe(v),U=A({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=qe(U),tt=A({},Gi,{newState:0,oldState:0}),wt=qe(tt),ve=[9,13,27,32],Gt=Dn&&"CompositionEvent"in window,ue=null;Dn&&"documentMode"in document&&(ue=document.documentMode);var On=Dn&&"TextEvent"in window&&!ue,wi=Dn&&(!Gt||ue&&8<ue&&11>=ue),Wn=" ",ti=!1;function Dr(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function $T(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function ZT(e,n){if(ga)return e==="compositionend"||!Gt&&Dr(e,n)?(e=Oo(),Ir=Do=Ti=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!JT[e.type]:n==="textarea"}function gg(e,n,s,o){As?Ei?Ei.push(o):Ei=[o]:As=o,n=cc(n,"onChange"),0<n.length&&(s=new bi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var zo=null,Uo=null;function WT(e){Zy(e,0)}function bu(e){var n=yn(e);if(Sr(n))return e}function pg(e,n){if(e==="change")return n}var yg=!1;if(Dn){var zh;if(Dn){var Uh="oninput"in document;if(!Uh){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Uh=typeof _g.oninput=="function"}zh=Uh}else zh=!1;yg=zh&&(!document.documentMode||9<document.documentMode)}function vg(){zo&&(zo.detachEvent("onpropertychange",Eg),Uo=zo=null)}function Eg(e){if(e.propertyName==="value"&&bu(Uo)){var n=[];gg(n,Uo,e,xn(e)),ws(WT,n)}}function t1(e,n,s){e==="focusin"?(vg(),zo=n,Uo=s,zo.attachEvent("onpropertychange",Eg)):e==="focusout"&&vg()}function e1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Uo)}function n1(e,n){if(e==="click")return bu(n)}function i1(e,n){if(e==="input"||e==="change")return bu(n)}function s1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:s1;function Lo(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!he.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,n){var s=Tg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Tg(s)}}function Sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vi(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var r1=Dn&&"documentMode"in document&&11>=document.documentMode,pa=null,Ph=null,Po=null,jh=!1;function wg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||pa==null||pa!==vi(o)||(o=pa,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=cc(Ph,"onSelect"),0<o.length&&(n=new bi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=pa)))}function Or(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ya={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Bh={},Rg={};Dn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Mr(e){if(Bh[e])return Bh[e];if(!ya[e])return e;var n=ya[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rg)return Bh[e]=n[s];return e}var Ig=Mr("animationend"),Cg=Mr("animationiteration"),Ng=Mr("animationstart"),a1=Mr("transitionrun"),o1=Mr("transitionstart"),l1=Mr("transitioncancel"),xg=Mr("transitionend"),Dg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ei(e,n){Dg.set(e,n),yi(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],_a=0,Hh=0;function Au(){for(var e=_a,n=Hh=_a=0;n<e;){var s=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Og(s,h,f)}}function wu(e,n,s,o){Mn[_a++]=e,Mn[_a++]=n,Mn[_a++]=s,Mn[_a++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,s,o){return wu(e,n,s,o),Ru(e)}function Vr(e,n){return wu(e,null,null,n),Ru(e)}function Og(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(e){if(50<ol)throw ol=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function u1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,s,o){return new u1(e,n,s,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var s=e.alternate;return s===null?(s=En(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Mg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Fh(e)&&(g=1);else if(typeof e=="string")g=mb(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=En(31,s,n,h),e.elementType=I,e.lanes=f,e;case et:return kr(s.children,h,f,n);case W:g=8,h|=24;break;case dt:return e=En(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case Pt:return e=En(13,s,n,h),e.elementType=Pt,e.lanes=f,e;case zt:return e=En(19,s,n,h),e.elementType=zt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case Et:g=9;break t;case Ht:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=En(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function kr(e,n,s,o){return e=En(7,e,o,n),e.lanes=s,e}function Qh(e,n,s){return e=En(6,e,null,n),e.lanes=s,e}function Vg(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,s){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kg=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var s=kg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ji(n)},kg.set(e,n),n)}return{value:e,source:n,stack:ji(n)}}var Ea=[],Ta=0,Cu=null,jo=0,kn=[],zn=0,Ns=null,Ri=1,Ii="";function Ki(e,n){Ea[Ta++]=jo,Ea[Ta++]=Cu,Cu=e,jo=n}function zg(e,n,s){kn[zn++]=Ri,kn[zn++]=Ii,kn[zn++]=Ns,Ns=e;var o=Ri;e=Ii;var h=32-_e(o)-1;o&=~(1<<h),s+=1;var f=32-_e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ri=1<<32-_e(n)+h|s<<h|o,Ii=f+e}else Ri=1<<f|s<<h|o,Ii=e}function Yh(e){e.return!==null&&(Ki(e,1),zg(e,1,0))}function Xh(e){for(;e===Cu;)Cu=Ea[--Ta],Ea[Ta]=null,jo=Ea[--Ta],Ea[Ta]=null;for(;e===Ns;)Ns=kn[--zn],kn[zn]=null,Ii=kn[--zn],kn[zn]=null,Ri=kn[--zn],kn[zn]=null}function Ug(e,n){kn[zn++]=Ri,kn[zn++]=Ii,kn[zn++]=Ns,Ri=n.id,Ii=n.overflow,Ns=e}var He=null,ie=null,Ut=!1,xs=null,Un=!1,$h=Error(a(519));function Ds(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Vn(n,e)),$h}function Lg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[Ue]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)Nt(ul[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),bs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||e_(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||Ds(e,!0)}function Pg(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:He=He.return}}function ba(e){if(e!==He)return!1;if(!Ut)return Pg(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||gd(e.type,e.memoizedProps)),s=!s),s&&ie&&Ds(e),Pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=c_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=c_(e)}else n===27?(n=ie,Fs(e.type)?(e=Ed,Ed=null,ie=e):ie=n):ie=He?Pn(e.stateNode.nextSibling):null;return!0}function zr(){ie=He=null,Ut=!1}function Zh(){var e=xs;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),xs=null),e}function Bo(e){xs===null?xs=[e]:xs.push(e)}var Jh=O(null),Ur=null,Yi=null;function Os(e,n,s){it(Jh,n._currentValue),n._currentValue=s}function Xi(e){e._currentValue=Jh.current,Y(Jh)}function Wh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function tf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Sa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;vn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===nt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&tf(n,e,s,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Lr(e){Ur=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return jg(Ur,e)}function xu(e,n){return Ur===null&&Lr(e),jg(e,n)}function jg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Yi===null){if(e===null)throw Error(a(308));Yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yi=Yi.next=n;return s}var c1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},h1=r.unstable_scheduleCallback,f1=r.unstable_NormalPriority,Ie={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new c1,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&h1(f1,function(){e.controller.abort()})}var Ho=null,nf=0,Aa=0,wa=null;function d1(e,n){if(Ho===null){var s=Ho=[];nf=0,Aa=ad(),wa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(Bg,Bg),n}function Bg(){if(--nf===0&&Ho!==null){wa!==null&&(wa.status="fulfilled");var e=Ho;Ho=null,Aa=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function m1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var qg=H.S;H.S=function(e,n){wy=le(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&d1(e,n),qg!==null&&qg(e,n)};var Pr=O(null);function sf(){var e=Pr.current;return e!==null?e:ee.pooledCache}function Du(e,n){n===null?it(Pr,Pr.current):it(Pr,n.pool)}function Hg(){var e=sf();return e===null?null:{parent:Ie._currentValue,pool:e}}var Ra=Error(a(460)),rf=Error(a(474)),Ou=Error(a(542)),Mu={then:function(){}};function Gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then($n,$n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e}throw Br=n,Ra}}function jr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Br=s,Ra):s}}var Br=null;function Qg(){if(Br===null)throw Error(a(459));var e=Br;return Br=null,e}function Kg(e){if(e===Ra||e===Ou)throw Error(a(483))}var Ia=null,Go=0;function Vu(e){var n=Go;return Go+=1,Ia===null&&(Ia=[]),Fg(Ia,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yg(e){function n(k,D){if(e){var L=k.deletions;L===null?(k.deletions=[D],k.flags|=16):L.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Qi(k,D),k.index=0,k.sibling=null,k}function f(k,D,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<D?(k.flags|=67108866,D):L):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,L,K){return D===null||D.tag!==6?(D=Qh(L,k.mode,K),D.return=k,D):(D=h(D,L),D.return=k,D)}function R(k,D,L,K){var ft=L.type;return ft===et?G(k,D,L.props.children,K,L.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&jr(ft)===D.type)?(D=h(D,L.props),Fo(D,L),D.return=k,D):(D=Iu(L.type,L.key,L.props,null,k.mode,K),Fo(D,L),D.return=k,D)}function P(k,D,L,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Kh(L,k.mode,K),D.return=k,D):(D=h(D,L.children||[]),D.return=k,D)}function G(k,D,L,K,ft){return D===null||D.tag!==7?(D=kr(L,k.mode,K,ft),D.return=k,D):(D=h(D,L),D.return=k,D)}function X(k,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,k.mode,L),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return L=Iu(D.type,D.key,D.props,null,k.mode,L),Fo(L,D),L.return=k,L;case J:return D=Kh(D,k.mode,L),D.return=k,D;case S:return D=jr(D),X(k,D,L)}if(ye(D)||z(D))return D=kr(D,k.mode,L,null),D.return=k,D;if(typeof D.then=="function")return X(k,Vu(D),L);if(D.$$typeof===mt)return X(k,xu(k,D),L);ku(k,D)}return null}function j(k,D,L,K){var ft=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ft!==null?null:E(k,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ft?R(k,D,L,K):null;case J:return L.key===ft?P(k,D,L,K):null;case S:return L=jr(L),j(k,D,L,K)}if(ye(L)||z(L))return ft!==null?null:G(k,D,L,K,null);if(typeof L.then=="function")return j(k,D,Vu(L),K);if(L.$$typeof===mt)return j(k,D,xu(k,L),K);ku(k,L)}return null}function q(k,D,L,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,E(D,k,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return k=k.get(K.key===null?L:K.key)||null,R(D,k,K,ft);case J:return k=k.get(K.key===null?L:K.key)||null,P(D,k,K,ft);case S:return K=jr(K),q(k,D,L,K,ft)}if(ye(K)||z(K))return k=k.get(L)||null,G(D,k,K,ft,null);if(typeof K.then=="function")return q(k,D,L,Vu(K),ft);if(K.$$typeof===mt)return q(k,D,L,xu(D,K),ft);ku(D,K)}return null}function ot(k,D,L,K){for(var ft=null,Bt=null,lt=D,It=D=0,Ot=null;lt!==null&&It<L.length;It++){lt.index>It?(Ot=lt,lt=null):Ot=lt.sibling;var qt=j(k,lt,L[It],K);if(qt===null){lt===null&&(lt=Ot);break}e&&lt&&qt.alternate===null&&n(k,lt),D=f(qt,D,It),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt,lt=Ot}if(It===L.length)return s(k,lt),Ut&&Ki(k,It),ft;if(lt===null){for(;It<L.length;It++)lt=X(k,L[It],K),lt!==null&&(D=f(lt,D,It),Bt===null?ft=lt:Bt.sibling=lt,Bt=lt);return Ut&&Ki(k,It),ft}for(lt=o(lt);It<L.length;It++)Ot=q(lt,k,It,L[It],K),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?It:Ot.key),D=f(Ot,D,It),Bt===null?ft=Ot:Bt.sibling=Ot,Bt=Ot);return e&&lt.forEach(function($s){return n(k,$s)}),Ut&&Ki(k,It),ft}function pt(k,D,L,K){if(L==null)throw Error(a(151));for(var ft=null,Bt=null,lt=D,It=D=0,Ot=null,qt=L.next();lt!==null&&!qt.done;It++,qt=L.next()){lt.index>It?(Ot=lt,lt=null):Ot=lt.sibling;var $s=j(k,lt,qt.value,K);if($s===null){lt===null&&(lt=Ot);break}e&&lt&&$s.alternate===null&&n(k,lt),D=f($s,D,It),Bt===null?ft=$s:Bt.sibling=$s,Bt=$s,lt=Ot}if(qt.done)return s(k,lt),Ut&&Ki(k,It),ft;if(lt===null){for(;!qt.done;It++,qt=L.next())qt=X(k,qt.value,K),qt!==null&&(D=f(qt,D,It),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return Ut&&Ki(k,It),ft}for(lt=o(lt);!qt.done;It++,qt=L.next())qt=q(lt,k,It,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&lt.delete(qt.key===null?It:qt.key),D=f(qt,D,It),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return e&&lt.forEach(function(wb){return n(k,wb)}),Ut&&Ki(k,It),ft}function te(k,D,L,K){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ft=L.key;D!==null;){if(D.key===ft){if(ft=L.type,ft===et){if(D.tag===7){s(k,D.sibling),K=h(D,L.props.children),K.return=k,k=K;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&jr(ft)===D.type){s(k,D.sibling),K=h(D,L.props),Fo(K,L),K.return=k,k=K;break t}s(k,D);break}else n(k,D);D=D.sibling}L.type===et?(K=kr(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=Iu(L.type,L.key,L.props,null,k.mode,K),Fo(K,L),K.return=k,k=K)}return g(k);case J:t:{for(ft=L.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(k,D.sibling),K=h(D,L.children||[]),K.return=k,k=K;break t}else{s(k,D);break}else n(k,D);D=D.sibling}K=Kh(L,k.mode,K),K.return=k,k=K}return g(k);case S:return L=jr(L),te(k,D,L,K)}if(ye(L))return ot(k,D,L,K);if(z(L)){if(ft=z(L),typeof ft!="function")throw Error(a(150));return L=ft.call(L),pt(k,D,L,K)}if(typeof L.then=="function")return te(k,D,Vu(L),K);if(L.$$typeof===mt)return te(k,D,xu(k,L),K);ku(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(k,D.sibling),K=h(D,L),K.return=k,k=K):(s(k,D),K=Qh(L,k.mode,K),K.return=k,k=K),g(k)):s(k,D)}return function(k,D,L,K){try{Go=0;var ft=te(k,D,L,K);return Ia=null,ft}catch(lt){if(lt===Ra||lt===Ou)throw lt;var Bt=En(29,lt,null,k.mode);return Bt.lanes=K,Bt.return=k,Bt}}}var qr=Yg(!0),Xg=Yg(!1),Ms=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ks(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Og(e,null,s),n}return wu(e,o,n,s),Ru(e)}function Qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}function lf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var uf=!1;function Ko(){if(uf){var e=wa;if(e!==null)throw e}}function Yo(e,n,s,o){uf=!1;var h=e.updateQueue;Ms=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,G=P=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Dt&j)===j:(o&j)===j){j!==0&&j===Aa&&(uf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=n;var te=s;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){X=ot.call(te,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(te,X,j):ot,j==null)break t;X=A({},X,j);break t;case 2:Ms=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,R=X):G=G.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=X),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),js|=g,e.lanes=g,e.memoizedState=X}}function $g(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Zg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)$g(s[e],n)}var Ca=O(null),zu=O(0);function Jg(e,n){e=ss,it(zu,e),it(Ca,n),ss=e|n.baseLanes}function cf(){it(zu,ss),it(Ca,Ca.current)}function hf(){ss=zu.current,Y(Ca),Y(zu)}var Tn=O(null),Ln=null;function zs(e){var n=e.alternate;it(Ee,Ee.current&1),it(Tn,e),Ln===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Ln=e)}function ff(e){it(Ee,Ee.current),it(Tn,e),Ln===null&&(Ln=e)}function Wg(e){e.tag===22?(it(Ee,Ee.current),it(Tn,e),Ln===null&&(Ln=e)):Us()}function Us(){it(Ee,Ee.current),it(Tn,Tn.current)}function bn(e){Y(Tn),Ln===e&&(Ln=null),Y(Ee)}var Ee=O(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Rt=null,Jt=null,Ce=null,Lu=!1,Na=!1,Hr=!1,Pu=0,Xo=0,xa=null,g1=0;function ge(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!vn(e[s],n[s]))return!1;return!0}function mf(e,n,s,o,h,f){return $i=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?zp:Nf,Hr=!1,f=s(o,h),Hr=!1,Na&&(f=ep(n,s,o,h)),tp(e),f}function tp(e){H.H=Jo;var n=Jt!==null&&Jt.next!==null;if($i=0,Ce=Jt=Rt=null,Lu=!1,Xo=0,xa=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&Nu(e)&&(Ne=!0))}function ep(e,n,s,o){Rt=e;var h=0;do{if(Na&&(xa=null),Xo=0,Na=!1,25<=h)throw Error(a(301));if(h+=1,Ce=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Up,f=n(s,o)}while(Na);return f}function p1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function gf(){var e=Pu!==0;return Pu=0,e}function pf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function yf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}$i=0,Ce=Jt=Rt=null,Na=!1,Xo=Pu=0,xa=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Rt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function Te(){if(Jt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ce===null?Rt.memoizedState:Ce.next;if(n!==null)Ce=n,Jt=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ce===null?Rt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,xa===null&&(xa=[]),e=Fg(xa,e,n),n=Rt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?zp:Nf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===mt)return Ge(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Zi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=Te();return vf(n,Jt,e)}function vf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Dt&X)===X:($i&X)===X){var j=P.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Aa&&(G=!0);else if(($i&j)===j){P=P.next,j===Aa&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,Rt.lanes|=j,js|=j;X=P.action,Hr&&s(f,X),f=P.hasEagerState?P.eagerState:s(f,X)}else j={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,Rt.lanes|=X,js|=X;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!vn(f,e.memoizedState)&&(Ne=!0,G&&(s=wa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);vn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function np(e,n,s){var o=Rt,h=Te(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!vn((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ne=!0),h=h.queue,Sf(rp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ce!==null&&Ce.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},sp.bind(null,o,h,s,n),null),ee===null)throw Error(a(349));f||($i&127)!==0||ip(o,n,s)}return s}function ip(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=ju(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function sp(e,n,s,o){n.value=s,n.getSnapshot=o,ap(n)&&op(e)}function rp(e,n,s){return s(function(){ap(n)&&op(e)})}function ap(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!vn(e,s)}catch{return!0}}function op(e){var n=Vr(e,2);n!==null&&dn(n,e,2)}function Tf(e){var n=sn();if(typeof e=="function"){var s=e;if(e=s(),Hr){Cn(!0);try{s()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},n}function lp(e,n,s,o){return e.baseState=s,vf(e,Jt,typeof o=="function"?o:Zi)}function y1(e,n,s,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,up(n,f)):(f.next=s.next,n.pending=s.next=f)}}function up(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,o),R=H.S;R!==null&&R(g,E),cp(e,n,E)}catch(P){bf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,o),cp(e,n,f)}catch(P){bf(e,n,P)}}function cp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){hp(e,n,o)},function(o){return bf(e,n,o)}):hp(e,n,s)}function hp(e,n,s){n.status="fulfilled",n.value=s,fp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,up(e,s)))}function bf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,fp(n),n=n.next;while(n!==o)}e.action=null}function fp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dp(e,n){return n}function mp(e,n){if(Ut){var s=ee.formState;if(s!==null){t:{var o=Rt;if(Ut){if(ie){e:{for(var h=ie,f=Un;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Pn(h.nextSibling),o=h.data==="F!";break t}}Ds(o)}o=!1}o&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},s.queue=o,s=Mp.bind(null,Rt,o),o.dispatch=s,o=Tf(!1),f=Cf.bind(null,Rt,!1,o.queue),o=sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=y1.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function gp(e){var n=Te();return pp(n,Jt,e)}function pp(e,n,s){if(n=vf(e,n,dp)[0],e=qu(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===Ra?Ou:g}else o=n;n=Te();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Da(9,{destroy:void 0},_1.bind(null,h,s),null)),[o,f,e]}function _1(e,n){e.action=n}function yp(e){var n=Te(),s=Jt;if(s!==null)return pp(n,s,e);Te(),n=n.memoizedState,s=Te();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Da(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=ju(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function _p(){return Te().memoizedState}function Hu(e,n,s,o){var h=sn();Rt.flags|=e,h.memoizedState=Da(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=Te();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&df(o,Jt.memoizedState.deps)?h.memoizedState=Da(n,f,s,o):(Rt.flags|=e,h.memoizedState=Da(1|n,f,s,o))}function vp(e,n){Hu(8390656,8,e,n)}function Sf(e,n){Gu(2048,8,e,n)}function v1(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=ju(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ep(e){var n=Te().memoizedState;return v1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tp(e,n){return Gu(4,2,e,n)}function bp(e,n){return Gu(4,4,e,n)}function Sp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,Sp.bind(null,n,e),s)}function Af(){}function wp(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&df(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Rp(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),Hr){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o}function wf(e,n,s){return s===void 0||($i&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Iy(),Rt.lanes|=e,js|=e,s)}function Ip(e,n,s,o){return vn(s,n)?s:Ca.current!==null?(e=wf(e,s,o),vn(e,n)||(Ne=!0),e):($i&42)===0||($i&1073741824)!==0&&(Dt&261930)===0?(Ne=!0,e.memoizedState=s):(e=Iy(),Rt.lanes|=e,js|=e,n)}function Cp(e,n,s,o,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Cf(e,!1,n,s);try{var R=h(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=m1(R,o);Zo(e,n,G,wn(e))}else Zo(e,n,o,wn(e))}catch(X){Zo(e,n,{then:function(){},status:"rejected",reason:X},wn())}finally{st.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function E1(){}function Rf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Np(e).queue;Cp(e,h,n,ct,s===null?E1:function(){return xp(e),s(o)})}function Np(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xp(e){var n=Np(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},wn())}function If(){return Ge(ml)}function Dp(){return Te().memoizedState}function Op(){return Te().memoizedState}function T1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=wn();e=Vs(s);var o=ks(n,e,s);o!==null&&(dn(o,n,s),Qo(o,n,s)),n={cache:ef()},e.payload=n;return}n=n.return}}function b1(e,n,s){var o=wn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Vp(n,s):(s=Gh(e,n,s,o),s!==null&&(dn(s,e,o),kp(s,n,o)))}function Mp(e,n,s){var o=wn();Zo(e,n,s,o)}function Zo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,vn(E,g))return wu(e,n,h,0),ee===null&&Au(),!1}catch{}if(s=Gh(e,n,h,o),s!==null)return dn(s,e,o),kp(s,n,o),!0}return!1}function Cf(e,n,s,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=Gh(e,s,o,2),n!==null&&dn(n,e,2)}function Fu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Vp(e,n){Na=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function kp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}var Jo={readContext:Ge,use:Bu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Jo.useEffectEvent=ge;var zp={readContext:Ge,use:Bu,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:vp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,Sp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=sn();n=n===void 0?null:n;var o=e();if(Hr){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=sn();if(s!==void 0){var h=s(n);if(Hr){Cn(!0);try{s(n)}finally{Cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=b1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,s=Mp.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=sn();return wf(s,e,n)},useTransition:function(){var e=Tf(!1);return e=Cp.bind(null,Rt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=sn();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Dt&127)!==0||ip(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,vp(rp.bind(null,o,f,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},sp.bind(null,o,f,s,n),null),s},useId:function(){var e=sn(),n=ee.identifierPrefix;if(Ut){var s=Ii,o=Ri;s=(o&~(1<<32-_e(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=g1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:If,useFormState:mp,useActionState:mp,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return sn().memoizedState=T1.bind(null,Rt)},useEffectEvent:function(e){var n=sn(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Nf={readContext:Ge,use:Bu,useCallback:wp,useContext:Ge,useEffect:Sf,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:qu,useRef:_p,useState:function(){return qu(Zi)},useDebugValue:Af,useDeferredValue:function(e,n){var s=Te();return Ip(s,Jt.memoizedState,e,n)},useTransition:function(){var e=qu(Zi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:If,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=Te();return lp(s,Jt,e,n)},useMemoCache:_f,useCacheRefresh:Op};Nf.useEffectEvent=Ep;var Up={readContext:Ge,use:Bu,useCallback:wp,useContext:Ge,useEffect:Sf,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:bp,useMemo:Rp,useReducer:Ef,useRef:_p,useState:function(){return Ef(Zi)},useDebugValue:Af,useDeferredValue:function(e,n){var s=Te();return Jt===null?wf(s,e,n):Ip(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Ef(Zi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:If,useFormState:yp,useActionState:yp,useOptimistic:function(e,n){var s=Te();return Jt!==null?lp(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Op};Up.useEffectEvent=Ep;function xf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=wn(),h=Vs(o);h.payload=n,s!=null&&(h.callback=s),n=ks(e,h,o),n!==null&&(dn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=wn(),h=Vs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ks(e,h,o),n!==null&&(dn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=wn(),o=Vs(s);o.tag=2,n!=null&&(o.callback=n),n=ks(e,o,s),n!==null&&(dn(n,e,s),Qo(n,e,s))}};function Lp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Lo(s,o)||!Lo(h,f):!0}function Pp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Gr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function jp(e){Su(e)}function Bp(e){console.error(e)}function qp(e){Su(e)}function Qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Hp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(e,n)},s}function Gp(e){return e=Vs(e),e.tag=3,e}function Fp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Hp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Hp(n,s,o),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function S1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Sa(n,s,h,!0),s=Tn.current,s!==null){switch(s.tag){case 31:case 13:return Ln===null?sc():s.alternate===null&&pe===0&&(pe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),id(e,o,h)),!1}throw Error(a(435,s.tag))}return id(e,o,h),sc(),!1}if(Ut)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(e=Error(a(422),{cause:o}),Bo(Vn(e,s)))):(o!==$h&&(n=Error(a(423),{cause:o}),Bo(Vn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,s),h=Of(e.stateNode,o,h),lf(e,h),pe!==4&&(pe=2)),!1;var f=Error(a(520),{cause:o});if(f=Vn(f,s),al===null?al=[f]:al.push(f),pe!==4&&(pe=2),n===null)return!0;o=Vn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,o,e),lf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gp(h),Fp(h,e,s,o),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Ne=!1;function Fe(e,n,s,o){n.child=e===null?Xg(n,null,s,o):qr(n,e.child,s,o)}function Qp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Lr(n),o=mf(e,n,s,g,f,h),E=gf(),e!==null&&!Ne?(pf(e,n,h),Ji(e,n,h)):(Ut&&E&&Yh(n),n.flags|=1,Fe(e,n,o,h),n.child)}function Kp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yp(e,n,f,o,h)):(e=Iu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Lo,s(g,o)&&e.ref===n.ref)return Ji(e,n,h)}return n.flags|=1,e=Qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Yp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,Ji(e,n,h)}return Vf(e,n,s,o,h)}function Xp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return $p(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Jg(n,f):cf(),Wg(n);else return o=n.lanes=536870912,$p(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),Jg(n,f),Us(),n.memoizedState=null):(e!==null&&Du(n,null),cf(),Us());return Fe(e,n,h,s),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $p(e,n,s,o,h){var f=sf();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),cf(),Wg(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zp(e,n,s){return qr(n,e.child,null,s),e=Ku(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function A1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Wo(null,e);if(ff(n),(e=ie)?(e=u_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,He=n,ie=null)):e=null,e===null)throw Ds(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Zp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||Sa(e,n,s,!1),h=(s&e.childLanes)!==0,Ne||h){if(o=ee,o!==null&&(g=Eo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Vr(e,g),dn(o,e,g),Mf;sc(),n=Zp(e,n,s)}else e=f.treeContext,ie=Pn(g.nextSibling),He=n,Ut=!0,xs=null,Un=!1,e!==null&&Ug(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return Lr(n),s=mf(e,n,s,o,void 0,h),o=gf(),e!==null&&!Ne?(pf(e,n,h),Ji(e,n,h)):(Ut&&o&&Yh(n),n.flags|=1,Fe(e,n,s,h),n.child)}function Jp(e,n,s,o,h,f){return Lr(n),n.updateQueue=null,s=ep(n,o,s,h),tp(e),o=gf(),e!==null&&!Ne?(pf(e,n,f),Ji(e,n,f)):(Ut&&o&&Yh(n),n.flags|=1,Fe(e,n,s,f),n.child)}function Wp(e,n,s,o,h){if(Lr(n),n.stateNode===null){var f=va,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ge(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ge(g):va,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(xf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Gr(s,E);f.props=R;var P=f.context,G=s.contextType;g=va,typeof G=="object"&&G!==null&&(g=Ge(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Pp(n,f,o,g),Ms=!1;var j=n.memoizedState;f.state=j,Yo(n,o,f,h),Ko(),P=n.memoizedState,E||j!==P||Ms?(typeof X=="function"&&(xf(n,s,X,o),P=n.memoizedState),(R=Ms||Lp(n,s,R,o,j,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),g=n.memoizedProps,G=Gr(s,g),f.props=G,X=n.pendingProps,j=f.context,P=s.contextType,R=va,typeof P=="object"&&P!==null&&(R=Ge(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==R)&&Pp(n,f,o,R),Ms=!1,j=n.memoizedState,f.state=j,Yo(n,o,f,h),Ko();var q=n.memoizedState;g!==X||j!==q||Ms||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(xf(n,s,E,o),q=n.memoizedState),(G=Ms||Lp(n,s,G,o,j,q,R)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=qr(n,e.child,null,h),n.child=qr(n,null,s,h)):Fe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ji(e,n,h),e}function ty(e,n,s,o){return zr(),n.flags|=256,Fe(e,n,s,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:Hg()}}function Uf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=An),e}function ey(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?zs(n):Us(),(e=ie)?(e=u_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,He=n,ie=null)):e=null,e===null)throw Ds(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=kr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=zf(s),o.childLanes=Uf(e,g,s),n.memoizedState=kf,Wo(null,o)):(zs(n),Lf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=Pf(e,n,s)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=kr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,qr(n,e.child,null,s),o=n.child,o.memoizedState=zf(s),o.childLanes=Uf(e,g,s),n.memoizedState=kf,n=Wo(null,o));else if(zs(n),vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=Pf(e,n,s)}else if(Ne||Sa(e,n,s,!1),g=(s&e.childLanes)!==0,Ne||g){if(g=ee,g!==null&&(o=Eo(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Vr(e,o),dn(g,e,o),Mf;_d(E)||sc(),n=Pf(e,n,s)}else _d(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ie=Pn(E.nextSibling),He=n,Ut=!0,xs=null,Un=!1,e!==null&&Ug(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Qi(P,E):(E=kr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=zf(s):(h=E.cachePool,h!==null?(R=Ie._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Hg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Uf(e,g,s),n.memoizedState=kf,Wo(e.child,o)):(zs(n),s=e.child,e=s.sibling,s=Qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Lf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=En(22,e,null,n),e.lanes=0,e}function Pf(e,n,s){return qr(n,e.child,null,s),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ny(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,s)}function jf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function iy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ee.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(Ee,g),Fe(e,n,o,s),o=Ut?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,s,n);else if(e.tag===19)ny(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}jf(n,!0,s,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),js|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Sa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function w1(e,n,s){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),Os(n,Ie,e.memoizedState.cache),zr();break;case 27:case 5:an(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ey(e,n,s):(zs(n),e=Ji(e,n,s),e!==null?e.sibling:null);zs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Sa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return iy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,Xp(e,n,s,n.pendingProps);case 24:Os(n,Ie,e.memoizedState.cache)}return Ji(e,n,s)}function sy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Bf(e,s)&&(n.flags&128)===0)return Ne=!1,w1(e,n,s);Ne=(e.flags&131072)!==0}else Ne=!1,Ut&&(n.flags&1048576)!==0&&zg(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=jr(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=Gr(e,o),n.tag=1,n=Wp(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ht){n.tag=11,n=Qp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Kp(null,n,e,o,s);break t}}throw n=ne(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Gr(o,n.pendingProps),Wp(e,n,o,h,s);case 3:t:{if(ht(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Yo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Os(n,Ie,o),o!==f.cache&&tf(n,[Ie],s,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ty(e,n,o,s);break t}else if(o!==h){h=Vn(Error(a(424)),n),Bo(h),n=ty(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Pn(e.firstChild),He=n,Ut=!0,xs=null,Un=!0,s=Xg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(zr(),o===h){n=Ji(e,n,s);break t}Fe(e,n,o,s)}n=n.child}return n;case 26:return Yu(e,n),e===null?(s=g_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,o=hc(Q.current).createElement(s),o[Ae]=n,o[Ue]=e,Qe(o,s,e),we(o),n.stateNode=o):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return an(n),e===null&&Ut&&(o=n.stateNode=f_(n.type,n.pendingProps,Q.current),He=n,Un=!0,h=ie,Fs(n.type)?(Ed=h,ie=Pn(o.firstChild)):ie=h),Fe(e,n,n.pendingProps.children,s),Yu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ie)&&(o=eb(o,n.type,n.pendingProps,Un),o!==null?(n.stateNode=o,He=n,ie=Pn(o.firstChild),Un=!1,h=!0):h=!1),h||Ds(n)),an(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,gd(h,f)?o=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,p1,null,null,s),ml._currentValue=h),Yu(e,n),Fe(e,n,o,s),n.child;case 6:return e===null&&Ut&&((e=s=ie)&&(s=nb(s,n.pendingProps,Un),s!==null?(n.stateNode=s,He=n,ie=null,e=!0):e=!1),e||Ds(n)),null;case 13:return ey(e,n,s);case 4:return ht(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qr(n,null,o,s):Fe(e,n,o,s),n.child;case 11:return Qp(e,n,n.type,n.pendingProps,s);case 7:return Fe(e,n,n.pendingProps,s),n.child;case 8:return Fe(e,n,n.pendingProps.children,s),n.child;case 12:return Fe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),Fe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Lr(n),h=Ge(h),o=o(h),n.flags|=1,Fe(e,n,o,s),n.child;case 14:return Kp(e,n,n.type,n.pendingProps,s);case 15:return Yp(e,n,n.type,n.pendingProps,s);case 19:return iy(e,n,s);case 31:return A1(e,n,s);case 22:return Xp(e,n,s,n.pendingProps);case 24:return Lr(n),o=Ge(Ie),e===null?(h=sf(),h===null&&(h=ee,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},af(n),Os(n,Ie,h)):((e.lanes&s)!==0&&(of(e,n),Yo(n,null,null,s),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,Ie,o)):(o=f.cache,Os(n,Ie,o),o!==h.cache&&tf(n,[Ie],s,!0))),Fe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wi(e){e.flags|=4}function qf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw Br=Mu,rf}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(n))if(Dy())e.flags|=8192;else throw Br=Mu,rf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,ka|=n)}function tl(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function R1(e,n,s){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Ie),At(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ba(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Wi(n),f!==null?(se(n),ry(n,f)):(se(n),qf(n,h,null,o,s))):f?f!==e.memoizedState?(Wi(n),se(n),ry(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Wi(n),se(n),qf(n,h,e,o,s)),null;case 27:if(pn(n),s=Q.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=rt.current,ba(n)?Lg(n):(e=f_(h,o,s),n.stateNode=e,Wi(n))}return se(n),null;case 5:if(pn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=rt.current,ba(n))Lg(n);else{var g=hc(Q.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ae]=n,f[Ue]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wi(n)}}return se(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Q.current,ba(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=He,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||e_(e.nodeValue,s)),e||Ds(n,!0)}else e=hc(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ba(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ba(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),se(n),null);case 4:return At(),e===null&&cd(n.stateNode.containerInfo),se(n),null;case 10:return Xi(n.type),se(n),null;case 19:if(Y(Ee),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Mg(s,e),s=s.sibling;return it(Ee,Ee.current&1|2),Ut&&Ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&le()>ec&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return se(n),null}else 2*le()-o.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=le(),e.sibling=null,s=Ee.current,it(Ee,h?s&1|2:s&1),Ut&&Ki(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return bn(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Pr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Xi(Ie),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function I1(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Ie),At(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return pn(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ee),null;case 4:return At(),null;case 10:return Xi(n.type),null;case 22:case 23:return bn(n),hf(),e!==null&&Y(Pr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Ie),null;case 25:return null;default:return null}}function ay(e,n){switch(Xh(n),n.tag){case 3:Xi(Ie),At();break;case 26:case 27:case 5:pn(n);break;case 4:At();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:Y(Ee);break;case 10:Xi(n.type);break;case 22:case 23:bn(n),hf(),e!==null&&Y(Pr);break;case 24:Xi(Ie)}}function el(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Xt(n,n.return,E)}}function Ls(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,P=E;try{P()}catch(G){Xt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Xt(n,n.return,G)}}function oy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Zg(n,s)}catch(o){Xt(e,e.return,o)}}}function ly(e,n,s){s.props=Gr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function nl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function Ci(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function uy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function Hf(e,n,s){try{var o=e.stateNode;X1(o,e.type,s,n),o[Ue]=n}catch(h){Xt(e,e.return,h)}}function cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fs(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=$n));else if(o!==4&&(o===27&&Fs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,s),e=e.sibling;e!==null;)Ff(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Fs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function hy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qe(n,o,s),n[Ae]=e,n[Ue]=s}catch(f){Xt(e,e.return,f)}}var ts=!1,xe=!1,Qf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function C1(e,n){if(e=e.containerInfo,dd=_c,e=Ag(e),Lh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,P=0,G=0,X=e,j=null;e:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(R=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===s&&++P===h&&(E=g),j===f&&++G===o&&(R=g),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:e,selectionRange:s},_c=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Gr(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Xt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function dy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ns(e,s),o&4&&el(5,s);break;case 1:if(ns(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var h=Gr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}o&64&&oy(s),o&512&&nl(s,s.return);break;case 3:if(ns(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Zg(e,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&o&4&&hy(s);case 26:case 5:ns(e,s),n===null&&o&4&&uy(s),o&512&&nl(s,s.return);break;case 12:ns(e,s);break;case 31:ns(e,s),o&4&&py(e,s);break;case 13:ns(e,s),o&4&&yy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=U1.bind(null,s),ib(e,s))));break;case 22:if(o=s.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||xe,h=ts;var f=xe;ts=o,(xe=n)&&!f?is(e,s,(s.subtreeFlags&8772)!==0):ns(e,s),ts=h,xe=f}break;case 30:break;default:ns(e,s)}}function my(e){var n=e.alternate;n!==null&&(e.alternate=null,my(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,un=!1;function es(e,n,s){for(s=s.child;s!==null;)gy(e,n,s),s=s.sibling}function gy(e,n,s){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:xe||Ci(s,n),es(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||Ci(s,n);var o=ce,h=un;Fs(s.type)&&(ce=s.stateNode,un=!1),es(e,n,s),hl(s.stateNode),ce=o,un=h;break;case 5:xe||Ci(s,n);case 6:if(o=ce,h=un,ce=null,es(e,n,s),ce=o,un=h,ce!==null)if(un)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{ce.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:ce!==null&&(un?(e=ce,o_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ha(e)):o_(ce,s.stateNode));break;case 4:o=ce,h=un,ce=s.stateNode.containerInfo,un=!0,es(e,n,s),ce=o,un=h;break;case 0:case 11:case 14:case 15:Ls(2,s,n),xe||Ls(4,s,n),es(e,n,s);break;case 1:xe||(Ci(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ly(s,n,o)),es(e,n,s);break;case 21:es(e,n,s);break;case 22:xe=(o=xe)||s.memoizedState!==null,es(e,n,s),xe=o;break;default:es(e,n,s)}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(s){Xt(n,n.return,s)}}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(s){Xt(n,n.return,s)}}function N1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new fy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new fy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=N1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=L1.bind(null,e,o);o.then(h,h)}})}function cn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Fs(E.type)){ce=E.stateNode,un=!1;break t}break;case 5:ce=E.stateNode,un=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(ce===null)throw Error(a(160));gy(f,g,h),ce=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,e),n=n.sibling}var ni=null;function _y(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(Ls(3,e,e.return),el(3,e),Ls(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(xe||s===null||Ci(s,s.return)),o&64&&ts&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ni;if(cn(n,e),hn(e),o&512&&(xe||s===null||Ci(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Qe(f,o,s),f[Ae]=e,we(f),o=f;break t;case"link":var g=__("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,s),h.head.appendChild(f);break;case"meta":if(g=__("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ae]=e,we(f),o=f}e.stateNode=o}else v_(h,e.type,e.stateNode);else e.stateNode=y_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?v_(h,e.type,e.stateNode):y_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,s.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(xe||s===null||Ci(s,s.return)),s!==null&&o&4&&Hf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(xe||s===null||Ci(s,s.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(ot){Xt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){Xt(e,e.return,ot)}}break;case 3:if(mc=null,h=ni,ni=fc(n.containerInfo),cn(n,e),ni=h,hn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(ot){Xt(e,e.return,ot)}Qf&&(Qf=!1,vy(e));break;case 4:o=ni,ni=fc(e.stateNode.containerInfo),cn(n,e),hn(e),ni=o;break;case 12:cn(n,e),hn(e);break;case 31:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tc=le()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=ts,G=xe;if(ts=P||h,xe=G||R,cn(n,e),xe=G,ts=P,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||ts||xe||Fr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Xt(R,R.return,ot)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Xt(R,R.return,ot)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?l_(q,!0):l_(R.stateNode,!1)}catch(ot){Xt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(cy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(ln(g,""),s.flags&=-33);var E=Gf(e);Zu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=Gf(e);Ff(e,P,R);break;default:throw Error(a(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(e,n.alternate,n),n=n.sibling}function Fr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Fr(n);break;case 1:Ci(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),Fr(n);break;case 27:hl(n.stateNode);case 26:case 5:Ci(n,n.return),Fr(n);break;case 22:n.memoizedState===null&&Fr(n);break;case 30:Fr(n);break;default:Fr(n)}e=e.sibling}}function is(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,s),el(4,f);break;case 1:if(is(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)$g(R[h],E)}catch(P){Xt(o,o.return,P)}}s&&g&64&&oy(f),nl(f,f.return);break;case 27:hy(f);case 26:case 5:is(h,f,s),s&&o===null&&g&4&&uy(f),nl(f,f.return);break;case 12:is(h,f,s);break;case 31:is(h,f,s),s&&g&4&&py(h,f);break;case 13:is(h,f,s),s&&g&4&&yy(h,f);break;case 22:f.memoizedState===null&&is(h,f,s),nl(f,f.return);break;case 30:break;default:is(h,f,s)}n=n.sibling}}function Kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&qo(s))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function ii(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(e,n,s,o),n=n.sibling}function Ey(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,o),h&2048&&el(9,n);break;case 1:ii(e,n,s,o);break;case 3:ii(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){ii(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else ii(e,n,s,o);break;case 31:ii(e,n,s,o);break;case 13:ii(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,s,o):il(e,n):f._visibility&2?ii(e,n,s,o):(f._visibility|=2,Oa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:ii(e,n,s,o),h&2048&&Yf(n.alternate,n);break;default:ii(e,n,s,o)}}function Oa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Oa(f,g,E,R,h),el(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Oa(f,g,E,R,h):il(f,g):(G._visibility|=2,Oa(f,g,E,R,h)),h&&P&2048&&Kf(g.alternate,g);break;case 24:Oa(f,g,E,R,h),h&&P&2048&&Yf(g.alternate,g);break;default:Oa(f,g,E,R,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&Kf(o.alternate,o);break;case 24:il(s,o),h&2048&&Yf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var sl=8192;function Ma(e,n,s){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Ty(e,n,s),e=e.sibling}function Ty(e,n,s){switch(e.tag){case 26:Ma(e,n,s),e.flags&sl&&e.memoizedState!==null&&gb(s,ni,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,s);break;case 3:case 4:var o=ni;ni=fc(e.stateNode.containerInfo),Ma(e,n,s),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Ma(e,n,s),sl=o):Ma(e,n,s));break;default:Ma(e,n,s)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,Ay(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):rl(e);break;default:rl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,Ay(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function Ay(e,n){for(;Pe!==null;){var s=Pe;switch(s.tag){case 0:case 11:case 15:Ls(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Pe=o;else t:for(s=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(my(o),o===s){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var x1={getCacheForType:function(e){var n=Ge(Ie),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ge(Ie).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,Ct=null,Dt=0,Yt=0,Sn=null,Ps=!1,Va=!1,Xf=!1,ss=0,pe=0,js=0,Qr=0,$f=0,An=0,ka=0,al=null,fn=null,Zf=!1,tc=0,wy=0,ec=1/0,nc=null,Bs=null,Ve=0,qs=null,za=null,rs=0,Jf=0,Wf=null,Ry=null,ol=0,td=null;function wn(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?ad():iu()}function Iy(){if(An===0)if((Dt&536870912)===0||Ut){var e=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),An=e}else An=536870912;return e=Tn.current,e!==null&&(e.flags|=32),An}function dn(e,n,s){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Hs(e,Dt,An,!1)),Er(e,s),((Ft&2)===0||e!==ee)&&(e===ee&&((Ft&2)===0&&(Qr|=s),pe===4&&Hs(e,Dt,An,!1)),Ni(e))}function Cy(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),h=o?V1(e,n):nd(e,n,!0),f=o;do{if(h===0){Va&&!o&&Hs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!O1(s)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=al;var R=E.current.memoizedState.isDehydrated;if(R&&(Ua(E,g).flags|=256),g=nd(E,g,!1),g!==2){if(Xf&&!R){E.errorRecoveryDisabledLanes|=f,Qr|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),Hs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Hs(o,n,An,!Ps);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-le(),10<h)){if(Hs(o,n,An,!Ps),hi(o,0,!0)!==0)break t;rs=n,o.timeoutHandle=r_(Ny.bind(null,o,s,fn,nc,Zf,n,An,Qr,ka,Ps,f,"Throttled",-0,0),h);break t}Ny(o,s,fn,nc,Zf,n,An,Qr,ka,Ps,f,null,-0,0)}}break}while(!0);Ni(e)}function Ny(e,n,s,o,h,f,g,E,R,P,G,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Ty(n,f,X);var ot=(f&62914560)===f?tc-le():(f&4194048)===f?wy-le():0;if(ot=pb(X,ot),ot!==null){rs=f,e.cancelPendingCommit=ot(Uy.bind(null,e,n,f,s,o,h,g,E,R,G,X,null,j,q)),Hs(e,f,g,!P);return}}Uy(e,n,f,s,o,h,g,E,R)}function O1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hs(e,n,s,o){n&=~$f,n&=~Qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Tr(e,s,n)}function ic(){return(Ft&6)===0?(ll(0),!1):!0}function ed(){if(Ct!==null){if(Yt===0)var e=Ct.return;else e=Ct,Yi=Ur=null,yf(e),Ia=null,Go=0,e=Ct;for(;e!==null;)ay(e.alternate,e),e=e.return;Ct=null}}function Ua(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,J1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rs=0,ed(),ee=e,Ct=s=Qi(e.current,null),Dt=n,Yt=0,Sn=null,Ps=!1,Va=Kn(e,n),Xf=!1,ka=An=$f=Qr=js=pe=0,fn=al=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return ss=n,Au(),s}function xy(e,n){Rt=null,H.H=Jo,n===Ra||n===Ou?(n=Qg(),Yt=3):n===rf?(n=Qg(),Yt=4):Yt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Ct===null&&(pe=1,Qu(e,Vn(n,e.current)))}function Dy(){var e=Tn.current;return e===null?!0:(Dt&4194048)===Dt?Ln===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Ln:!1}function Oy(){var e=H.H;return H.H=Jo,e===null?Jo:e}function My(){var e=H.A;return H.A=x1,e}function sc(){pe=4,Ps||(Dt&4194048)!==Dt&&Tn.current!==null||(Va=!0),(js&134217727)===0&&(Qr&134217727)===0||ee===null||Hs(ee,Dt,An,!1)}function nd(e,n,s){var o=Ft;Ft|=2;var h=Oy(),f=My();(ee!==e||Dt!==n)&&(nc=null,Ua(e,n)),n=!1;var g=pe;t:do try{if(Yt!==0&&Ct!==null){var E=Ct,R=Sn;switch(Yt){case 8:ed(),g=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var P=Yt;if(Yt=0,Sn=null,La(e,E,R,P),s&&Va){g=0;break t}break;default:P=Yt,Yt=0,Sn=null,La(e,E,R,P)}}M1(),g=pe;break}catch(G){xy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Yi=Ur=null,Ft=o,H.H=h,H.A=f,Ct===null&&(ee=null,Dt=0,Au()),g}function M1(){for(;Ct!==null;)Vy(Ct)}function V1(e,n){var s=Ft;Ft|=2;var o=Oy(),h=My();ee!==e||Dt!==n?(nc=null,ec=le()+500,Ua(e,n)):Va=Kn(e,n);t:do try{if(Yt!==0&&Ct!==null){n=Ct;var f=Sn;e:switch(Yt){case 1:Yt=0,Sn=null,La(e,n,f,1);break;case 2:case 9:if(Gg(f)){Yt=0,Sn=null,ky(n);break}n=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),Ni(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Gg(f)?(Yt=0,Sn=null,ky(n)):(Yt=0,Sn=null,La(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?E_(g):E.stateNode.complete){Yt=0,Sn=null;var R=E.sibling;if(R!==null)Ct=R;else{var P=E.return;P!==null?(Ct=P,rc(P)):Ct=null}break e}}Yt=0,Sn=null,La(e,n,f,5);break;case 6:Yt=0,Sn=null,La(e,n,f,6);break;case 8:ed(),pe=6;break t;default:throw Error(a(462))}}k1();break}catch(G){xy(e,G)}while(!0);return Yi=Ur=null,H.H=o,H.A=h,Ft=s,Ct!==null?0:(ee=null,Dt=0,Au(),pe)}function k1(){for(;Ct!==null&&!Bi();)Vy(Ct)}function Vy(e){var n=sy(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?rc(e):Ct=n}function ky(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Jp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Jp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:yf(n);default:ay(s,n),n=Ct=Mg(n,ss),n=sy(s,n,ss)}e.memoizedProps=e.pendingProps,n===null?rc(e):Ct=n}function La(e,n,s,o){Yi=Ur=null,yf(n),Ia=null,Go=0;var h=n.return;try{if(S1(e,h,n,s,Dt)){pe=1,Qu(e,Vn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;pe=1,Qu(e,Vn(s,e.current)),Ct=null;return}n.flags&32768?(Ut||o===1?e=!0:Va||(Dt&536870912)!==0?e=!1:(Ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,Ps);return}e=n.return;var s=R1(n.alternate,n,ss);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);pe===0&&(pe=5)}function zy(e,n){do{var s=I1(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);pe=6,Ct=null}function Uy(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do ac();while(Ve!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(e,s,f,g,E,R),e===ee&&(Ct=ee=null,Dt=0),za=n,qs=e,rs=s,Jf=f,Wf=h,Ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,P1(vs,function(){return qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=st.p,st.p=2,g=Ft,Ft|=4;try{C1(e,n,s)}finally{Ft=g,st.p=h,H.T=o}}Ve=1,Ly(),Py(),jy()}}function Ly(){if(Ve===1){Ve=0;var e=qs,n=za,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=st.p;st.p=2;var h=Ft;Ft|=4;try{_y(n,e);var f=md,g=Ag(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Sg(E.ownerDocument.documentElement,E)){if(R!==null&&Lh(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,pt=Math.min(R.start,ot),te=R.end===void 0?pt:Math.min(R.end,ot);!q.extend&&pt>te&&(g=te,te=pt,pt=g);var k=bg(E,pt),D=bg(E,te);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=X.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),pt>te?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}_c=!!dd,md=dd=null}finally{Ft=h,st.p=o,H.T=s}}e.current=n,Ve=2}}function Py(){if(Ve===2){Ve=0;var e=qs,n=za,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=st.p;st.p=2;var h=Ft;Ft|=4;try{dy(e,n.alternate,n)}finally{Ft=h,st.p=o,H.T=s}}Ve=3}}function jy(){if(Ve===4||Ve===3){Ve=0,li();var e=qs,n=za,s=rs,o=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,za=qs=null,By(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Bs=null),qi(s),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=st.p,st.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,st.p=h}}(rs&3)!==0&&ac(),Ni(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===td?ol++:(ol=0,td=e):ol=0,ll(0)}}function By(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function ac(){return Ly(),Py(),jy(),qy()}function qy(){if(Ve!==5)return!1;var e=qs,n=Jf;Jf=0;var s=qi(rs),o=H.T,h=st.p;try{st.p=32>s?32:s,H.T=null,s=Wf,Wf=null;var f=qs,g=rs;if(Ve=0,za=qs=null,rs=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,Sy(f.current),Ey(f,f.current,g,s),Ft=E,ll(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{st.p=h,H.T=o,By(e,n)}}function Hy(e,n,s){n=Vn(s,n),n=Of(e.stateNode,n,2),e=ks(e,n,2),e!==null&&(Er(e,2),Ni(e))}function Xt(e,n,s){if(e.tag===3)Hy(e,e,s);else for(;n!==null;){if(n.tag===3){Hy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bs===null||!Bs.has(o))){e=Vn(s,e),s=Gp(2),o=ks(n,s,2),o!==null&&(Fp(s,o,n,e),Er(o,2),Ni(o));break}}n=n.return}}function id(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new D1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Xf=!0,h.add(s),e=z1.bind(null,e,n,s),n.then(e,e))}function z1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Dt&s)===s&&(pe===4||pe===3&&(Dt&62914560)===Dt&&300>le()-tc?(Ft&2)===0&&Ua(e,0):$f|=s,ka===Dt&&(ka=0)),Ni(e)}function Gy(e,n){n===0&&(n=nu()),e=Vr(e,n),e!==null&&(Er(e,n),Ni(e))}function U1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(e,s)}function L1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(e,s)}function P1(e,n){return oe(e,n)}var oc=null,Pa=null,sd=!1,lc=!1,rd=!1,Gs=0;function Ni(e){e!==Pa&&e.next===null&&(Pa===null?oc=Pa=e:Pa=Pa.next=e),lc=!0,sd||(sd=!0,B1())}function ll(e,n){if(!rd&&lc){rd=!0;do for(var s=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(o,f))}else f=Dt,f=hi(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(s=!0,Yy(o,f));o=o.next}while(s);rd=!1}}function j1(){Fy()}function Fy(){lc=sd=!1;var e=0;Gs!==0&&Z1()&&(e=Gs);for(var n=le(),s=null,o=oc;o!==null;){var h=o.next,f=Qy(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(Pa=s)):(s=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Ve!==0&&Ve!==5||ll(e),Gs!==0&&(Gs=0)}function Qy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Mh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,s=Dt,s=hi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Fn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Fn(o),qi(s)){case 2:case 8:s=_o;break;case 32:s=vs;break;case 268435456:s=Zl;break;default:s=vs}return o=Ky.bind(null,e),s=oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Fn(o),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ac()&&e.callbackNode!==s)return null;var o=Dt;return o=hi(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Cy(e,o,n),Qy(e,le()),e.callbackNode!=null&&e.callbackNode===s?Ky.bind(null,e):null)}function Yy(e,n){if(ac())return null;Cy(e,n,!0)}function B1(){W1(function(){(Ft&6)!==0?oe(yo,j1):Fy()})}function ad(){if(Gs===0){var e=Aa;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Gs=e}return Gs}function Xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function $y(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function q1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Xy((h[Ue]||null).action),g=o.submitter;g&&(n=(n=g[Ue]||null)?Xy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new bi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gs!==0){var R=g?$y(h,g):new FormData(h);Rf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?$y(h,g):new FormData(h),Rf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],H1=ld.toLowerCase(),G1=ld[0].toUpperCase()+ld.slice(1);ei(H1,"on"+G1)}ei(Ig,"onAnimationEnd"),ei(Cg,"onAnimationIteration"),ei(Ng,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(a1,"onTransitionRun"),ei(o1,"onTransitionStart"),ei(l1,"onTransitionCancel"),ei(xg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Zy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=R}}}}function Nt(e,n){var s=n[sa];s===void 0&&(s=n[sa]=new Set);var o=e+"__bubble";s.has(o)||(Jy(n,e,2,!1),s.add(o))}function ud(e,n,s){var o=0;n&&(o|=4),Jy(s,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[uc]){e[uc]=!0,To.forEach(function(s){s!=="selectionchange"&&(F1.has(s)||ud(s,!1,e),ud(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,ud("selectionchange",!1,n))}}function Jy(e,n,s,o){switch(I_(n)){case 2:var h=vb;break;case 8:h=Eb;break;default:h=wd}s=h.bind(null,n,s,e),h=void 0,!Rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function hd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=gi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ws(function(){var P=f,G=xn(s),X=[];t:{var j=Dg.get(e);if(j!==void 0){var q=bi,ot=e;switch(e){case"keypress":if(Cr(s)===0)break t;case"keydown":case"keyup":q=Eu;break;case"focusin":ot="focus",q=xr;break;case"focusout":ot="blur",q=xr;break;case"beforeblur":case"afterblur":q=xr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ig:case Cg:case Ng:q=du;break;case xg:q=b;break;case"scroll":case"scrollend":q=Mo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Fi;break;case"toggle":case"beforetoggle":q=wt}var pt=(n&4)!==0,te=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=P,L;D!==null;){var K=D;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=Zn(D,k),K!=null&&pt.push(cl(D,K,L))),te)break;D=D.return}0<pt.length&&(j=new q(j,ot,null,s,G),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==xo&&(ot=s.relatedTarget||s.fromElement)&&(gi(ot)||ot[di]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=P,ot=ot?gi(ot):null,ot!==null&&(te=c(ot),pt=ot.tag,ot!==te||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=P),q!==ot)){if(pt=Vo,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Fi,K="onPointerLeave",k="onPointerEnter",D="pointer"),te=q==null?j:yn(q),L=ot==null?j:yn(ot),j=new pt(K,D+"leave",q,s,G),j.target=te,j.relatedTarget=L,K=null,gi(G)===P&&(pt=new pt(k,D+"enter",ot,s,G),pt.target=L,pt.relatedTarget=te,K=pt),te=K,q&&ot)e:{for(pt=Q1,k=q,D=ot,L=0,K=k;K;K=pt(K))L++;K=0;for(var ft=D;ft;ft=pt(ft))K++;for(;0<L-K;)k=pt(k),L--;for(;0<K-L;)D=pt(D),K--;for(;L--;){if(k===D||D!==null&&k===D.alternate){pt=k;break e}k=pt(k),D=pt(D)}pt=null}else pt=null;q!==null&&Wy(X,j,q,pt,!1),ot!==null&&te!==null&&Wy(X,te,ot,pt,!0)}}t:{if(j=P?yn(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Bt=pg;else if(mg(j))if(yg)Bt=i1;else{Bt=e1;var lt=t1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&la(P.elementType)&&(Bt=pg):Bt=n1;if(Bt&&(Bt=Bt(e,P))){gg(X,Bt,s,G);break t}lt&&lt(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Io(j,"number",j.value)}switch(lt=P?yn(P):window,e){case"focusin":(mg(lt)||lt.contentEditable==="true")&&(pa=lt,Ph=P,Po=null);break;case"focusout":Po=Ph=pa=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,wg(X,s,G);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":wg(X,s,G)}var It;if(Gt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ga?Dr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(wi&&s.locale!=="ko"&&(ga||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ga&&(It=Oo()):(Ti=G,Do="value"in Ti?Ti.value:Ti.textContent,ga=!0)),lt=cc(P,Ot),0<lt.length&&(Ot=new Ai(Ot,e,null,s,G),X.push({event:Ot,listeners:lt}),It?Ot.data=It:(It=ma(s),It!==null&&(Ot.data=It)))),(It=On?$T(e,s):ZT(e,s))&&(Ot=cc(P,"onBeforeInput"),0<Ot.length&&(lt=new Ai("onBeforeInput","beforeinput",null,s,G),X.push({event:lt,listeners:Ot}),lt.data=It)),q1(X,e,P,s,G)}Zy(X,n)})}function cl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function cc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,s),h!=null&&o.unshift(cl(e,h,f)),h=Zn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Zn(s,f),P!=null&&g.unshift(cl(s,P,R))):h||(P=Zn(s,f),P!=null&&g.push(cl(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var K1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(Y1,"")}function e_(e,n){return n=t_(n),t_(e)===n}function Wt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ln(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ln(e,""+o);break;case"className":_n(e,"class",o);break;case"tabIndex":_n(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,s,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){_n(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ua(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ua(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=$n);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,aa(e,s,o))}}function fd(e,n,s,o,h,f){switch(s){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?ln(e,o):(typeof o=="number"||typeof o=="bigint")&&ln(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ue]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):aa(e,s,o)}}}function Qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,g,s,null)}}h&&Wt(e,n,"srcSet",s.srcSet,s,null),o&&Wt(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Wt(e,n,o,G,s,null)}}ou(e,f,E,R,P,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Wt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Ts(e,!!o,n,!1):s!=null&&Ts(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,g,E,s,null)}bs(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,R,o,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Nt(ul[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,P,o,s,null)}return;default:if(la(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&fd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Wt(e,n,E,o,s,null))}function X1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,G=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||Wt(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=s[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&Wt(e,n,j,q,o,X)}}oa(e,g,E,R,P,G,f,h);return;case"select":q=g=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Wt(e,n,h,f,o,R)}n=E,s=g,o=q,j!=null?Ts(e,!!s,j,!1):!!o!=!!s&&(n!=null?Ts(e,!!s,n,!0):Ts(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,g,h,o,f)}lu(e,j,q);return;case"option":for(var ot in s)j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:Wt(e,n,ot,null,o,j));for(R in o)j=o[R],q=s[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Wt(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&Wt(e,n,pt,null,o,j);for(P in o)if(j=o[P],q=s[P],o.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Wt(e,n,P,j,o,q)}return;default:if(la(n)){for(var te in s)j=s[te],s.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&fd(e,n,te,void 0,o,j);for(G in o)j=o[G],q=s[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||fd(e,n,G,j,o,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Wt(e,n,k,null,o,j);for(X in o)j=o[X],q=s[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||Wt(e,n,X,j,o,q)}function n_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&n_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>E)break;var G=R.transferSize,X=R.initiatorType;G&&n_(X)&&(R=R.responseEnd,g+=G*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function i_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(e){return a_.resolve(null).then(e).catch(tb)}:r_;function tb(e){setTimeout(function(){throw e})}function Fs(e){return e==="head"}function o_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&hl(e.ownerDocument.body);s=h}while(s);Ha(n)}function l_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),ra(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function eb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function nb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Pn(e.nextSibling),e===null))return null;return e}function u_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function c_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Pn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function h_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function f_(e,n,s){switch(n=hc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var jn=new Map,d_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=st.d;st.d={f:sb,r:rb,D:ab,C:ob,L:lb,m:ub,X:hb,S:cb,M:fb};function sb(){var e=as.f(),n=ic();return e||n}function rb(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?xp(n):as.r(e)}var ja=typeof document>"u"?null:document;function m_(e,n,s){var o=ja;if(o&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),d_.has(h)||(d_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qe(n,"link",e),we(n),o.head.appendChild(n)))}}function ab(e){as.D(e),m_("dns-prefetch",e,null)}function ob(e,n){as.C(e,n),m_("preconnect",e,n)}function lb(e,n,s){as.L(e,n,s);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+on(s.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}jn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Qe(n,"link",e),we(n),o.head.appendChild(n)))}}function ub(e,n){as.m(e,n);var s=ja;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!jn.has(f)&&(e=A({rel:"modulepreload",href:e},n),jn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),Qe(o,"link",e),we(o),s.head.appendChild(o)}}}function cb(e,n,s){as.S(e,n,s);var o=ja;if(o&&e){var h=pi(o).hoistableStyles,f=Ba(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(fl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=jn.get(f))&&Td(e,s);var R=g=o.createElement("link");we(R),Qe(R,"link",e),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function hb(e,n){as.X(e,n);var s=ja;if(s&&e){var o=pi(s).hoistableScripts,h=qa(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=A({src:e,async:!0},n),(n=jn.get(h))&&bd(e,n),f=s.createElement("script"),we(f),Qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function fb(e,n){as.M(e,n);var s=ja;if(s&&e){var o=pi(s).hoistableScripts,h=qa(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&bd(e,n),f=s.createElement("script"),we(f),Qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g_(e,n,s,o){var h=(h=Q.current)?fc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ba(s.href),s=pi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ba(s.href);var f=pi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),f||db(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(s),s=pi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ba(e){return'href="'+on(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function p_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function db(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qe(n,"link",s),we(n),e.head.appendChild(n))}function qa(e){return'[src="'+on(e)+'"]'}function dl(e){return"script[async]"+e}function y_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+on(s.href)+'"]');if(o)return n.instance=o,we(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),we(o),Qe(o,"style",h),dc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ba(s.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;o=p_(s),(h=jn.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),we(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Qe(f,"link",o),n.state.loading|=4,dc(f,s.precedence,e),n.instance=f;case"script":return f=qa(s.src),(h=e.querySelector(dl(f)))?(n.instance=h,we(h),h):(o=s,(h=jn.get(f))&&(o=A({},s),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),Qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,e));return n.instance}function dc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function __(e,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[mi]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function v_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function mb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ba(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,we(f);return}f=n.ownerDocument||n,o=p_(o),(h=jn.get(h))&&Td(o,h),f=f.createElement("link"),we(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Qe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Sd=0;function pb(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*$1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(yb,e),pc=null,gc.call(e))}function yb(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function _b(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function T_(e,n,s,o,h,f,g,E,R,P,G,X){return e=new _b(e,n,s,g,R,P,G,X,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},af(f),e}function b_(e){return e?(e=va,e):va}function S_(e,n,s,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=Vs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ks(e,o,n),s!==null&&(dn(s,e,n),Qo(s,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function w_(e){if(e.tag===13||e.tag===31){var n=Vr(e,67108864);n!==null&&dn(n,e,67108864),Ad(e,67108864)}}function R_(e){if(e.tag===13||e.tag===31){var n=wn();n=br(n);var s=Vr(e,n);s!==null&&dn(s,e,n),Ad(e,n)}}var _c=!0;function vb(e,n,s,o){var h=H.T;H.T=null;var f=st.p;try{st.p=2,wd(e,n,s,o)}finally{st.p=f,H.T=h}}function Eb(e,n,s,o){var h=H.T;H.T=null;var f=st.p;try{st.p=8,wd(e,n,s,o)}finally{st.p=f,H.T=h}}function wd(e,n,s,o){if(_c){var h=Rd(o);if(h===null)hd(e,n,o,vc,s),C_(e,o);else if(bb(h,e,n,s,o))o.stopPropagation();else if(C_(e,o),n&4&&-1<Tb.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ci(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-_e(g);E.entanglements[1]|=R,g&=~R}Ni(f),(Ft&6)===0&&(ec=le()+500,ll(0))}}break;case 31:case 13:E=Vr(f,2),E!==null&&dn(E,f,2),ic(),Ad(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,s)}}function Rd(e){return e=xn(e),Id(e)}var vc=null;function Id(e){if(vc=null,e=gi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function I_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case yo:return 2;case _o:return 8;case vs:case Oh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Cd=!1,Qs=null,Ks=null,Ys=null,gl=new Map,pl=new Map,Xs=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,n){switch(e){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&w_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function bb(e,n,s,o,h){switch(n){case"focusin":return Qs=yl(Qs,e,n,s,o,h),!0;case"dragenter":return Ks=yl(Ks,e,n,s,o,h),!0;case"mouseover":return Ys=yl(Ys,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,s,o,h)),!0}return!1}function N_(e){var n=gi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){R_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){R_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Rd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);xo=o,s.target.dispatchEvent(o),xo=null}else return n=Nn(s),n!==null&&w_(n),e.blockedOn=s,!1;n.shift()}return!0}function x_(e,n,s){Ec(e)&&s.delete(n)}function Sb(){Cd=!1,Qs!==null&&Ec(Qs)&&(Qs=null),Ks!==null&&Ec(Ks)&&(Ks=null),Ys!==null&&Ec(Ys)&&(Ys=null),gl.forEach(x_),pl.forEach(x_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sb)))}var bc=null;function D_(e){bc!==e&&(bc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Id(o||s)===null)continue;break}var f=Nn(s);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ha(e){function n(R){return Tc(R,e)}Qs!==null&&Tc(Qs,e),Ks!==null&&Tc(Ks,e),Ys!==null&&Tc(Ys,e),gl.forEach(n),pl.forEach(n);for(var s=0;s<Xs.length;s++){var o=Xs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Xs.length&&(s=Xs[0],s.blockedOn===null);)N_(s),s.blockedOn===null&&Xs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ue]||null;if(typeof f=="function")g||D_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ue]||null)E=g.formAction;else if(Id(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),D_(s)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}Sc.prototype.render=Nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=wn();S_(s,o,e,n,null,null)},Sc.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;S_(e.current,2,null,e,null,null),ic(),n[di]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Xs.length&&n!==0&&n<Xs[s].priority;s++);Xs.splice(s,0,e),s===0&&N_(e)}};var M_=t.version;if(M_!=="19.2.3")throw Error(a(527,M_,"19.2.3"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Ab={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Qn=Ac.inject(Ab),Be=Ac}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=jp,f=Bp,g=qp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=T_(e,1,!1,null,null,s,o,null,h,f,g,O_),e[di]=n.current,cd(e),new Nd(n)},vl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=jp,g=Bp,E=qp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=T_(e,1,!0,n,s??null,o,h,R,f,g,E,O_),n.context=b_(null),s=n.current,o=wn(),o=br(o),h=Vs(o),h.callback=null,ks(s,h,o),s=o,n.current.lanes=s,Er(n,s),Ni(n),e[di]=n.current,cd(e),new Sc(n)},vl.version="19.2.3",vl}var H_;function kb(){if(H_)return Od.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=Vb(),Od.exports}var zb=kb();const Ub=()=>{};var G_={};const Av=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Lb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(V=64)),a.push(i[T],i[A],i[V],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Av(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Lb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new Pb;const V=c<<2|p>>4;if(a.push(V),y!==64){const F=p<<4&240|y>>2;if(a.push(F),A!==64){const J=y<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(r){const t=Av(r);return wv.encodeByteArray(t,!0)},Fc=function(r){return jb(r).replace(/\./g,"")},Rv=function(r){try{return wv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qb=()=>Bb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Gb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Rv(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return Ub()||qb()||Hb()||Gb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Iv=r=>hh()?.emulatorHosts?.[r],Fb=r=>{const t=Iv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Cv=()=>hh()?.config,Nv=r=>hh()?.[`_${r}`];class Qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(r){return(await fetch(r,{credentials:"include"})).ok}function Kb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Al={};function Yb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Al))Al[t]?r.emulator.push(t):r.prod.push(t);return r}function Xb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let F_=!1;function Dv(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Al[r]===t||Al[r]||F_)return;Al[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=Yb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{F_=!0,d()},V}function T(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=Xb(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),et=i("learnmore"),W=document.getElementById(et)||document.createElement("a"),dt=i("preprendIcon"),Et=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const mt=V.element;p(mt),T(W,et);const Ht=y();_(Et,dt),mt.append(Et,J,W,Ht),document.body.appendChild(mt)}c?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Zb(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nS(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const rS="FirebaseError";class ys extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=rS,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?aS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ys(l,p,a)}}function aS(r,t){return r.replace(oS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const oS=/\{\$([^}]+)}/g;function lS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function lr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Q_(c)&&Q_(d)){if(!lr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function Pl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function uS(r,t){const i=new cS(r,t);return i.subscribe.bind(i)}class cS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");hS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function zd(){}function rn(r){return r&&r._delegate?r._delegate:r}class $r{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Kr="[DEFAULT]";class fS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Qb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mS(t))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kr){return this.instances.has(t)}getOptions(t=Kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Kr){return this.component?this.component.multipleInstances?t:Kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(r){return r===Kr?void 0:r}function mS(r){return r.instantiationMode==="EAGER"}class gS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new fS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const pS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},yS=Mt.INFO,_S={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},vS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=_S[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=yS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const ES=(r,t)=>t.some(i=>r instanceof i);let K_,Y_;function TS(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,Xd=new WeakMap,Mv=new WeakMap,Ud=new WeakMap,Rm=new WeakMap;function SS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ir(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Ov.set(i,r)}).catch(()=>{}),Rm.set(t,r),t}function AS(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let $d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Mv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ir(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function wS(r){$d=r($d)}function RS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ld(this),t,...i);return Mv.set(a,t.sort?t.sort():[t]),ir(a)}:bS().includes(r)?function(...t){return r.apply(Ld(this),t),ir(Ov.get(this))}:function(...t){return ir(r.apply(Ld(this),t))}}function IS(r){return typeof r=="function"?RS(r):(r instanceof IDBTransaction&&AS(r),ES(r,TS())?new Proxy(r,$d):r)}function ir(r){if(r instanceof IDBRequest)return SS(r);if(Ud.has(r))return Ud.get(r);const t=IS(r);return t!==r&&(Ud.set(r,t),Rm.set(t,r)),t}const Ld=r=>Rm.get(r);function CS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=ir(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ir(d.result),_.oldVersion,_.newVersion,ir(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const NS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Pd=new Map;function X_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=xS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||NS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Pd.set(t,c),c}wS(r=>({...r,get:(t,i,a)=>X_(t,i)||r.get(t,i,a),has:(t,i)=>!!X_(t,i)||r.has(t,i)}));class DS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(OS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function OS(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",$_="0.14.6";const hs=new wm("@firebase/app"),MS="@firebase/app-compat",VS="@firebase/analytics-compat",kS="@firebase/analytics",zS="@firebase/app-check-compat",US="@firebase/app-check",LS="@firebase/auth",PS="@firebase/auth-compat",jS="@firebase/database",BS="@firebase/data-connect",qS="@firebase/database-compat",HS="@firebase/functions",GS="@firebase/functions-compat",FS="@firebase/installations",QS="@firebase/installations-compat",KS="@firebase/messaging",YS="@firebase/messaging-compat",XS="@firebase/performance",$S="@firebase/performance-compat",ZS="@firebase/remote-config",JS="@firebase/remote-config-compat",WS="@firebase/storage",tA="@firebase/storage-compat",eA="@firebase/firestore",nA="@firebase/ai",iA="@firebase/firestore-compat",sA="firebase",rA="12.6.0";const Jd="[DEFAULT]",aA={[Zd]:"fire-core",[MS]:"fire-core-compat",[kS]:"fire-analytics",[VS]:"fire-analytics-compat",[US]:"fire-app-check",[zS]:"fire-app-check-compat",[LS]:"fire-auth",[PS]:"fire-auth-compat",[jS]:"fire-rtdb",[BS]:"fire-data-connect",[qS]:"fire-rtdb-compat",[HS]:"fire-fn",[GS]:"fire-fn-compat",[FS]:"fire-iid",[QS]:"fire-iid-compat",[KS]:"fire-fcm",[YS]:"fire-fcm-compat",[XS]:"fire-perf",[$S]:"fire-perf-compat",[ZS]:"fire-rc",[JS]:"fire-rc-compat",[WS]:"fire-gcs",[tA]:"fire-gcs-compat",[eA]:"fire-fst",[iA]:"fire-fst-compat",[nA]:"fire-vertex","fire-js":"fire-js",[sA]:"fire-js-all"};const Qc=new Map,oA=new Map,Wd=new Map;function Z_(r,t){try{r.container.addComponent(t)}catch(i){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function eo(r){const t=r.name;if(Wd.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Qc.values())Z_(i,r);for(const i of oA.values())Z_(i,r);return!0}function Im(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Hn(r){return r==null?!1:r.settings!==void 0}const lA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Ll("app","Firebase",lA);class uA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const co=rA;function Vv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw sr.create("bad-app-name",{appName:String(l)});if(i||(i=Cv()),!i)throw sr.create("no-options");const c=Qc.get(l);if(c){if(lr(i,c.options)&&lr(a,c.config))return c;throw sr.create("duplicate-app",{appName:l})}const d=new gS(l);for(const _ of Wd.values())d.addComponent(_);const p=new uA(i,a,d);return Qc.set(l,p),p}function kv(r=Jd){const t=Qc.get(r);if(!t&&r===Jd&&Cv())return Vv();if(!t)throw sr.create("no-app",{appName:r});return t}function rr(r,t,i){let a=aA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}eo(new $r(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const cA="firebase-heartbeat-database",hA=1,xl="firebase-heartbeat-store";let jd=null;function zv(){return jd||(jd=CS(cA,hA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw sr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function fA(r){try{const i=(await zv()).transaction(xl),a=await i.objectStore(xl).get(Uv(r));return await i.done,a}catch(t){if(t instanceof ys)hs.warn(t.message);else{const i=sr.create("idb-get",{originalErrorMessage:t?.message});hs.warn(i.message)}}}async function J_(r,t){try{const a=(await zv()).transaction(xl,"readwrite");await a.objectStore(xl).put(t,Uv(r)),await a.done}catch(i){if(i instanceof ys)hs.warn(i.message);else{const a=sr.create("idb-set",{originalErrorMessage:i?.message});hs.warn(a.message)}}}function Uv(r){return`${r.name}!${r.options.appId}`}const dA=1024,mA=30;class gA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>mA){const l=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=pA(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return hs.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function pA(r,t=dA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),t0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),t0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class yA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?sS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function t0(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function _A(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function vA(r){eo(new $r("platform-logger",t=>new DS(t),"PRIVATE")),eo(new $r("heartbeat",t=>new gA(t),"PRIVATE")),rr(Zd,$_,r),rr(Zd,$_,"esm2020"),rr("fire-js","")}vA("");var EA="firebase",TA="12.7.0";rr(EA,TA,"app");function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bA=Lv,Pv=new Ll("auth","Firebase",Lv());const Kc=new wm("@firebase/auth");function SA(r,...t){Kc.logLevel<=Mt.WARN&&Kc.warn(`Auth (${co}): ${r}`,...t)}function kc(r,...t){Kc.logLevel<=Mt.ERROR&&Kc.error(`Auth (${co}): ${r}`,...t)}function fs(r,...t){throw Cm(r,...t)}function Di(r,...t){return Cm(r,...t)}function jv(r,t,i){const a={...bA(),[t]:i};return new Ll("auth","Firebase",a).create(t,{appName:r.name})}function cs(r){return jv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Pv.create(r,...t)}function vt(r,t,...i){if(!r)throw Cm(t,...i)}function ls(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function ds(r,t){r||ls(t)}function tm(){return typeof self<"u"&&self.location?.href||""}function AA(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function wA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AA()||Wb()||"connection"in navigator)?navigator.onLine:!0}function RA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ds(i>t,"Short delay should be less than long delay!"),this.isMobile=$b()||tS()}get(){return wA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nm(r,t){ds(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Bv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NA=new jl(3e4,6e4);function Bl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ho(r,t,i,a,l={}){return qv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Pl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return Jb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(y.credentials="include"),Bv.fetch()(await Hv(r,r.config.apiHost,i,p),y)})}async function qv(r,t,i){r._canInitEmulator=!1;const a={...IA,...t};try{const l=new xA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Rc(r,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw jv(r,T,y);fs(r,T)}}catch(l){if(l instanceof ys)throw l;fs(r,"network-request-failed",{message:String(l)})}}async function xm(r,t,i,a,l={}){const c=await ho(r,t,i,a,l);return"mfaPendingCredential"in c&&fs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Nm(r.config,l):`${r.config.apiScheme}://${l}`;return CA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Di(this.auth,"network-request-failed")),NA.get())})}}function Rc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Di(r,t,a);return l.customData._tokenResponse=i,l}async function DA(r,t){return ho(r,"POST","/v1/accounts:delete",t)}async function Yc(r,t){return ho(r,"POST","/v1/accounts:lookup",t)}function wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OA(r,t=!1){const i=rn(r),a=await i.getIdToken(t),l=Dm(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:wl(Bd(l.auth_time)),issuedAtTime:wl(Bd(l.iat)),expirationTime:wl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Dm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Rv(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function n0(r){const t=Dm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Dl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ys&&MA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function MA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class VA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(r){const t=r.auth,i=await r.getIdToken(),a=await Dl(r,Yc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Gv(l.providerUserInfo):[],d=zA(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function kA(r){const t=rn(r);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Gv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function UA(r,t){const i=await qv(r,{},async()=>{const a=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Hv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),Bv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LA(r,t){return ho(r,"POST","/v2/accounts:revokeToken",Bl(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):n0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=n0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await UA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new $a;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return ls("not implemented")}}function Zs(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new VA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new em(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return OA(this,t)}reload(){return kA(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(cs(this.auth));const t=await this.getIdToken();return await Dl(this,DA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:F,providerData:J,stsTokenManager:et}=i;vt(A&&et,t,"internal-error");const W=$a.fromJSON(this.name,et);vt(typeof A=="string",t,"internal-error"),Zs(a,t.name),Zs(l,t.name),vt(typeof V=="boolean",t,"internal-error"),vt(typeof F=="boolean",t,"internal-error"),Zs(c,t.name),Zs(d,t.name),Zs(p,t.name),Zs(_,t.name),Zs(y,t.name),Zs(T,t.name);const dt=new ri({uid:A,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:T});return J&&Array.isArray(J)&&(dt.providerData=J.map(Et=>({...Et}))),_&&(dt._redirectEventId=_),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new $a;l.updateFromServerResponse(i);const c=new ri({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Gv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(a);const _=new ri({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const i0=new Map;function us(r){ds(r instanceof Function,"Expected a class definition");let t=i0.get(r);return t?(ds(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,i0.set(r,t),t)}class Fv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Fv.type="NONE";const s0=Fv;function zc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?ri._fromGetAccountInfoResponse(this.auth,i,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(us(s0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||us(s0);const d=zc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let A;if(typeof T=="string"){const V=await Yc(t,{idToken:T}).catch(()=>{});if(!V)break;A=await ri._fromGetAccountInfoResponse(t,V,T)}else A=ri._fromJSON(t,T);y!==c&&(p=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,t,a))}}function r0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Xv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zv(t))return"Blackberry";if(Jv(t))return"Webos";if(Kv(t))return"Safari";if((t.includes("chrome/")||Yv(t))&&!t.includes("edge/"))return"Chrome";if($v(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Qv(r=en()){return/firefox\//i.test(r)}function Kv(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yv(r=en()){return/crios\//i.test(r)}function Xv(r=en()){return/iemobile/i.test(r)}function $v(r=en()){return/android/i.test(r)}function Zv(r=en()){return/blackberry/i.test(r)}function Jv(r=en()){return/webos/i.test(r)}function Om(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PA(r=en()){return Om(r)&&!!window.navigator?.standalone}function jA(){return eS()&&document.documentMode===10}function Wv(r=en()){return Om(r)||$v(r)||Jv(r)||Zv(r)||/windows phone/i.test(r)||Xv(r)}function tE(r,t=[]){let i;switch(r){case"Browser":i=r0(en());break;case"Worker":i=`${r0(en())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class BA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function qA(r,t={}){return ho(r,"GET","/v2/passwordPolicy",Bl(r,t))}const HA=6;class GA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??HA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class FA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new BA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await ri._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=RA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Hn(this.app))return Promise.reject(cs(this));const i=t?rn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Hn(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qA(this),i=new GA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await LA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&us(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&SA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ql(r){return rn(r)}class a0{constructor(t){this.auth=t,this.observer=null,this.addObserver=uS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QA(r){Mm=r}function KA(r){return Mm.loadJS(r)}function YA(){return Mm.gapiScript}function XA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function $A(r,t){const i=Im(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(lr(c,t??{}))return l;fs(l,"already-initialized")}return i.initialize({options:t})}function ZA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(us);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function JA(r,t,i){const a=ql(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=eE(t),{host:d,port:p}=WA(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(lr(y,a.config.emulator)&&lr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(xv(`${c}//${d}${_}`),Dv("Auth",!0)):tw()}function eE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function WA(r){const t=eE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:o0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:o0(d)}}}function o0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function tw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class nE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ls("not implemented")}_getIdTokenResponse(t){return ls("not implemented")}_linkToIdToken(t,i){return ls("not implemented")}_getReauthenticationResolver(t){return ls("not implemented")}}async function Ja(r,t){return xm(r,"POST","/v1/accounts:signInWithIdp",Bl(r,t))}const ew="http://localhost";class Zr extends nE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):fs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Zr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:ew,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}class iE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Js extends Hl{constructor(){super("facebook.com")}static credential(t){return Zr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";class Ws extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class tr extends Hl{constructor(){super("github.com")}static credential(t){return Zr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class er extends Hl{constructor(){super("twitter.com")}static credential(t,i){return Zr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return er.credential(i,a)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function nw(r,t){return xm(r,"POST","/v1/accounts:signUp",Bl(r,t))}class ms{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ri._fromIdTokenResponse(t,a,l),d=l0(a);return new ms({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=l0(a);return new ms({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function iw(r){if(Hn(r.app))return Promise.reject(cs(r));const t=ql(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ms({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await nw(t,{returnSecureToken:!0}),a=await ms._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class $c extends ys{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new $c(t,i,a,l)}}function sE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,c,t,a):c})}async function sw(r,t,i=!1){const a=await Dl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ms._forOperation(r,"link",a)}async function rw(r,t,i=!1){const{auth:a}=r;if(Hn(a.app))return Promise.reject(cs(a));const l="reauthenticate";try{const c=await Dl(r,sE(a,l,t,r),i);vt(c.idToken,a,"internal-error");const d=Dm(c.idToken);vt(d,a,"internal-error");const{sub:p}=d;return vt(r.uid===p,a,"user-mismatch"),ms._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&fs(a,"user-mismatch"),c}}async function aw(r,t,i=!1){if(Hn(r.app))return Promise.reject(cs(r));const a="signIn",l=await sE(r,a,t),c=await ms._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function ow(r,t){return xm(r,"POST","/v1/accounts:signInWithCustomToken",Bl(r,t))}async function lw(r,t){if(Hn(r.app))return Promise.reject(cs(r));const i=ql(r),a=await ow(i,{token:t,returnSecureToken:!0}),l=await ms._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function uw(r,t,i,a){return rn(r).onIdTokenChanged(t,i,a)}function cw(r,t,i){return rn(r).beforeAuthStateChanged(t,i)}function hw(r,t,i,a){return rn(r).onAuthStateChanged(t,i,a)}const Zc="__sak";class rE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const fw=1e3,dw=10;class aE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);jA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,dw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}aE.type="LOCAL";const mw=aE;class oE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}oE.type="SESSION";const lE=oE;function gw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await gw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class pw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Vm("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const V=A;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function yw(r){Oi().location.href=r}function uE(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function _w(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vw(){return navigator?.serviceWorker?.controller||null}function Ew(){return uE()?self:null}const cE="firebaseLocalStorageDb",Tw=1,Jc="firebaseLocalStorage",hE="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,t){return r.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function bw(){const r=indexedDB.deleteDatabase(cE);return new Gl(r).toPromise()}function nm(){const r=indexedDB.open(cE,Tw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Jc,{keyPath:hE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await bw(),t(await nm()))})})}async function u0(r,t,i){const a=dh(r,!0).put({[hE]:t,value:i});return new Gl(a).toPromise()}async function Sw(r,t){const i=dh(r,!1).get(t),a=await new Gl(i).toPromise();return a===void 0?null:a.value}function c0(r,t){const i=dh(r,!0).delete(t);return new Gl(i).toPromise()}const Aw=800,ww=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>ww)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(Ew()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _w(),!this.activeServiceWorker)return;this.sender=new pw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nm();return await u0(t,Zc,"1"),await c0(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Sw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const Rw=fE;new jl(3e4,6e4);function Iw(r,t){return t?us(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class km extends nE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Cw(r){return aw(r.auth,new km(r),r.bypassAuthState)}function Nw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),rw(i,new km(r),r.bypassAuthState)}async function xw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),sw(i,new km(r),r.bypassAuthState)}class dE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Cw;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return Nw;default:fs(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dw=new jl(2e3,1e4);class Xa extends dE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Dw.get())};t()}}Xa.currentPopupAction=null;const Ow="pendingRedirect",Uc=new Map;class Mw extends dE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await Vw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vw(r,t){const i=Uw(t),a=zw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function kw(r,t){Uc.set(r._key(),t)}function zw(r){return us(r._redirectPersistence)}function Uw(r){return zc(Ow,r.config.apiKey,r.name)}async function Lw(r,t,i=!1){if(Hn(r.app))return Promise.reject(cs(r));const a=ql(r),l=Iw(a,t),d=await new Mw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Pw=600*1e3;class jw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Bw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!mE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(t))}saveEventToCache(t){this.cachedEventUids.add(h0(t)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function mE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Bw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(r);default:return!1}}async function qw(r,t={}){return ho(r,"GET","/v1/projects",t)}const Hw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gw=/^https?/;async function Fw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await qw(r);for(const i of t)try{if(Qw(i))return}catch{}fs(r,"unauthorized-domain")}function Qw(r){const t=tm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Gw.test(i))return!1;if(Hw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Kw=new jl(3e4,6e4);function f0(){const r=Oi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Yw(r){return new Promise((t,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(Di(r,"network-request-failed"))},timeout:Kw.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const l=XA("iframefcb");return Oi()[l]=()=>{gapi.load?a():i(Di(r,"network-request-failed"))},KA(`${YA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function Xw(r){return Lc=Lc||Yw(r),Lc}const $w=new jl(5e3,15e3),Zw="__/auth/iframe",Jw="emulator/auth/iframe",Ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e2(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Nm(t,Jw):`https://${r.config.authDomain}/${Zw}`,a={apiKey:t.apiKey,appName:r.name,v:co},l=t2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Pl(a).slice(1)}`}async function n2(r){const t=await Xw(r),i=Oi().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:e2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ww,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Di(r,"network-request-failed"),p=Oi().setTimeout(()=>{c(d)},$w.get());function _(){Oi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const i2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s2=500,r2=600,a2="_blank",o2="http://localhost";class d0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l2(r,t,i,a=s2,l=r2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...i2,width:a.toString(),height:l.toString(),top:c,left:d},y=en().toLowerCase();i&&(p=Yv(y)?a2:i),Qv(y)&&(t=t||o2,_.scrollbars="yes");const T=Object.entries(_).reduce((V,[F,J])=>`${V}${F}=${J},`,"");if(PA(y)&&p!=="_self")return u2(t||"",p),new d0(null);const A=window.open(t||"",p,T);vt(A,r,"popup-blocked");try{A.focus()}catch{}return new d0(A)}function u2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const c2="__/auth/handler",h2="emulator/auth/handler",f2=encodeURIComponent("fac");async function m0(r,t,i,a,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof iE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",lS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof Hl){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await r._getAppCheckToken(),y=_?`#${f2}=${encodeURIComponent(_)}`:"";return`${d2(r)}?${Pl(p).slice(1)}${y}`}function d2({config:r}){return r.emulator?Nm(r,h2):`https://${r.authDomain}/${c2}`}const qd="webStorageSupport";class m2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=Lw,this._overrideRedirectResult=kw}async _openPopup(t,i,a,l){ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(t,i,a,tm(),l);return l2(t,c,Vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await m0(t,i,a,tm(),l);return yw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ds(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await n2(t),a=new jw(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),fs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Fw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Wv()||Kv()||Om()}}const g2=m2;var g0="@firebase/auth",p0="1.12.0";class p2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function y2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _2(r){eo(new $r("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tE(r)},y=new FA(a,l,c,_);return ZA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),eo(new $r("auth-internal",t=>{const i=ql(t.getProvider("auth").getImmediate());return(a=>new p2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(g0,p0,y2(r)),rr(g0,p0,"esm2020")}const v2=300,E2=Nv("authIdTokenMaxAge")||v2;let y0=null;const T2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>E2)return;const l=i?.token;y0!==l&&(y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function b2(r=kv()){const t=Im(r,"auth");if(t.isInitialized())return t.getImmediate();const i=$A(r,{popupRedirectResolver:g2,persistence:[Rw,mw,lE]}),a=Nv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=T2(c.toString());cw(i,d,()=>d(i.currentUser)),uw(i,p=>d(p))}}const l=Iv("auth");return l&&JA(i,`http://${l}`),i}function S2(){return document.getElementsByTagName("head")?.[0]??document}QA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Di("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",S2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_2("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,gE;(function(){var r;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,x,z){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return S.prototype[x].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const M=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)M[x]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(x=0;x<16;++x)M[x]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],x=C.g[2];let z=C.g[3],w;w=S+(z^I&(x^z))+M[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=z+(x^S&(I^x))+M[1]+3905402710&4294967295,z=S+(w<<12&4294967295|w>>>20),w=x+(I^z&(S^I))+M[2]+606105819&4294967295,x=z+(w<<17&4294967295|w>>>15),w=I+(S^x&(z^S))+M[3]+3250441966&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(z^I&(x^z))+M[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=z+(x^S&(I^x))+M[5]+1200080426&4294967295,z=S+(w<<12&4294967295|w>>>20),w=x+(I^z&(S^I))+M[6]+2821735955&4294967295,x=z+(w<<17&4294967295|w>>>15),w=I+(S^x&(z^S))+M[7]+4249261313&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(z^I&(x^z))+M[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=z+(x^S&(I^x))+M[9]+2336552879&4294967295,z=S+(w<<12&4294967295|w>>>20),w=x+(I^z&(S^I))+M[10]+4294925233&4294967295,x=z+(w<<17&4294967295|w>>>15),w=I+(S^x&(z^S))+M[11]+2304563134&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(z^I&(x^z))+M[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=z+(x^S&(I^x))+M[13]+4254626195&4294967295,z=S+(w<<12&4294967295|w>>>20),w=x+(I^z&(S^I))+M[14]+2792965006&4294967295,x=z+(w<<17&4294967295|w>>>15),w=I+(S^x&(z^S))+M[15]+1236535329&4294967295,I=x+(w<<22&4294967295|w>>>10),w=S+(x^z&(I^x))+M[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=z+(I^x&(S^I))+M[6]+3225465664&4294967295,z=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(z^S))+M[11]+643717713&4294967295,x=z+(w<<14&4294967295|w>>>18),w=I+(z^S&(x^z))+M[0]+3921069994&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^z&(I^x))+M[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=z+(I^x&(S^I))+M[10]+38016083&4294967295,z=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(z^S))+M[15]+3634488961&4294967295,x=z+(w<<14&4294967295|w>>>18),w=I+(z^S&(x^z))+M[4]+3889429448&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^z&(I^x))+M[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=z+(I^x&(S^I))+M[14]+3275163606&4294967295,z=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(z^S))+M[3]+4107603335&4294967295,x=z+(w<<14&4294967295|w>>>18),w=I+(z^S&(x^z))+M[8]+1163531501&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(x^z&(I^x))+M[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=z+(I^x&(S^I))+M[2]+4243563512&4294967295,z=S+(w<<9&4294967295|w>>>23),w=x+(S^I&(z^S))+M[7]+1735328473&4294967295,x=z+(w<<14&4294967295|w>>>18),w=I+(z^S&(x^z))+M[12]+2368359562&4294967295,I=x+(w<<20&4294967295|w>>>12),w=S+(I^x^z)+M[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=z+(S^I^x)+M[8]+2272392833&4294967295,z=S+(w<<11&4294967295|w>>>21),w=x+(z^S^I)+M[11]+1839030562&4294967295,x=z+(w<<16&4294967295|w>>>16),w=I+(x^z^S)+M[14]+4259657740&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^z)+M[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=z+(S^I^x)+M[4]+1272893353&4294967295,z=S+(w<<11&4294967295|w>>>21),w=x+(z^S^I)+M[7]+4139469664&4294967295,x=z+(w<<16&4294967295|w>>>16),w=I+(x^z^S)+M[10]+3200236656&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^z)+M[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=z+(S^I^x)+M[0]+3936430074&4294967295,z=S+(w<<11&4294967295|w>>>21),w=x+(z^S^I)+M[3]+3572445317&4294967295,x=z+(w<<16&4294967295|w>>>16),w=I+(x^z^S)+M[6]+76029189&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(I^x^z)+M[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=z+(S^I^x)+M[12]+3873151461&4294967295,z=S+(w<<11&4294967295|w>>>21),w=x+(z^S^I)+M[15]+530742520&4294967295,x=z+(w<<16&4294967295|w>>>16),w=I+(x^z^S)+M[2]+3299628645&4294967295,I=x+(w<<23&4294967295|w>>>9),w=S+(x^(I|~z))+M[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=z+(I^(S|~x))+M[7]+1126891415&4294967295,z=S+(w<<10&4294967295|w>>>22),w=x+(S^(z|~I))+M[14]+2878612391&4294967295,x=z+(w<<15&4294967295|w>>>17),w=I+(z^(x|~S))+M[5]+4237533241&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~z))+M[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=z+(I^(S|~x))+M[3]+2399980690&4294967295,z=S+(w<<10&4294967295|w>>>22),w=x+(S^(z|~I))+M[10]+4293915773&4294967295,x=z+(w<<15&4294967295|w>>>17),w=I+(z^(x|~S))+M[1]+2240044497&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~z))+M[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=z+(I^(S|~x))+M[15]+4264355552&4294967295,z=S+(w<<10&4294967295|w>>>22),w=x+(S^(z|~I))+M[6]+2734768916&4294967295,x=z+(w<<15&4294967295|w>>>17),w=I+(z^(x|~S))+M[13]+1309151649&4294967295,I=x+(w<<21&4294967295|w>>>11),w=S+(x^(I|~z))+M[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=z+(I^(S|~x))+M[11]+3174756917&4294967295,z=S+(w<<10&4294967295|w>>>22),w=x+(S^(z|~I))+M[2]+718787259&4294967295,x=z+(w<<15&4294967295|w>>>17),w=I+(z^(x|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+z&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,M=this.C;let x=this.h,z=0;for(;z<S;){if(x==0)for(;z<=I;)l(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<S;)if(M[x++]=C.charCodeAt(z++),x==this.blockSize){l(this,M),x=0;break}}else for(;z<S;)if(M[x++]=C[z++],x==this.blockSize){l(this,M),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[S++]=this.g[I]>>>M&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let M=!0;for(let x=C.length-1;x>=0;x--){const z=C[x]|0;M&&z==S||(I[x]=z,M=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return W(y(-C));const S=[];let I=1;for(let M=0;C>=I;M++)S[M]=C/I|0,I*=4294967296;return new d(S,0)}function T(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return W(T(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let M=A;for(let z=0;z<C.length;z+=8){var x=Math.min(8,C.length-z);const w=parseInt(C.substring(z,z+x),S);x<8?(x=y(Math.pow(S,x)),M=M.j(x).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var A=_(0),V=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(et(this))return-W(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(et(this))return"-"+W(this).toString(C);const S=y(Math.pow(C,6));var I=this;let M="";for(;;){const x=Ht(I,S).g;I=dt(I,x.j(S));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,J(I))return z+M;for(;z.length<6;)z="0"+z;M=z+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function et(C){return C.h==-1}r.l=function(C){return C=dt(this,C),et(C)?-1:J(C)?0:1};function W(C){const S=C.g.length,I=[];for(let M=0;M<S;M++)I[M]=~C.g[M];return new d(I,~C.h).add(V)}r.abs=function(){return et(this)?W(this):this},r.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let x=0;x<=S;x++){let z=M+(this.i(x)&65535)+(C.i(x)&65535),w=(z>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);M=w>>>16,z&=65535,w&=65535,I[x]=w<<16|z}return new d(I,I[I.length-1]&-2147483648?-1:0)};function dt(C,S){return C.add(W(S))}r.j=function(C){if(J(this)||J(C))return A;if(et(this))return et(C)?W(this).j(W(C)):W(W(this).j(C));if(et(C))return W(this.j(W(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<C.g.length;x++){const z=this.i(M)>>>16,w=this.i(M)&65535,ne=C.i(x)>>>16,ye=C.i(x)&65535;I[2*M+2*x]+=w*ye,Et(I,2*M+2*x),I[2*M+2*x+1]+=z*ye,Et(I,2*M+2*x+1),I[2*M+2*x+1]+=w*ne,Et(I,2*M+2*x+1),I[2*M+2*x+2]+=z*ne,Et(I,2*M+2*x+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function Et(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function mt(C,S){this.g=C,this.h=S}function Ht(C,S){if(J(S))throw Error("division by zero");if(J(C))return new mt(A,A);if(et(C))return S=Ht(W(C),S),new mt(W(S.g),W(S.h));if(et(S))return S=Ht(C,W(S)),new mt(W(S.g),S.h);if(C.g.length>30){if(et(C)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var I=V,M=S;M.l(C)<=0;)I=Pt(I),M=Pt(M);var x=zt(I,1),z=zt(M,1);for(M=zt(M,2),I=zt(I,2);!J(M);){var w=z.add(M);w.l(C)<=0&&(x=x.add(I),z=w),M=zt(M,1),I=zt(I,1)}return S=dt(C,x.j(S)),new mt(x,S)}for(x=A;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),z=y(I),w=z.j(S);et(w)||w.l(C)>0;)I-=M,z=y(I),w=z.j(S);J(z)&&(z=V),x=x.add(z),C=dt(C,w)}return new mt(x,C)}r.B=function(C){return Ht(this,C).h},r.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Pt(C){const S=C.g.length+1,I=[];for(let M=0;M<S;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function zt(C,S){const I=S>>5;S%=32;const M=C.g.length-I,x=[];for(let z=0;z<M;z++)x[z]=S>0?C.i(z+I)>>>S|C.i(z+I+1)<<32-S:C.i(z+I);return new d(x,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,gE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,ar=d}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pE,El,yE,Pc,im,_E,vE,EE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break t;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[U].apply(b,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=U[tt]}else u.push(U)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const b=mt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new et(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Pt,zt=!1,C=new Et,S=()=>{const u=Promise.resolve(void 0);Pt=()=>{u.then(I)}};function I(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){W(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}zt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ne,x),ne.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),H=0;function st(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=Q(u,m,b,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new st(m,this.src,B,!!b,U),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Q(u,m,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var nt="closure_lm_"+(Math.random()*1e6|0),ht={};function At(u,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)At(u,m[B],v,b,U);return null}return v=ji(v),u&&u[ye]?u.J(m,v,p(b)?!!b.capture:!1,U):an(u,m,v,!1,b,U)}function an(u,m,v,b,U,B){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let wt=$t(u);if(wt||(u[nt]=wt=new rt(u)),v=wt.add(m,v,b,tt,B),v.proxy)return v;if(b=pn(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)z||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(In(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pn(){function u(v){return m.call(u.src,u.listener,v)}const m=yr;return u}function _s(u,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)_s(u,m[B],v,b,U);else b=p(b)?!!b.capture:!!b,v=ji(v),u&&u[ye]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Q(m,v,b,U),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$t(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Q(m,v,b,U)),(v=u>-1?m[u]:null)&&Pi(v))}function Pi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ye])_t(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(In(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=$t(m))?(_t(v,u),v.h==0&&(v.src=null,m[nt]=null)):ct(u)}}}function In(u){return u in ht?ht[u]:ht[u]="on"+u}function yr(u,m){if(u.da)u=!0;else{m=new ne(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Pi(u),u=v.call(b,m)}return u}function $t(u){return u=u[nt],u instanceof rt?u:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function ji(u){return typeof u=="function"?u:(u[$e]||(u[$e]=function(m){return u.handleEvent(m)}),u[$e])}function he(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}A(he,M),he.prototype[ye]=!0,he.prototype.removeEventListener=function(u,m,v,b){_s(this,u,m,v,b)};function oe(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var U=m;m=new x(b,u),it(m,U)}U=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],U=Fn(B,b,!0,m)&&U;if(B=m.g=u,U=Fn(B,b,!0,m)&&U,U=Fn(B,b,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],U=Fn(B,b,!1,m)&&U}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ct(v[b]);delete u.g[m],u.h--}}this.G=null},he.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},he.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Fn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const wt=tt.listener,ve=tt.ha||tt.src;tt.fa&&_t(u.i,tt),U=wt.call(ve,b)!==!1&&U}}return U&&!b.defaultPrevented}function Bi(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function li(u){u.g=Bi(()=>{u.g=null,u.i&&(u.i=!1,li(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class le extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:li(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(u){M.call(this),this.h=u,this.g={}}A(_r,M);var yo=[];function _o(u){xt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Pi(m)},u),u.g={}}_r.prototype.N=function(){_r.Z.N.call(this),_o(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=d.JSON.stringify,Oh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function Wl(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){x.call(this,"d")}A(Be,x);function Cn(){x.call(this,"c")}A(Cn,x);var _e={},tu=null;function ia(){return tu=tu||new he}_e.Ia="serverreachability";function eu(u){x.call(this,_e.Ia,u)}A(eu,x);function ui(u){const m=ia();oe(m,new eu(m))}_e.STAT_EVENT="statevent";function vr(u,m){x.call(this,_e.STAT_EVENT,u),this.stat=m}A(vr,x);function Se(u){const m=ia();oe(m,new vr(m,u))}_e.Ja="timingevent";function ci(u,m){x.call(this,_e.Ja,u),this.size=m}A(ci,x);function hi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,b,U,B){u.info(function(){if(u.g)if(B){var tt="",wt=B.split("&");for(let Gt=0;Gt<wt.length;Gt++){var ve=wt[Gt].split("=");if(ve.length>1){const ue=ve[0];ve=ve[1];const On=ue.split("_");tt=On.length>=2&&On[1]=="type"?tt+(ue+"="+ve+"&"):tt+(ue+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function nu(u,m,v,b,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+tt})}function fi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(b?" "+b:"")})}function Er(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return vs(B)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function br(){}A(br,Jl),br.prototype.g=function(){return new XMLHttpRequest},Eo=new br;function qi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Yn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ae={},Ue={};function di(u,m,v){u.M=1,u.A=Sr(Re(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),mi(u),u.B=Re(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),la(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Xn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new le(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(yo[0]=U.toString()),U=yo);for(let B=0;B<U.length;B++){const tt=At(v,U[B],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ui(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Jn(this.g),ve=this.g.ya(),Gt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||wt!=4||ve==7||(ve==8||Gt<=0?ui(3):ui(2)),gi(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break e}}B=null}if(u=B)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,Se(12),yn(this),Nn(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=ru(this,v),ue==Ue){wt==4&&(this.m=4,Se(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Ae){this.m=4,Se(15),fi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,ue,null),pi(this,ue);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Se(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(tt),tt.P=!0,Se(11))}}else fi(this.i,this.l,v,null),pi(this,v);wt==4&&yn(this),this.o&&!this.K&&(wt==4?mu(this.j,this):(this.o=!1,mi(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),yn(this),Nn(this)}}}catch{}};function kh(u){if(!su(u))return u.g.la();const m=qe(u.g);if(m==="")return"";let v="";const b=m.length,U=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ue:(v=Number(m.substring(v,b)),isNaN(v)?Ae:(b+=1,b+v>m.length?Ue:(m=m.slice(b,b+v),u.C=b+v,m)))}Yn.prototype.cancel=function(){this.K=!0,yn(this)};function mi(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(y(u.aa,u),m)}function gi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Er(this.i,this.B),this.M!=2&&(ui(),Se(17)),yn(this),this.m=2,Nn(this)):ra(this,this.T-u)};function Nn(u){u.j.I==0||u.K||mu(u.j,u)}function yn(u){gi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||_i(v.h,u))){if(!u.L&&_i(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),Is(v);else break t;xr(v),Se(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(y(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((u.L||v.g==u)&&da(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Gt=U[m];const ue=Gt[0];if(!(ue<=v.K))if(v.K=ue,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const On=Gt[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const wi=Gt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Wn=Gt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(b=1.5*Wn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ti=u.g;if(ti){const Dr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var B=b.h;B.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(b.G){const ma=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(b.wa=ma,Kt(b.J,b.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var tt=u;if(b.na=yu(b,b.L?b.ba:null,b.W),tt.L){Ao(b.h,tt);var wt=tt,ve=b.O;ve&&(wt.H=ve),wt.D&&(gi(wt),mi(wt)),b.g=tt}else fu(b);v.i.length>0&&Si(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Ai(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ai(v,7):Mo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ui(4)}catch{}}var we=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,Ro(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Le(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),Es(this,m[4]),this.h=vi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ar(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ar(m,oa,!0),"@"),u.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ar(v,v.charAt(0)=="/"?Io:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ar(v,lu)),u.join("")},_n.prototype.resolve=function(u){const m=Re(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Es(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const wt=U[tt++];wt=="."?b&&tt==U.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&tt==U.length&&B.push("")):(B.push(wt),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Ro(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Re(u){return new _n(u)}function Le(u,m,v){u.j=v?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof bs?(u.i=m,ua(u.i,u.l)):(v||(m=Ar(m,Ts)),u.i=new bs(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function Sr(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ar(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,on),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,ou=/[#\?:]/g,Io=/[#\?]/g,Ts=/[#\?@]/g,lu=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=bs.prototype,r.add=function(u,m){ln(this),this.i=null,u=Ss(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){ln(u),m=Ss(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return ln(u),m=Ss(u,m),u.g.has(m)}r.forEach=function(u,m){ln(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function No(u,m){ln(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(Ss(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return ln(this),this.i=null,u=Ss(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(Ss(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=qi(v);v=No(this,v);for(let B=0;B<v.length;B++){let tt=U;v[B]!==""&&(tt+="="+qi(v[B])),u.push(tt)}}return this.i=u.join("&")};function cu(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ss(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(uu(this,b),la(this,U,v))},u)),u.j=m}function $n(u,m){const v=new Kn;if(d.Image){const b=new Image;b.onload=T(xn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(xn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(xn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(xn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function xo(u,m){const v=new Kn,b=new AbortController,U=setTimeout(()=>{b.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function As(){this.g=new Zl}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ei,Jl),Ei.prototype.g=function(){return new wr(this.i,this.h)};function wr(u,m){he.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(wr,he),r=wr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ws(this):Zn(this),this.readyState==3&&ca(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},r.Na=function(u){this.g&&(this.response=u,ws(this))},r.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return xt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Rr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Dn(v),typeof u=="string"?v!=null&&qi(v):Kt(u,m,v))}function Zt(u){he.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,he);var Ti=/^https?$/i,Do=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ir(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Ir(this,B)}};function Ir(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Hi(u)}function Oo(u){u.A||(u.A=!0,oe(u,"complete"),oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,oe(this,"complete"),oe(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},r.Xa=function(){Cr(this)};function Cr(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(oe(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let tt=String(u.D).match(au)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),b=!Ti.test(tt?tt.toLowerCase():"")}v=b}if(v)oe(u,"complete"),oe(u,"success");else{u.o=6;try{var U=Jn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Oo(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=iu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}jt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Rs(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Se(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=yu(this,null,this.W),Si(this)};function Mo(u){if(ha(u),u.I==3){var m=u.V++,v=Re(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Nr(u,v),m=new Yn(u,u.j,m),m.M=2,m.A=Sr(Re(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}pu(u)}function Is(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ha(u){Is(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Si(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Pt||S(),zt||(Pt(),zt=!0),C.add(m,u),u.D=0}}function fa(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(y(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Yn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,U,m),v=Re(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Nr(this,v),B&&(this.R?m="headers="+qi(Dn(B))+"&"+m:this.u&&Rr(v,this.u,B)),So(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),U.U=!0,di(U,v,null)):di(U,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||bo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const b=Re(u.J);Kt(b,"SID",u.M),Kt(b,"RID",v),Kt(b,"AID",u.K),Nr(u,b),u.u&&u.o&&Rr(b,u.u,u.o),v=new Yn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),di(v,b,m)}function Nr(u,m){u.H&&xt(u.H,function(v,b){Kt(m,b,v)}),u.l&&xt({},function(v,b){Kt(m,b,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let wt=-1;for(;;){const ve=["count="+v];wt==-1?v>0?(wt=U[0].g,ve.push("ofs="+wt)):wt=0:ve.push("ofs="+wt);let Gt=!0;for(let ue=0;ue<v;ue++){var B=U[ue].g;const On=U[ue].map;if(B-=wt,B<0)wt=Math.max(0,U[ue].g-100),Gt=!1;else try{B="req"+B+"_"||"";try{var tt=On instanceof Map?On:Object.entries(On);for(const[wi,Wn]of tt){let ti=Wn;p(Wn)&&(ti=vs(Wn)),ve.push(B+wi+"="+encodeURIComponent(ti))}}catch(wi){throw ve.push(B+"type="+encodeURIComponent("_badmap")),wi}}catch{b&&b(On)}}if(Gt){tt=ve.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Pt||S(),zt||(Pt(),zt=!0),C.add(m,u),u.A=0}}function xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(y(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Is(this),du(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Re(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Nr(u,m),u.u&&u.o&&Rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Sr(Re(m)),v.u=null,v.R=!0,sa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Is(this),xr(this),Se(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){da(u),ko(u),u.g=null;var b=2}else if(_i(u.h,m))v=m.G,Ao(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=ia(),oe(b,new ci(b,v)),Si(u)}else fu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&fa(u,m)||b==2&&xr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const U=!b;b=new _n(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(b,"https"),Sr(b),U?$n(b.toString(),v):xo(b.toString(),v)}else Se(2);u.I=0,u.l&&u.l.pa(m),pu(u),ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var b=v instanceof _n?Re(v):new _n(v);if(b.g!="")m&&(b.g=m+"."+b.g),Es(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new _n(null);b&&Le(B,b),m&&(B.g=m),U&&Es(B,U),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Kt(b,v,m),Kt(b,"VER",u.ka),Nr(u,b),b}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new Ei({ab:v})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){he.call(this),this.g=new Rs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fi(this)}A(nn,he),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Mo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=vs(u),u=v);m.i.push(new we(m.Ya++,u)),m.I==3&&Si(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,nn.Z.N.call(this)};function Eu(u){Be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Eu,Be);function Tu(){Cn.call(this),this.status=1}A(Tu,Cn);function Fi(u){this.g=u}A(Fi,vu),Fi.prototype.ra=function(){oe(this.g,"a")},Fi.prototype.qa=function(u){oe(this.g,new Eu(u))},Fi.prototype.pa=function(u){oe(this.g,new Tu)},Fi.prototype.oa=function(){oe(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,EE=function(){return new Cs},vE=function(){return ia()},_E=_e,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Pc=Tr,vo.COMPLETE="complete",yE=vo,Wl.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",he.prototype.listen=he.prototype.J,El=Wl,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,pE=Zt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",E0="4.9.3";let We=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let fo="12.7.0";const Jr=new wm("@firebase/firestore");function Fa(){return Jr.logLevel}function at(r,...t){if(Jr.logLevel<=Mt.DEBUG){const i=t.map(zm);Jr.debug(`Firestore (${fo}): ${r}`,...i)}}function gs(r,...t){if(Jr.logLevel<=Mt.ERROR){const i=t.map(zm);Jr.error(`Firestore (${fo}): ${r}`,...i)}}function no(r,...t){if(Jr.logLevel<=Mt.WARN){const i=t.map(zm);Jr.warn(`Firestore (${fo}): ${r}`,...i)}}function zm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,TE(r,a,i)}function TE(r,t,i){let a=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw gs(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||TE(t,l,a)}function St(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ys{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class bE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(We.UNAUTHENTICATED)))}shutdown(){}}class w2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class R2{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new or,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new or)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new bE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class I2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new I2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new T0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=x2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(r,t){return r<t?-1:r>t?1:0}function sm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Vt(l,c):Hd(l)?1:-1}return Vt(r.length,t.length)}const D2=55296,O2=57343;function Hd(r){const t=r.charCodeAt(0);return t>=D2&&t<=O2}function io(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const b0="__name__";class xi{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=xi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=xi.isNumericId(t),l=xi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?xi.extractNumericId(t).compare(xi.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class fe extends xi{construct(t,i,a){return new fe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const M2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends xi{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return M2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new Ye([b0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(fe.fromString(t))}static fromName(t){return new gt(fe.fromString(t).popFirst(5))}static empty(){return new gt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new fe(t.slice()))}}function V2(r,t,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function k2(r,t,i,a){if(t===!0&&a===!0)throw new ut(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function S0(r){if(!gt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function SE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function ai(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lm(r);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Oe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fl(r,t){if(!SE(r))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}const A0=-62135596800,w0=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*w0);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<A0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-A0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Oe("string",ae._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ae(0,0))}static max(){return new Tt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function z2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new ur(l,gt.empty(),t)}function U2(r){return new ur(r.readTime,r.key,Ol)}class ur{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ur(Tt.min(),gt.empty(),Ol)}static max(){return new ur(Tt.max(),gt.empty(),Ol)}}function L2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}const P2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==P2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function B2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Pm=-1;function gh(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function q2(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const AE="";function H2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=R0(t)),t=G2(r.get(i),t);return R0(t)}function G2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case AE:i+="";break;default:i+=c}}return i}function R0(r){return r+AE+""}function I0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function gr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function wE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ke(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(t){return new C0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class C0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Rn([])}unionWith(t){let i=new ze(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Rn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new RE("Invalid base64 string: "+c):c}})(t);return new Xe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const F2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=F2.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:be(r.seconds),nanos:be(r.nanos)}}function be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hr(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}const IE="server_timestamp",CE="__type__",NE="__previous_value__",xE="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===IE}function ph(r){const t=r.mapValue.fields[NE];return jm(t)?ph(t):t}function Ml(r){const t=cr(r.mapValue.fields[xE].timestampValue);return new ae(t.seconds,t.nanos)}class Q2{constructor(t,i,a,l,c,d,p,_,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const th="(default)";class Vl{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}const DE="__type__",K2="__max__",Nc={mapValue:{}},OE="__vector__",eh="value";function fr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:X2(r)?9007199254740991:Y2(r)?10:11:yt(28295,{value:r})}function Ui(r,t){if(r===t)return!0;const i=fr(r);if(i!==fr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ml(r).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=cr(l.timestampValue),p=cr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return hr(l.bytesValue).isEqual(hr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return be(l.geoPointValue.latitude)===be(c.geoPointValue.latitude)&&be(l.geoPointValue.longitude)===be(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return be(l.integerValue)===be(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=be(l.doubleValue),p=be(c.doubleValue);return d===p?Wc(d)===Wc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return io(r.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(I0(d)!==I0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ui(d[_],p[_])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((i=>Ui(i,t)))!==void 0}function so(r,t){if(r===t)return 0;const i=fr(r),a=fr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=be(c.integerValue||c.doubleValue),_=be(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return N0(r.timestampValue,t.timestampValue);case 4:return N0(Ml(r),Ml(t));case 5:return sm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=hr(c),_=hr(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Vt(p[y],_[y]);if(T!==0)return T}return Vt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(be(c.latitude),be(d.latitude));return p!==0?p:Vt(be(c.longitude),be(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return x0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[eh]?.arrayValue,T=_[eh]?.arrayValue,A=Vt(y?.values?.length||0,T?.values?.length||0);return A!==0?A:x0(y,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const V=sm(_[A],T[A]);if(V!==0)return V;const F=so(p[_[A]],y[T[A]]);if(F!==0)return F}return Vt(_.length,T.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function N0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=cr(r),a=cr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function x0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=so(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function ro(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=cr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return hr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function jc(r){switch(fr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(r);return t?16+jc(t):16;case 5:return 2*r.stringValue.length;case 6:return hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+jc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return gr(a.fields,((c,d)=>{l+=c.length+jc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function am(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function D0(r){return!!r&&"nullValue"in r}function O0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function Y2(r){return(r?.mapValue?.fields||{})[DE]?.stringValue===OE}function Rl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return gr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Rl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(r.arrayValue.values[i]);return t}return{...r}}function X2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===K2}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Rl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){gr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new gn(Rl(this.value))}}function ME(r){const t=[];return gr(r.fields,((i,a)=>{const l=new Ye([i]);if(Bc(a)){const c=ME(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Rn(t)}class tn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new tn(t,0,Tt.min(),Tt.min(),Tt.min(),gn.empty(),0)}static newFoundDocument(t,i,a,l){return new tn(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new tn(t,2,i,Tt.min(),Tt.min(),gn.empty(),0)}static newUnknownDocument(t,i){return new tn(t,3,i,Tt.min(),Tt.min(),gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function M0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=so(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function V0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ui(r.position[i],t.position[i]))return!1;return!0}class ih{constructor(t,i="asc"){this.field=t,this.dir=i}}function $2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class VE{}class ke extends VE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new J2(t,i,a):i==="array-contains"?new eR(t,a):i==="in"?new nR(t,a):i==="not-in"?new iR(t,a):i==="array-contains-any"?new sR(t,a):new ke(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new W2(t,a):new tR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends VE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Li(t,i)}matches(t){return kE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(r){return r.op==="and"}function zE(r){return Z2(r)&&kE(r)}function Z2(r){for(const t of r.filters)if(t instanceof Li)return!1;return!0}function om(r){if(r instanceof ke)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(zE(r))return r.filters.map((t=>om(t))).join(",");{const t=r.filters.map((i=>om(i))).join(",");return`${r.op}(${t})`}}function UE(r,t){return r instanceof ke?(function(a,l){return l instanceof ke&&a.op===l.op&&a.field.isEqual(l.field)&&Ui(a.value,l.value)})(r,t):r instanceof Li?(function(a,l){return l instanceof Li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&UE(d,l.filters[p])),!0):!1})(r,t):void yt(19439)}function LE(r){return r instanceof ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof Li?(function(i){return i.op.toString()+" {"+i.getFilters().map(LE).join(" ,")+"}"})(r):"Filter"}class J2 extends ke{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class W2 extends ke{constructor(t,i){super(t,"in",i),this.keys=PE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class tR extends ke{constructor(t,i){super(t,"not-in",i),this.keys=PE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function PE(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class eR extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Bm(i)&&kl(i.arrayValue,this.value)}}class nR extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class iR extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class sR extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>kl(this.value.arrayValue,a)))}}class rR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function k0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new rR(r,t,i,a,l,c,d)}function qm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>om(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ro(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ro(a))).join(",")),t.Te=i}return t.Te}function Hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!$2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!UE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!V0(r.startAt,t.startAt)&&V0(r.endAt,t.endAt)}function lm(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aR(r,t,i,a,l,c,d,p){return new yh(r,t,i,a,l,c,d,p)}function _h(r){return new yh(r)}function z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function oR(r){return r.collectionGroup!==null}function Il(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(Ye.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ih(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new ih(Ye.keyField(),a))}return t.Ie}function Mi(r){const t=St(r);return t.Ee||(t.Ee=lR(t,Il(r))),t.Ee}function lR(r,t){if(r.limitType==="F")return k0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function um(r,t,i){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function vh(r,t){return Hm(Mi(r),Mi(t))&&r.limitType===t.limitType}function jE(r){return`${qm(Mi(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>LE(l))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${a})`})(Mi(r))}; limitType=${r.limitType})`}function Eh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=M0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,p,_){const y=M0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Il(a),l))})(r,t)}function uR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BE(r){return(t,i)=>{let a=!1;for(const l of Il(r)){const c=cR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function cR(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?so(_,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class ea{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){gr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}const hR=new de(gt.comparator);function ps(){return hR}const qE=new de(gt.comparator);function Tl(...r){let t=qE;for(const i of r)t=t.insert(i.key,i);return t}function HE(r){let t=qE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Yr(){return Cl()}function GE(){return Cl()}function Cl(){return new ea((r=>r.toString()),((r,t)=>r.isEqual(t)))}const fR=new de(gt.comparator),dR=new ze(gt.comparator);function kt(...r){let t=dR;for(const i of r)t=t.add(i);return t}const mR=new ze(Vt);function gR(){return mR}function Gm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function FE(r){return{integerValue:""+r}}function pR(r,t){return q2(t)?FE(t):Gm(r,t)}class Th{constructor(){this._=void 0}}function yR(r,t,i){return r instanceof sh?(function(l,c){const d={fields:{[CE]:{stringValue:IE},[xE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&jm(c)&&(c=ph(c)),c&&(d.fields[NE]=c),{mapValue:d}})(i,t):r instanceof ao?KE(r,t):r instanceof zl?YE(r,t):(function(l,c){const d=QE(l,c),p=U0(d)+U0(l.Ae);return am(d)&&am(l.Ae)?FE(p):Gm(l.serializer,p)})(r,t)}function _R(r,t,i){return r instanceof ao?KE(r,t):r instanceof zl?YE(r,t):i}function QE(r,t){return r instanceof rh?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class sh extends Th{}class ao extends Th{constructor(t){super(),this.elements=t}}function KE(r,t){const i=XE(t);for(const a of r.elements)i.some((l=>Ui(l,a)))||i.push(a);return{arrayValue:{values:i}}}class zl extends Th{constructor(t){super(),this.elements=t}}function YE(r,t){let i=XE(t);for(const a of r.elements)i=i.filter((l=>!Ui(l,a)));return{arrayValue:{values:i}}}class rh extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function U0(r){return be(r.integerValue||r.doubleValue)}function XE(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class vR{constructor(t,i){this.field=t,this.transform=i}}function ER(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof ao&&l instanceof ao||a instanceof zl&&l instanceof zl?io(a.elements,l.elements,Ui):a instanceof rh&&l instanceof rh?Ui(a.Ae,l.Ae):a instanceof sh&&l instanceof sh})(r.transform,t.transform)}class TR{constructor(t,i){this.version=t,this.transformResults=i}}class oi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class bh{}function $E(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Fm(r.key,oi.none()):new Ql(r.key,r.data,oi.none());{const i=r.data,a=gn.empty();let l=new ze(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new pr(r.key,a,new Rn(l.toArray()),oi.none())}}function bR(r,t,i){r instanceof Ql?(function(l,c,d){const p=l.value.clone(),_=P0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof pr?(function(l,c,d){if(!qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=P0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(ZE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(r,t,i,a){return r instanceof Ql?(function(c,d,p,_){if(!qc(c.precondition,d))return p;const y=c.value.clone(),T=j0(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof pr?(function(c,d,p,_){if(!qc(c.precondition,d))return p;const y=j0(c.fieldTransforms,_,d),T=d.data;return T.setAll(ZE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function SR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=QE(a.transform,l||null);c!=null&&(i===null&&(i=gn.empty()),i.set(a.field,c))}return i||null}function L0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&io(a,l,((c,d)=>ER(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ql extends bh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class pr extends bh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function P0(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,_R(d,p,i[l]))}return a}function j0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,yR(c,d,t))}return a}class Fm extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&bR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=GE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=$E(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((i,a)=>L0(i,a)))&&io(this.baseMutations,t.baseMutations,((i,a)=>L0(i,a)))}}class Qm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return fR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Qm(t,i,a,l)}}class RR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IR{constructor(t,i){this.count=t,this.unchangedNames=i}}var De,Lt;function CR(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function JE(r){if(r===void 0)return gs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case De.OK:return Z.OK;case De.CANCELLED:return Z.CANCELLED;case De.UNKNOWN:return Z.UNKNOWN;case De.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case De.INTERNAL:return Z.INTERNAL;case De.UNAVAILABLE:return Z.UNAVAILABLE;case De.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case De.NOT_FOUND:return Z.NOT_FOUND;case De.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case De.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case De.ABORTED:return Z.ABORTED;case De.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case De.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case De.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(Lt=De||(De={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function NR(){return new TextEncoder}const xR=new ar([4294967295,4294967295],0);function B0(r){const t=NR().encode(r),i=new gE;return i.update(t),new Uint8Array(i.digest())}function q0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ar([i,a],0),new ar([l,c],0)]}class Km{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ar.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ar.fromNumber(a)));return l.compare(xR)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=B0(t),[a,l]=q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Km(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=B0(t),[a,l]=q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(Tt.min(),l,new de(Vt),ps(),kt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,kt(),kt(),kt())}}class Hc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class WE{constructor(t,i){this.targetId=t,this.Ce=i}}class tT{constructor(t,i,a=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class H0{constructor(){this.ve=0,this.Fe=G0(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=G0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ps(),this.Je=xc(),this.He=xc(),this.Ye=new de(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(a===0){const d=new gt(c.path);this.et(i,d,tn.newNoDocument(d,Tt.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=hr(a).toUint8Array()}catch(_){if(_ instanceof RE)return no("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Km(d,l,c)}catch(_){return no(_ instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&lm(p.target)){const _=new gt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,tn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=kt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ye,this.je,a);return this.je=ps(),this.Je=xc(),this.He=xc(),this.Ye=new de(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new H0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new H0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new de(gt.comparator)}function G0(){return new de(gt.comparator)}const OR={asc:"ASCENDING",desc:"DESCENDING"},MR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VR={and:"AND",or:"OR"};class kR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function cm(r,t){return r.useProto3Json||gh(t)?t:{value:t}}function ah(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function zR(r,t){return ah(r,t.toTimestamp())}function Vi(r){return Qt(!!r,49232),Tt.fromTimestamp((function(i){const a=cr(i);return new ae(a.seconds,a.nanos)})(r))}function Ym(r,t){return hm(r,t).canonicalString()}function hm(r,t){const i=(function(l){return new fe(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function nT(r){const t=fe.fromString(r);return Qt(oT(t),10190,{key:t.toString()}),t}function fm(r,t){return Ym(r.databaseId,t.path)}function Gd(r,t){const i=nT(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(sT(i))}function iT(r,t){return Ym(r.databaseId,t)}function UR(r){const t=nT(r);return t.length===4?fe.emptyPath():sT(t)}function dm(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sT(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F0(r,t,i){return{name:fm(r,t),fields:i.value.mapValue.fields}}function LR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Qt(T===void 0||typeof T=="string",58123),Xe.fromBase64String(T||"")):(Qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xe.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?Z.UNKNOWN:JE(y.code);return new ut(T,y.message||"")})(d);i=new tT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(r,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):Tt.min(),p=new gn({mapValue:{fields:a.document.fields}}),_=tn.newFoundDocument(l,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Hc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Gd(r,a.document),c=a.readTime?Vi(a.readTime):Tt.min(),d=tn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Hc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Gd(r,a.document),c=a.removedTargetIds||[];i=new Hc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new IR(l,c),p=a.targetId;i=new WE(p,d)}}return i}function PR(r,t){let i;if(t instanceof Ql)i={update:F0(r,t.key,t.value)};else if(t instanceof Fm)i={delete:fm(r,t.key)};else if(t instanceof pr)i={update:F0(r,t.key,t.data),updateMask:YR(t.fieldMask)};else{if(!(t instanceof AR))return yt(16599,{Vt:t.type});i={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof rh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:zR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function jR(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Vi(l.updateTime):Vi(c);return d.isEqual(Tt.min())&&(d=Vi(c)),new TR(d,l.transformResults||[])})(i,t)))):[]}function BR(r,t){return{documents:[iT(r,t.path)]}}function qR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iT(r,l);const c=(function(y){if(y.length!==0)return aT(Li.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(V){return{field:Ka(V.field),direction:FR(V.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=cm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function HR(r){let t=UR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const V=rT(A);return V instanceof Li&&zE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(J){return new ih(Ya(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let V;return V=typeof A=="object"?A.value:A,gh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(A){const V=!!A.before,F=A.values||[];return new nh(F,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const V=!A.before,F=A.values||[];return new nh(F,V)})(i.endAt)),aR(t,l,d,c,p,"F",_,y)}function GR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ya(i.unaryFilter.field);return ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(i.unaryFilter.field);return ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ke.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Li.create(i.compositeFilter.filters.map((a=>rT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function FR(r){return OR[r]}function QR(r){return MR[r]}function KR(r){return VR[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Ye.fromServerFormat(r.fieldPath)}function aT(r){return r instanceof ke?(function(i){if(i.op==="=="){if(O0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(D0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(D0(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:QR(i.op),value:i.value}}})(r):r instanceof Li?(function(i){const a=i.getFilters().map((l=>aT(l)));return a.length===1?a[0]:{compositeFilter:{op:KR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function YR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function oT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class nr{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),p=Xe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class XR{constructor(t){this.yt=t}}function $R(r){const t=HR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(t,t.limit,"L"):t}class ZR{constructor(){this.Cn=new JR}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(ur.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class JR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(fe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(fe.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(lT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const K0="LruGarbageCollector",WR=1048576;function Y0([r,t],[i,a]){const l=Vt(r,i);return l===0?Vt(t,a):l}class tI{constructor(t){this.Ir=t,this.buffer=new ze(Y0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Y0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class eI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(K0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?at(K0,"Ignoring IndexedDB error during garbage collection: ",i):await mo(i)}await this.Vr(3e5)}))}}class nI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(mh.ce);const a=new tI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Q0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Fa()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function iI(r,t){return new nI(r,t)}class sI{constructor(){this.changes=new ea((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class rI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class aI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,Rn.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const l=Yr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Tl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Yr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ps();const d=Cl(),p=(function(){return Cl()})();return i.forEach(((_,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof pr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Nl(T.mutation,y,T.mutation.getFieldMask(),ae.now())):d.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new rI(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Cl();let l=new de(((d,p)=>d-p)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||Rn.empty();T=p.applyToLocalView(y,T),a.set(_,T);const A=(l.get(p.batchId)||kt()).add(_);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,A=GE();T.forEach((V=>{if(!c.has(V)){const F=$E(i.get(V),a.get(V));F!==null&&A.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):oR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Yr());let p=Ol,_=c;return d.next((y=>$.forEach(y,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((V=>{_=_.insert(T,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,kt()))).next((T=>({batchId:p,changes:HE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const y=(function(A,V){return new yh(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((T=>{T.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,tn.newInvalidDocument(T)))}));let p=Tl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Nl(T.mutation,y,Rn.empty(),ae.now()),Eh(i,y)&&(p=p.insert(_,y))})),p}))}}class oI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:$R(l.bundledQuery),readTime:Vi(l.readTime)}})(i)),$.resolve()}}class lI{constructor(){this.overlays=new de(gt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Yr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Yr(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new de(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Yr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Yr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new RR(i,a));let c=this.qr.get(i);c===void 0&&(c=kt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class uI{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Xm{constructor(){this.Qr=new ze(je.$r),this.Ur=new ze(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new je(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new je(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new fe([])),a=new je(i,t),l=new je(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new fe([])),a=new je(i,t),l=new je(i,t+1);let c=kt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new je(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class je{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class cI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(je.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new je(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Pm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Vt);return i.forEach((l=>{const c=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new je(new gt(c),0);let p=new ze(Vt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new je(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new je(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class hI{constructor(t){this.ri=t,this.docs=(function(){return new de(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(t,i){let a=ps();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():tn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ps();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||L2(U2(T),a)<=0||(l.has(T.key)||Eh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new fI(this)}getSize(t){return $.resolve(this.size)}}class fI extends sI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class dI{constructor(t){this.persistence=t,this.si=new ea((i=>qm(i)),Hm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=oo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class uT{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new uI,this.referenceDelegate=t(this),this.Pi=new dI(this),this.indexManager=new ZR,this.remoteDocumentCache=(function(l){return new hI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new XR(i),this.Ii=new oI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new lI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new cI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new mI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class mI extends j2{constructor(t){super(),this.currentSequenceNumber=t}}class $m{constructor(t){this.persistence=t,this.Ri=new Xm,this.Vi=null}static mi(t){return new $m(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.pi=new ea((a=>H2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=iI(this,i)}static mi(t,i){return new oh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zm(t,i.fromCache,a,l)}}class gI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class pI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nS()?8:B2(en())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new gI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Fa()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Fa()<=Mt.DEBUG&&at("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Fa()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):$.resolve())}ys(t,i){if(z0(i))return $.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=kt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,um(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return z0(i)||l.isEqual(Tt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Fa()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(t,d,i,z2(l,Ol)).next((p=>p)))}))}Ds(t,i){let a=new ze(BE(t));return i.forEach(((l,c)=>{Eh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Fa()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(t,i,ur.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",yI=3e8;class _I{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new de(Vt),this.xs=new ea((c=>qm(c)),Hm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new aI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function vI(r,t,i,a){return new _I(r,t,i,a)}async function cT(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=kt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function EI(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const A=y.batch,V=A.keys();let F=$.resolve();return V.forEach((J=>{F=F.next((()=>T.getEntry(_,J))).next((et=>{const W=y.docVersions.get(J);Qt(W!==null,48541),et.version.compareTo(W)<0&&(A.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),T.addEntry(et)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=kt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function hT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function TI(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((T,A)=>{const V=l.get(A);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,A))));let F=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(Xe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,a)),l=l.insert(A,F),(function(et,W,dt){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=yI?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,F,T)&&p.push(i.Pi.updateTargetData(c,F))}));let _=ps(),y=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(bI(c,d,t.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!a.isEqual(Tt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function bI(r,t,i){let a=kt(),l=kt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ps();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):at(Jm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function SI(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function AI(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new nr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function mm(r,t,i){const a=St(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;at(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function X0(r,t,i){const a=St(r);let l=Tt.min(),c=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const A=St(_),V=A.xs.get(T);return V!==void 0?$.resolve(A.Ms.get(V)):A.Pi.getTargetData(y,T)})(a,d,Mi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:kt()))).next((p=>(wI(a,uR(t),p),{documents:p,Qs:c})))))}function wI(r,t,i){let a=r.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class $0{constructor(){this.activeTargetIds=gR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RI{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class II{Oo(t){}shutdown(){}}const Z0="ConnectivityMonitor";class J0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Z0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Z0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function gm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Fd="RestConnection",CI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=gm(),p=this.zo(t,i.toUriEncodedString());at(Fd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),T=uo(y);return this.Jo(t,p,_,a,T).then((A=>(at(Fd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw no(Fd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=CI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class xI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class DI extends NI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=gm();return new Promise(((p,_)=>{const y=new pE;y.setWithCredentials(!0),y.listenOnce(yE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const A=y.getResponseJson();at(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Pc.TIMEOUT:at(Je,`RPC '${t}' ${d} timed out`),_(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const V=y.getStatus();if(at(Je,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const et=(function(dt){const Et=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Et)>=0?Et:Z.UNKNOWN})(J.status);_(new ut(et,J.message))}else _(new ut(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Je,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);at(Je,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const l=gm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=EE(),p=vE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const T=c.join("");at(Je,`Creating RPC '${t}' stream ${l}: ${T}`,_);const A=d.createWebChannel(T,_);this.I_(A);let V=!1,F=!1;const J=new xI({Yo:W=>{F?at(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(V||(at(Je,`Opening RPC '${t}' stream ${l} transport.`),A.open(),V=!0),at(Je,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),et=(W,dt,Et)=>{W.listen(dt,(mt=>{try{Et(mt)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return et(A,El.EventType.OPEN,(()=>{F||(at(Je,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),et(A,El.EventType.CLOSE,(()=>{F||(F=!0,at(Je,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(A))})),et(A,El.EventType.ERROR,(W=>{F||(F=!0,no(Je,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),et(A,El.EventType.MESSAGE,(W=>{if(!F){const dt=W.data[0];Qt(!!dt,16349);const Et=dt,mt=Et?.error||Et[0]?.error;if(mt){at(Je,`RPC '${t}' stream ${l} received error:`,mt);const Ht=mt.status;let Pt=(function(S){const I=De[S];if(I!==void 0)return JE(I)})(Ht),zt=mt.message;Pt===void 0&&(Pt=Z.INTERNAL,zt="Unknown error status: "+Ht+" with message "+mt.message),F=!0,J.a_(new ut(Pt,zt)),A.close()}else at(Je,`RPC '${t}' stream ${l} received:`,dt),J.u_(dt)}})),et(p,_E.STAT_EVENT,(W=>{W.stat===im.PROXY?at(Je,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===im.NOPROXY&&at(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function Ah(r){return new kR(r,!0)}class fT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class dT{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(W0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OI extends dT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=LR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Vi(d.readTime):Tt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=lm(_)?{documents:BR(c,_)}:{query:qR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=eT(c,d.resumeToken);const y=cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=ah(c,d.snapshotVersion.toTimestamp());const y=cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=GR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=dm(this.serializer),i.removeTarget=t,this.q_(i)}}class MI extends dT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=jR(t.writeResults,t.commitTime),a=Vi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=dm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>PR(this.serializer,a)))};this.q_(i)}}class VI{}class kI extends VI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,hm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,hm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wr="RemoteStore";class UI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{na(this)&&(at(Wr,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await Yl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new zI(a,l)}}async function wh(r){if(na(r))for(const t of r.da)await t(!0)}async function Yl(r){for(const t of r.da)await t(!1)}function mT(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ng(i)?eg(i):po(i).O_()&&tg(i,t))}function Wm(r,t){const i=St(r),a=po(i);i.Ia.delete(t),a.O_()&&gT(i,t),i.Ia.size===0&&(a.O_()?a.L_():na(i)&&i.Ra.set("Unknown"))}function tg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(r).Y_(t)}function gT(r,t){r.Va.Ue(t),po(r).Z_(t)}function eg(r){r.Va=new DR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Ra.ua()}function ng(r){return na(r)&&!po(r).x_()&&r.Ia.size>0}function na(r){return St(r).Ea.size===0}function pT(r){r.Va=void 0}async function LI(r){r.Ra.set("Online")}async function PI(r){r.Ia.forEach(((t,i)=>{tg(r,t)}))}async function jI(r,t){pT(r),ng(r)?(r.Ra.ha(t),eg(r)):r.Ra.set("Unknown")}async function BI(r,t,i){if(r.Ra.set("Online"),t instanceof tT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){at(Wr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await lh(r,a)}else if(t instanceof Hc?r.Va.Ze(t):t instanceof WE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Tt.min()))try{const a=await hT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Xe.EMPTY_BYTE_STRING,T.snapshotVersion)),gT(c,_);const A=new nr(T.target,_,y,T.sequenceNumber);tg(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(Wr,"Failed to raise snapshot:",a),await lh(r,a)}}async function lh(r,t,i){if(!go(t))throw t;r.Ea.add(1),await Yl(r),r.Ra.set("Offline"),i||(i=()=>hT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Wr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function yT(r,t){return t().catch((i=>lh(r,i,t)))}async function Rh(r){const t=St(r),i=dr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pm;for(;qI(t);)try{const l=await SI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,HI(t,l)}catch(l){await lh(t,l)}_T(t)&&vT(t)}function qI(r){return na(r)&&r.Ta.length<10}function HI(r,t){r.Ta.push(t);const i=dr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function _T(r){return na(r)&&!dr(r).x_()&&r.Ta.length>0}function vT(r){dr(r).start()}async function GI(r){dr(r).ra()}async function FI(r){const t=dr(r);for(const i of r.Ta)t.ea(i.mutations)}async function QI(r,t,i){const a=r.Ta.shift(),l=Qm.from(a,t,i);await yT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Rh(r)}async function KI(r,t){t&&dr(r).X_&&await(async function(a,l){if((function(d){return CR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();dr(a).B_(),await yT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(a)}})(r,t),_T(r)&&vT(r)}async function tv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),at(Wr,"RemoteStore received new credentials");const a=na(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function YI(r,t){const i=St(r);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new OI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:LI.bind(null,r),t_:PI.bind(null,r),r_:jI.bind(null,r),H_:BI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),ng(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),pT(r))}))),r.ma}function dr(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new MI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:GI.bind(null,r),r_:KI.bind(null,r),ta:FI.bind(null,r),na:QI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Wr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ig{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new ig(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,t){if(gs("AsyncQueue",`${t}: ${r}`),go(r))return new ut(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Wa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class ev{constructor(){this.ga=new de(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class lo{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new lo(t,i,Wa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class XI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class $I{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=nv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function nv(){return new ea((r=>jE(r)),vh)}async function ET(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new XI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=sg(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&rg(i)}async function TT(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ZI(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&rg(i)}function JI(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function rg(r){r.Ca.forEach((t=>{t.next()}))}var pm,iv;(iv=pm||(pm={})).Ma="default",iv.Cache="cache";class bT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new lo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}class ST{constructor(t){this.key=t}}class AT{constructor(t){this.key=t}}class WI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=BE(t),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new ev,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const V=l.get(T),F=Eh(this.query,A)?A:null,J=!!V&&this.mutatedKeys.has(V.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;V&&F?V.data.isEqual(F.data)?J!==et&&(a.track({type:3,doc:F}),W=!0):this.su(V,F)||(a.track({type:2,doc:F}),W=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!V&&F?(a.track({type:0,doc:F}),W=!0):V&&!F&&(a.track({type:1,doc:V}),W=!0,(_||y)&&(p=!0)),W&&(F?(d=d.add(F),c=et?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(F,J){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return et(F)-et(J)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new lo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new AT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new ST(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class tC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class eC{constructor(t){this.key=t,this.hu=!1}}class nC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ea((p=>jE(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new de(gt.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iC(r,t,i=!0){const a=xT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wT(a,t,i,!0),l}async function sC(r,t){const i=xT(r);await wT(i,t,!0,!1)}async function wT(r,t,i,a){const l=await AI(r.localStore,Mi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await rC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&mT(r.remoteStore,l),p}async function rC(r,t,i,a,l){r.pu=(A,V,F)=>(async function(et,W,dt,Et){let mt=W.view.ru(dt);mt.Cs&&(mt=await X0(et.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,mt))));const Ht=Et&&Et.targetChanges.get(W.targetId),Pt=Et&&Et.targetMismatches.get(W.targetId)!=null,zt=W.view.applyChanges(mt,et.isPrimaryClient,Ht,Pt);return rv(et,W.targetId,zt.au),zt.snapshot})(r,A,V,F);const c=await X0(r.localStore,t,!0),d=new WI(t,c.Qs),p=d.ru(c.documents),_=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);rv(r,i,y.au);const T=new tC(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function aC(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Wm(a.remoteStore,l.targetId),ym(a,l.targetId)})).catch(mo)):(ym(a,l.targetId),await mm(a.localStore,l.targetId,!0))}async function oC(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wm(i.remoteStore,a.targetId))}async function lC(r,t,i){const a=gC(r);try{const l=await(function(d,p){const _=St(d),y=ae.now(),T=p.reduce(((F,J)=>F.add(J.key)),kt());let A,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=ps(),et=kt();return _.Ns.getEntries(F,T).next((W=>{J=W,J.forEach(((dt,Et)=>{Et.isValidDocument()||(et=et.add(dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,J))).next((W=>{A=W;const dt=[];for(const Et of p){const mt=SR(Et,A.get(Et.key).overlayedDocument);mt!=null&&dt.push(new pr(Et.key,mt,ME(mt.value.mapValue),oi.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,dt,p)})).next((W=>{V=W;const dt=W.applyToLocalDocumentSet(A,et);return _.documentOverlayCache.saveOverlays(F,W.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:HE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new de(Vt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Xl(a,l.changes),await Rh(a.remoteStore)}catch(l){const c=sg(l,"Failed to persist write");i.reject(c)}}async function RT(r,t){const i=St(r);try{const a=await TI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Xl(i,a,t)}catch(a){await mo(a)}}function sv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=St(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,A)=>{for(const V of A.Sa)V.va(p)&&(y=!0)})),y&&rg(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function uC(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new de(gt.comparator);d=d.insert(c,tn.newNoDocument(c,Tt.min()));const p=kt().add(c),_=new Sh(Tt.min(),new Map,new de(Vt),d,p);await RT(a,_),a.du=a.du.remove(c),a.Au.delete(t),og(a)}else await mm(a.localStore,t,!1).then((()=>ym(a,t,i))).catch(mo)}async function cC(r,t){const i=St(r),a=t.batch.batchId;try{const l=await EI(i.localStore,t);CT(i,a,null),IT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await mo(l)}}async function hC(r,t,i){const a=St(r);try{const l=await(function(d,p){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((A=>(Qt(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);CT(a,t,i),IT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await mo(l)}}function IT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function CT(r,t,i){const a=St(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function ym(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||NT(r,a)}))}function NT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Wm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),og(r))}function rv(r,t,i){for(const a of i)a instanceof ST?(r.Ru.addReference(a.key,t),fC(r,a)):a instanceof AT?(at(ag,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||NT(r,a.key)):yt(19791,{wu:a})}function fC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(ag,"New document in limbo: "+i),r.Eu.add(a),og(r))}function og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(fe.fromString(t)),a=r.fu.next();r.Au.set(a,new eC(i)),r.du=r.du.insert(i,a),mT(r.remoteStore,new nr(Mi(_h(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Xl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Zm.As(_.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const T=St(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(V=>$.forEach(V.Es,(F=>T.persistence.referenceDelegate.addReference(A,V.targetId,F))).next((()=>$.forEach(V.ds,(F=>T.persistence.referenceDelegate.removeReference(A,V.targetId,F)))))))))}catch(A){if(!go(A))throw A;at(Jm,"Failed to update sequence numbers: "+A)}for(const A of y){const V=A.targetId;if(!A.fromCache){const F=T.Ms.get(V),J=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(V,et)}}})(a.localStore,c))}async function dC(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){at(ag,"User change. New user:",t.toKey());const a=await cT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ut(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ls)}}function mC(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function xT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uC.bind(null,t),t.Pu.H_=ZI.bind(null,t.eventManager),t.Pu.yu=JI.bind(null,t.eventManager),t}function gC(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hC.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return vI(this.persistence,new pI,t.initialUser,this.serializer)}Cu(t){return new uT($m.mi,this.serializer)}Du(t){return new RI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class pC extends uh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new eI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new uT((a=>oh.mi(a,i)),this.serializer)}}class _m{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=dC.bind(null,this.syncEngine),await YI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $I})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=(function(c){return new DI(c)})(t.databaseInfo);return(function(c,d,p,_){return new kI(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new UI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return J0.v()?new J0:new II})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,T){const A=new nC(l,c,d,p,_,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);at(Wr,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class DT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const mr="FirestoreClient";class yC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=sg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(r,t){r.asyncQueue.verifyOperationInProgress(),at(mr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await cT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function av(r,t){r.asyncQueue.verifyOperationInProgress();const i=await _C(r);at(mr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>tv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>tv(t.remoteStore,l))),r._onlineComponents=t}async function _C(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(mr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new uh)}}else at(mr,"Using default OfflineComponentProvider"),await Kd(r,new pC(void 0));return r._offlineComponents}async function OT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(mr,"Using user provided OnlineComponentProvider"),await av(r,r._uninitializedComponentsProvider._online)):(at(mr,"Using default OnlineComponentProvider"),await av(r,new _m))),r._onlineComponents}function vC(r){return OT(r).then((t=>t.syncEngine))}async function vm(r){const t=await OT(r),i=t.eventManager;return i.onListen=iC.bind(null,t.syncEngine),i.onUnlisten=aC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=sC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=oC.bind(null,t.syncEngine),i}function EC(r,t,i={}){const a=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new DT({next:V=>{T.Nu(),d.enqueueAndForget((()=>TT(c,A)));const F=V.docs.has(p);!F&&V.fromCache?y.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&V.fromCache&&_&&_.source==="server"?y.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),A=new bT(_h(p.path),T,{includeMetadataChanges:!0,qa:!0});return ET(c,A)})(await vm(r),r.asyncQueue,t,i,a))),a.promise}function MT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const ov=new Map;const VT="firestore.googleapis.com",lv=!0;class uv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VT,this.ssl=lv}else this.host=t.host,this.ssl=t.ssl??lv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WR)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}k2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new A2;switch(a.type){case"firstParty":return new C2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ov.get(i);a&&(at("ComponentProvider","Removing Datastore"),ov.delete(i),a.terminate())})(this),Promise.resolve()}}function TC(r,t,i,a={}){r=ai(r,lg);const l=uo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(xv(`https://${p}`),Dv("Firestore",!0)),c.host!==VT&&c.host!==p&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!lr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=We.MOCK_USER;else{y=Kb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new We(A)}r._authCredentials=new w2(new bE(y,T))}}class Ih{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ih(this.firestore,t,this._query)}}class Me{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,Me._jsonSchema))return new Me(t,a||null,new gt(fe.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Oe("string",Me._jsonSchemaVersion),referencePath:Oe("string")};class Ul extends Ih{constructor(t,i,a){super(t,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new gt(t))}withConverter(t){return new Ul(this.firestore,t,this._path)}}function Bn(r,t,...i){if(r=rn(r),arguments.length===1&&(t=Um.newId()),V2("doc","path",t),r instanceof lg){const a=fe.fromString(t,...i);return S0(a),new Me(r,null,new gt(a))}{if(!(r instanceof Me||r instanceof Ul))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return S0(a),new Me(r.firestore,r instanceof Ul?r.converter:null,new gt(a))}}const cv="AsyncQueue";class hv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&at(cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!go(t))throw t;at(cv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",fv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ig.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function fv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function dv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ta extends lg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new hv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hv(t),this._firestoreClient=void 0,await t}}}function bC(r,t){const i=typeof r=="object"?r:kv(),a=typeof r=="string"?r:th,l=Im(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Fb("firestore");c&&TC(l,...c)}return l}function ug(r){if(r._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SC(r),r._firestoreClient}function SC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new Q2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,MT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new yC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(Xe.fromBase64String(t))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Gn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Oe("string",Gn._jsonSchemaVersion),bytes:Oe("string")};class Ch{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nh{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Oe("string",ki._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class zi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new zi(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Oe("string",zi._jsonSchemaVersion),vectorValues:Oe("object")};const AC=/^__.*__$/;class wC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new pr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}class kT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new pr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function zT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class xh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ch(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(zT(this.Ac)&&AC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class RC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}Cc(t,i,a,l=!1){return new xh({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UT(r){const t=r._freezeSettings(),i=Ah(r._databaseId);return new RC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function IC(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);hg("Data must be an object, but it was:",d,a);const p=LT(a,d);let _,y;if(c.merge)_=new Rn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const V=Em(t,A,i);if(!d.contains(V))throw new ut(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);jT(T,V)||T.push(V)}_=new Rn(T),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new wC(new gn(p),_,y)}class Dh extends Nh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}function CC(r,t,i){return new xh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cg extends Nh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=CC(this,t,!0),a=this.vc.map((c=>$l(c,i))),l=new ao(a);return new vR(t.path,l)}isEqual(t){return t instanceof cg&&lr(this.vc,t.vc)}}function NC(r,t,i,a){const l=r.Cc(1,t,i);hg("Data must be an object, but it was:",l,a);const c=[],d=gn.empty();gr(a,((_,y)=>{const T=fg(t,_,i);y=rn(y);const A=l.yc(T);if(y instanceof Dh)c.push(T);else{const V=$l(y,A);V!=null&&(c.push(T),d.set(T,V))}}));const p=new Rn(c);return new kT(d,p,l.fieldTransforms)}function xC(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Em(t,a,i)],_=[l];if(c.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Em(t,c[V])),_.push(c[V+1]);const y=[],T=gn.empty();for(let V=p.length-1;V>=0;--V)if(!jT(y,p[V])){const F=p[V];let J=_[V];J=rn(J);const et=d.yc(F);if(J instanceof Dh)y.push(F);else{const W=$l(J,et);W!=null&&(y.push(F),T.set(F,W))}}const A=new Rn(y);return new kT(T,A,d.fieldTransforms)}function $l(r,t){if(PT(r=rn(r)))return hg("Unsupported field value:",t,r),LT(r,t);if(r instanceof Nh)return(function(a,l){if(!zT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=$l(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return pR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:ah(l.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:eT(l.serializer,a._byteString)};if(a instanceof Me){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof zi)return(function(d,p){return{mapValue:{fields:{[DE]:{stringValue:OE},[eh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Gm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Lm(a)}`)})(r,t)}function LT(r,t){const i={};return wE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gr(r,((a,l)=>{const c=$l(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function PT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof ki||r instanceof Gn||r instanceof Me||r instanceof Nh||r instanceof zi)}function hg(r,t,i){if(!PT(i)||!SE(i)){const a=Lm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Em(r,t,i){if((t=rn(t))instanceof Ch)return t._internalPath;if(typeof t=="string")return fg(r,t);throw ch("Field path arguments must be of type string or ",r,!1,void 0,i)}const DC=new RegExp("[~\\*/\\[\\]]");function fg(r,t,i){if(t.search(DC)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ch(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ch(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ut(Z.INVALID_ARGUMENT,p+r+_)}function jT(r,t){return r.some((i=>i.isEqual(t)))}class BT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(qT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class OC extends BT{data(){return super.data()}}function qT(r,t){return typeof t=="string"?fg(r,t):t instanceof Ch?t._internalPath:t._delegate._internalPath}function MC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VC{convertValue(t,i="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return gr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((a=>be(a.doubleValue)));return new zi(i)}convertGeoPoint(t){return new ki(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=cr(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=fe.fromString(t);Qt(oT(a),9688,{name:t});const l=new Vl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function kC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xr extends BT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(qT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Xr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xr._jsonSchema={type:Oe("string",Xr._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Gc extends Xr{data(t={}){return super.data(t)}}class to{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Gc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Gc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:zC(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function UC(r){r=ai(r,Me);const t=ai(r.firestore,ta);return EC(ug(t),r._key).then((i=>GT(t,r,i)))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Oe("string",to._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class HT extends VC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function LC(r,t,i){r=ai(r,Me);const a=ai(r.firestore,ta),l=kC(r.converter,t);return dg(a,[IC(UT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,oi.none())])}function os(r,t,i,...a){r=ai(r,Me);const l=ai(r.firestore,ta),c=UT(l);let d;return d=typeof(t=rn(t))=="string"||t instanceof Ch?xC(c,"updateDoc",r._key,t,i,a):NC(c,"updateDoc",r._key,t),dg(l,[d.toMutation(r._key,oi.exists(!0))])}function PC(r){return dg(ai(r.firestore,ta),[new Fm(r._key,oi.none())])}function mv(r,...t){r=rn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||dv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Me)d=ai(r.firestore,ta),p=_h(r._key.path),c={next:_=>{t[a]&&t[a](GT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=ai(r,Ih);d=ai(_.firestore,ta),p=_._query;const y=new HT(d);c={next:T=>{t[a]&&t[a](new to(d,y,_,T))},error:t[a+1],complete:t[a+2]},MC(r._query)}return(function(y,T,A,V){const F=new DT(V),J=new bT(T,F,A);return y.asyncQueue.enqueueAndForget((async()=>ET(await vm(y),J))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>TT(await vm(y),J)))}})(ug(d),p,l,c)}function dg(r,t){return(function(a,l){const c=new or;return a.asyncQueue.enqueueAndForget((async()=>lC(await vC(a),l,c))),c.promise})(ug(r),t)}function GT(r,t,i){const a=i.docs.get(t._key),l=new HT(r);return new Xr(r,l,t._key,a,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}function Oc(...r){return new cg("arrayUnion",r)}(function(t,i=!0){(function(l){fo=l})(co),eo(new $r("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ta(new R2(a.getProvider("auth-internal")),new N2(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),rr(v0,E0,t),rr(v0,E0,"esm2020")})();const jC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),gv=r=>{const t=BC(r);return t.charAt(0).toUpperCase()+t.slice(1)},FT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),qC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var HC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GC=re.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>re.createElement("svg",{ref:_,...HC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:FT("lucide",l),...!c&&!qC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>re.createElement(y,T)),...Array.isArray(c)?c:[c]]));const me=(r,t)=>{const i=re.forwardRef(({className:a,...l},c)=>re.createElement(GC,{ref:c,iconNode:t,className:FT(`lucide-${jC(gv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=gv(r),i};const FC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tm=me("book-open",FC);const QC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KC=me("circle-check-big",QC);const YC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],pv=me("crown",YC);const XC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],$C=me("dice-1",XC);const ZC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M9 15h.01",key:"fzyn71"}]],JC=me("dice-2",ZC);const WC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],tN=me("dice-3",WC);const eN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}]],nN=me("dice-4",eN);const iN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],sN=me("dice-5",iN);const rN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],aN=me("dice-6",rN);const oN=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],yv=me("gavel",oN);const lN=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],bm=me("ghost",lN);const uN=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],cN=me("hammer",uN);const hN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],QT=me("history",hN);const fN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],KT=me("house",fN);const dN=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],mN=me("loader",dN);const gN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sm=me("log-out",gN);const pN=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],yN=me("megaphone",pN);const _N=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vN=me("rotate-ccw",_N);const EN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],_v=me("skull",EN);const TN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vv=me("sparkles",TN);const bN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],SN=me("trash-2",bN);const AN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ev=me("user",AN);const wN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YT=me("x",wN),RN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:590c84080a05dcfd6aa637"},XT=Vv(RN),Yd=b2(XT),qn=bC(XT),si=typeof __app_id<"u"?__app_id:"ghost-dice",IN="7",Ga="ghost_dice_roomId",Mc={1:$C,2:JC,3:tN,4:nN,5:sN,6:aN},Vc=()=>N.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[N.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-zinc-900 via-zinc-950 to-black"}),N.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-indigo-900/10 mix-blend-overlay"}),N.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),Tv=()=>N.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[N.jsx(bm,{size:12,className:"text-indigo-400"}),N.jsx("span",{className:"text-[10px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),bv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>N.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:N.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[N.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Haunt?"}),N.jsx("p",{className:"text-zinc-400 mb-6 text-sm",children:l?"Leaving now will forfeit your soul (and the game).":"Leaving the lobby will disconnect you."}),N.jsxs("div",{className:"flex flex-col gap-3",children:[N.jsx("button",{onClick:i,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),l&&a&&N.jsxs("button",{onClick:t,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white",children:[N.jsx(KT,{size:18})," Return Group to Lobby"]}),N.jsxs("button",{onClick:r,className:"bg-red-900/80 hover:bg-red-800 text-red-200 py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 border border-red-900",children:[N.jsx(Sm,{size:18})," Leave Game"]})]})]})}),CN=({logs:r,onClose:t})=>N.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-0 md:p-4",children:N.jsxs("div",{className:"bg-zinc-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-zinc-700 shadow-2xl",children:[N.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[N.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[N.jsx(QT,{size:18,className:"text-indigo-400"})," Sance Logs"]}),N.jsx("button",{onClick:t,className:"p-2 bg-zinc-800 rounded-full hover:bg-zinc-700",children:N.jsx(YT,{className:"text-zinc-400"})})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...r].reverse().map((i,a)=>N.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":i.type==="success"?"bg-green-900/10 border-green-500 text-green-300":i.type==="warning"?"bg-indigo-900/10 border-indigo-500 text-indigo-300":"bg-zinc-800/50 border-zinc-600 text-zinc-400"}`,children:[N.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),Sv=({onClose:r})=>N.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:N.jsxs("div",{className:"bg-zinc-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-indigo-500/30 flex flex-col",children:[N.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[N.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[N.jsx(Tm,{className:"text-indigo-400"})," The Grimoire"]}),N.jsx("button",{onClick:r,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400",children:N.jsx(YT,{})})]}),N.jsx("div",{className:"p-6 overflow-y-auto text-zinc-300 space-y-6",children:N.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[N.jsx("h3",{className:"text-xl font-bold text-indigo-400 mb-2",children:"The Basics"}),N.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[N.jsxs("li",{children:["Everyone starts with ",N.jsx("strong",{children:"5 Dice"}),"."]}),N.jsxs("li",{children:["Only ",N.jsx("strong",{children:"you"})," can see your own dice."]}),N.jsx("li",{children:"Goal: Be the last player with dice remaining."}),N.jsxs("li",{children:[N.jsx("strong",{children:"1s (Aces) are Wild!"})," They count as any number, unless the bid is on 1s."]})]})]}),N.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[N.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Bidding & Challenging"}),N.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[N.jsxs("li",{children:[N.jsx("strong",{children:"Bid:"})," Claim a quantity of a specific face value on the ",N.jsx("em",{children:"entire table"}),' (e.g., "Five 4s").']}),N.jsxs("li",{children:[N.jsx("strong",{children:"Raise:"})," You must bid a higher quantity OR the same quantity with a higher face value."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Liar!:"})," If you don't believe the previous bid, challenge it!"]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Result:"})," If the bid was valid, Challenger loses a die. If invalid, Bidder loses a die."]})]})]})]})})]})}),NN=({type:r,message:t,subtext:i,icon:a})=>N.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:N.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300
      backdrop-blur-md
      ${r==="success"?"bg-indigo-900/90 border-indigo-500 text-indigo-100":""}
      ${r==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${r==="neutral"?"bg-zinc-800/90 border-zinc-500 text-white":""}
    `,children:[a&&N.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:N.jsx(a,{size:64,className:"animate-bounce"})}),N.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&N.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})});function xN(){const[r,t]=re.useState(null),[i,a]=re.useState("menu"),[l,c]=re.useState(""),[d,p]=re.useState(()=>localStorage.getItem(Ga)||""),[_,y]=re.useState(""),[T,A]=re.useState(null),[V,F]=re.useState(!1),[J,et]=re.useState(""),[W,dt]=re.useState(!1),[Et,mt]=re.useState(!1),[Ht,Pt]=re.useState(!1),[zt,C]=re.useState(!1),[S,I]=re.useState(null),[M,x]=re.useState(1),[z,w]=re.useState(2);re.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await lw(Yd,__initial_auth_token):await iw(Yd))();const nt=hw(Yd,t);return()=>nt()},[]),re.useEffect(()=>{if(!d||!r)return;const Q=mv(Bn(qn,"artifacts",si,"public","data","rooms",d),nt=>{if(nt.exists()){const ht=nt.data();if(!ht.players.some(At=>At.id===r.uid)){p(""),localStorage.removeItem(Ga),a("menu"),et("Connection Terminated.");return}A(ht),ht.status==="lobby"?a("lobby"):a("game"),ht.feedbackTrigger&&ht.feedbackTrigger.id!==T?.feedbackTrigger?.id&&(I(ht.feedbackTrigger),setTimeout(()=>I(null),3e3)),ht.currentBid&&!T?.currentBid&&(x(ht.currentBid.quantity),w(ht.currentBid.face))}else p(""),localStorage.removeItem(Ga),a("menu"),et("Room vanished into the ether.")});return()=>Q()},[d,r,T?.feedbackTrigger?.id]),re.useEffect(()=>{const Q=mv(Bn(qn,"game_hub_settings","config"),nt=>{nt.exists()&&nt.data()[IN]?.maintenance?dt(!0):dt(!1)});return()=>Q()},[]);const ne=async()=>{if(!l.trim())return et("Name required.");F(!0);const Q=Math.random().toString(36).substring(2,7).toUpperCase(),nt={roomId:Q,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,dice:[],diceCount:5,eliminated:!1,ready:!0}],logs:[],turnIndex:0,currentBid:null,turnState:"IDLE",feedbackTrigger:null,winner:null};try{await LC(Bn(qn,"artifacts",si,"public","data","rooms",Q),nt),p(Q),localStorage.setItem(Ga,Q),a("lobby")}catch{et("Network error.")}F(!1)},ye=async()=>{if(!_||!l)return et("Code and Name required.");F(!0);try{const Q=Bn(qn,"artifacts",si,"public","data","rooms",_),nt=await UC(Q);if(!nt.exists())throw new Error("Room not found.");const ht=nt.data();if(ht.status!=="lobby")throw new Error("Game already in progress.");if(ht.players.length>=6)throw new Error("Table full.");ht.players.find(At=>At.id===r.uid)||await os(Q,{players:Oc({id:r.uid,name:l,dice:[],diceCount:5,eliminated:!1,ready:!0})}),p(_),localStorage.setItem(Ga,_)}catch(Q){et(Q.message)}F(!1)},H=async()=>{if(!d)return;const Q=Bn(qn,"artifacts",si,"public","data","rooms",d);if(T.hostId===r.uid)await PC(Q);else{const ht=T.players.filter(At=>At.id!==r.uid);await os(Q,{players:ht})}p(""),localStorage.removeItem(Ga),a("menu"),Pt(!1)},st=async Q=>{if(T.hostId!==r.uid)return;const nt=T.players.filter(ht=>ht.id!==Q);await os(Bn(qn,"artifacts",si,"public","data","rooms",d),{players:nt})},ct=async()=>{if(!T)return;const Q=T.players.map(nt=>nt.id===r.uid?{...nt,ready:!nt.ready}:nt);await os(Bn(qn,"artifacts",si,"public","data","rooms",d),{players:Q})},xt=Q=>{const nt=[];for(let ht=0;ht<Q;ht++)nt.push(Math.floor(Math.random()*6)+1);return nt.sort()},jt=async()=>{if(T.players.length<2)return et("Need 2+ Players.");const Q=T.players.map(ht=>({...ht,diceCount:5,dice:xt(5),eliminated:!1,ready:!1})),nt=Math.floor(Math.random()*Q.length);await os(Bn(qn,"artifacts",si,"public","data","rooms",d),{status:"playing",players:Q,turnIndex:nt,currentBid:null,turnState:"BIDDING",logs:[{id:Date.now().toString(),text:"The Haunt Begins. 5 Dice each.",type:"neutral"}]})},O=async()=>{const Q=T.currentBid,nt=T.players.find(At=>At.id===r.uid);if(Q&&(M<Q.quantity||M===Q.quantity&&z<=Q.face))return;let ht=(T.turnIndex+1)%T.players.length;for(;T.players[ht].eliminated;)ht=(ht+1)%T.players.length;await os(Bn(qn,"artifacts",si,"public","data","rooms",d),{currentBid:{quantity:M,face:z,playerId:r.uid,playerName:nt.name},turnIndex:ht,logs:Oc({id:Date.now().toString(),text:`${nt.name} bids: ${M}x ${z}s`,type:"neutral"})})},Y=async()=>{const Q=T.currentBid,nt=T.players.find($t=>$t.id===r.uid),ht=T.players.find($t=>$t.id===Q.playerId);let At=0,an=[];T.players.forEach($t=>{$t.eliminated||(an=[...an,...$t.dice],$t.dice.forEach($e=>{($e===Q.face||$e===1&&Q.face!==1)&&At++}))});const pn=At>=Q.quantity,_s=pn?nt.id:ht.id,Pi=pn?nt.name:ht.name;let In=[{id:Date.now().toString(),text:`Liar! ${nt.name} challenges ${ht.name}.`,type:"warning"},{id:Date.now()+1,text:`Reveal: Found ${At} matching dice. Bid was ${pn?"VALID":"FALSE"}.`,type:pn?"success":"danger"},{id:Date.now()+2,text:`${Pi} loses a die!`,type:"danger"}];const yr={id:Date.now(),type:pn?"failure":"success",message:pn?"BID VALID":"BID FAILED",subtext:`${At} found vs ${Q.quantity} bid. ${Pi} loses die.`};await os(Bn(qn,"artifacts",si,"public","data","rooms",d),{turnState:"REVEAL",feedbackTrigger:yr,logs:Oc(...In)}),setTimeout(async()=>{const $t=[...T.players],$e=$t.findIndex(le=>le.id===_s);$t[$e].diceCount-=1;let ji="",he="BIDDING",oe=null;$t[$e].diceCount<=0&&($t[$e].eliminated=!0,ji=`${$t[$e].name} has run out of soul. Eliminated.`);const Fn=$t.filter(le=>!le.eliminated);Fn.length===1&&(he="FINISHED",oe=Fn[0].name),$t.forEach(le=>{le.eliminated?le.dice=[]:le.dice=xt(le.diceCount)});let Bi=$e;if($t[$e].eliminated)for(Bi=($e+1)%$t.length;$t[Bi].eliminated&&activePlayers>1;)Bi=(Bi+1)%$t.length;let li={players:$t,turnState:he==="FINISHED"?"IDLE":"BIDDING",currentBid:null,turnIndex:Bi};ji&&(li.logs=Oc({id:Date.now().toString(),text:ji,type:"danger"})),oe&&(li.status="finished",li.winner=oe,li.feedbackTrigger={id:Date.now(),type:"success",message:"VICTORY",subtext:`${oe} Survives!`}),await os(Bn(qn,"artifacts",si,"public","data","rooms",d),li)},4e3)},it=async()=>{const Q=T.players.map(nt=>({...nt,dice:[],diceCount:5,eliminated:!1,ready:!0}));await os(Bn(qn,"artifacts",si,"public","data","rooms",d),{status:"lobby",players:Q,logs:[],currentBid:null,turnState:"IDLE",winner:null,feedbackTrigger:null})},rt=T?.players.find(Q=>Q.id===r?.uid),_t=T?.players[T?.turnIndex]?.id===r?.uid;if(W)return N.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[N.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[N.jsx(cN,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),N.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),N.jsx("p",{className:"text-gray-400",children:"The spirits are resting. The tavern is closed until dusk."})]}),N.jsx("div",{className:"h-8"}),N.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:N.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:N.jsx("div",{className:"text-center pb-12 animate-pulse",children:N.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[N.jsx(vv,{size:16})," Visit Gamehub...Try our other releases..."," ",N.jsx(vv,{size:16})]})})})})]});if(!r)return N.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-indigo-500 animate-pulse",children:"Summoning..."});if(d&&!T&&!J)return N.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[N.jsx(Vc,{}),N.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[N.jsx(mN,{size:48,className:"text-indigo-500 animate-spin"}),N.jsxs("div",{className:"text-center",children:[N.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),N.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming the Sance"})]})]})]});if(i==="menu")return N.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[N.jsx(Vc,{}),Et&&N.jsx(Sv,{onClose:()=>mt(!1)}),N.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[N.jsx(bm,{size:64,className:"text-indigo-400 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(129,140,248,0.5)]"}),N.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-indigo-300 to-zinc-500 font-serif tracking-widest drop-shadow-md",children:"GHOST DICE"}),N.jsx("p",{className:"text-zinc-500 tracking-[0.3em] uppercase mt-2",children:"Dead Men Tell No Tales"})]}),N.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur border border-indigo-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[J&&N.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:J}),N.jsx("input",{className:"w-full bg-black/50 border border-zinc-600 p-3 rounded mb-4 text-white placeholder-zinc-500 focus:border-indigo-500 outline-none transition-colors",placeholder:"Soul Name",value:l,onChange:Q=>c(Q.target.value)}),N.jsxs("button",{onClick:ne,disabled:V,className:"w-full bg-gradient-to-r from-indigo-700 to-zinc-600 hover:from-indigo-600 hover:to-zinc-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-indigo-500/30 shadow-[0_0_15px_rgba(99,102,241,0.2)] transition-all",children:[N.jsx(pv,{size:20})," Host Sance"]}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[N.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-zinc-600 p-3 rounded text-white placeholder-zinc-500 uppercase font-mono tracking-wider focus:border-indigo-500 outline-none",placeholder:"CODE",value:_,onChange:Q=>y(Q.target.value.toUpperCase())}),N.jsx("button",{onClick:ye,disabled:V,className:"w-full sm:w-auto bg-zinc-800 hover:bg-zinc-700 border border-zinc-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),N.jsxs("button",{onClick:()=>mt(!0),className:"w-full text-sm text-zinc-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[N.jsx(Tm,{size:16})," The Grimoire"]})]})]});if(i==="lobby"&&T){const Q=T.hostId===r.uid;return N.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-6 relative",children:[N.jsx(Vc,{}),Ht&&N.jsx(bv,{onConfirmLeave:H,onCancel:()=>Pt(!1),isHost:Q,inGame:!1}),N.jsxs("div",{className:"z-10 w-full max-w-lg bg-zinc-900/90 backdrop-blur p-8 rounded-2xl border border-indigo-900/50 shadow-2xl mb-4",children:[N.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-zinc-700 pb-4",children:[N.jsxs("h2",{className:"text-2xl font-serif text-indigo-400",children:["Crypt: ",N.jsx("span",{className:"text-white font-mono",children:d})]}),N.jsx("button",{onClick:()=>Pt(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:N.jsx(Sm,{size:16})})]}),N.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-zinc-800",children:[N.jsx("h3",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:N.jsxs("span",{children:["Souls (",T.players.length,")"]})}),N.jsxs("div",{className:"space-y-2",children:[T.players.map(nt=>N.jsxs("div",{className:"flex items-center justify-between bg-zinc-800/50 p-3 rounded border border-zinc-700/50",children:[N.jsxs("span",{className:`font-bold flex items-center gap-2 ${nt.id===r.uid?"text-indigo-400":"text-zinc-300"}`,children:[N.jsx(Ev,{size:14})," ",nt.name," ",nt.id===T.hostId&&N.jsx(pv,{size:14,className:"text-yellow-500"})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[N.jsx(KC,{size:12})," Present"]}),Q&&nt.id!==r.uid&&N.jsx("button",{onClick:()=>st(nt.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-red-900/20 rounded-full transition-colors",title:"Kick Soul",children:N.jsx(SN,{size:14})})]})]},nt.id)),T.players.length<2&&N.jsx("div",{className:"text-center text-zinc-500 italic text-sm py-2",children:"Waiting for more souls..."})]})]}),Q?N.jsx("button",{onClick:jt,disabled:T.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${T.players.length>=2?"bg-indigo-700 hover:bg-indigo-600 text-white shadow-indigo-900/20":"bg-zinc-800 cursor-not-allowed text-zinc-500"}`,children:T.players.length<2?"Need 2+ Players...":"Begin Haunt"}):N.jsx("div",{className:"text-center text-indigo-400/60 animate-pulse font-serif italic",children:"Waiting for Host..."})]}),N.jsx(Tv,{})]})}return i==="game"&&T?N.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col relative overflow-hidden font-sans",children:[N.jsx(Vc,{}),S&&N.jsx(NN,{type:S.type,message:S.message,subtext:S.subtext,icon:S.type==="success"?yv:_v}),Et&&N.jsx(Sv,{onClose:()=>mt(!1)}),zt&&N.jsx(CN,{logs:T.logs,onClose:()=>C(!1)}),Ht&&N.jsx(bv,{onConfirmLeave:H,onCancel:()=>Pt(!1),isHost:T.hostId===r.uid,onConfirmLobby:()=>{it(),Pt(!1)},inGame:!0}),N.jsxs("div",{className:"h-14 bg-zinc-900/80 border-b border-zinc-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"font-serif text-indigo-500 font-bold tracking-wider hidden md:block",children:"GHOST DICE"}),N.jsxs("span",{className:"text-xs text-zinc-500 bg-black/50 px-2 py-1 rounded",children:["Room ",T.roomId]})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>mt(!0),className:"p-2 hover:bg-zinc-800 rounded text-zinc-400",children:N.jsx(Tm,{size:18})}),N.jsx("button",{onClick:()=>C(!0),className:"p-2 hover:bg-zinc-800 rounded text-zinc-400",children:N.jsx(QT,{size:18})}),N.jsx("button",{onClick:()=>Pt(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:N.jsx(Sm,{size:18})})]})]}),N.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-6xl mx-auto w-full gap-4",children:[N.jsxs("div",{className:"w-full max-w-md bg-zinc-900/50 p-6 rounded-2xl border border-indigo-500/20 flex flex-col items-center justify-center min-h-[160px] animate-in fade-in zoom-in",children:[N.jsx("div",{className:"text-xs text-indigo-400 uppercase tracking-widest mb-2",children:"Current Bid"}),T.currentBid?N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("span",{className:"text-6xl font-black text-white drop-shadow-lg",children:T.currentBid.quantity}),N.jsx("span",{className:"text-4xl text-zinc-500",children:"x"}),wc.createElement(Mc[T.currentBid.face],{size:64,className:"text-indigo-400 drop-shadow-[0_0_10px_rgba(129,140,248,0.5)]"})]}),N.jsxs("div",{className:"mt-2 text-zinc-400 text-sm",children:["by"," ",N.jsx("span",{className:"text-white font-bold",children:T.currentBid.playerName})]})]}):N.jsx("div",{className:"text-zinc-600 italic",children:"No bids placed..."})]}),N.jsx("div",{className:"flex gap-4 justify-center flex-wrap w-full my-4",children:T.players.map((Q,nt)=>{if(Q.id===r.uid)return null;const ht=T.turnIndex===nt;return N.jsxs("div",{className:`
                                relative bg-zinc-900/90 p-4 rounded-xl border-2 w-32 md:w-40 transition-all flex flex-col items-center
                                ${ht?"border-indigo-500 shadow-lg shadow-indigo-900/20 scale-105":"border-zinc-700"}
                                ${Q.eliminated?"opacity-40 grayscale":""}
                            `,children:[N.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5",children:[...Array(Q.diceCount)].map((At,an)=>N.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400/50"},an))}),Q.eliminated?N.jsx(_v,{size:32,className:"text-red-500 mb-2"}):N.jsx(bm,{size:32,className:ht?"text-indigo-400 animate-bounce":"text-zinc-600"}),N.jsx("span",{className:`font-bold text-sm truncate w-full text-center ${ht?"text-indigo-200":"text-zinc-400"}`,children:Q.name}),T.turnState==="REVEAL"&&!Q.eliminated&&N.jsx("div",{className:"absolute inset-0 bg-black/90 rounded-xl flex items-center justify-center z-10 p-2 flex-wrap gap-1",children:Q.dice.map((At,an)=>wc.createElement(Mc[At],{key:an,size:16,className:At===T.currentBid?.face||At===1?"text-white":"text-zinc-700"}))})]},Q.id)})}),N.jsxs("div",{className:`w-full max-w-2xl bg-zinc-900/95 p-4 rounded-t-3xl border-t border-indigo-500/30 backdrop-blur-md mt-auto shadow-2xl z-20 ${rt.eliminated&&T.status!=="finished"?"grayscale opacity-50 pointer-events-none":""}`,children:[N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(Ev,{className:"text-indigo-400"}),N.jsx("span",{className:"font-bold text-xl",children:rt.name}),N.jsxs("div",{className:"bg-indigo-900/30 px-3 py-1 rounded-full text-xs text-indigo-300 border border-indigo-500/30",children:[rt.diceCount," Dice Left"]})]}),N.jsx("div",{className:"flex flex-wrap justify-center gap-2 bg-black/40 p-2 rounded-xl",children:rt.dice.map((Q,nt)=>N.jsx("div",{className:`
                                     bg-zinc-100 rounded-lg p-1 shadow-inner
                                     ${T.currentBid&&(Q===T.currentBid.face||Q===1)?"ring-2 ring-yellow-500":""}
                                 `,children:wc.createElement(Mc[Q],{size:32,className:"text-zinc-900"})},nt))})]}),N.jsx("div",{className:"min-h-[100px]",children:T.status==="finished"?N.jsxs("div",{className:"text-center",children:[N.jsxs("h3",{className:"text-3xl font-black text-indigo-400 mb-4",children:[T.winner," Wins!"]}),N.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:T.players.map(Q=>N.jsxs("div",{className:`px-3 py-1 rounded-full text-[10px] uppercase font-bold border ${Q.ready?"bg-green-900/30 border-green-500 text-green-400":"bg-zinc-800 border-zinc-600 text-zinc-500"}`,children:[Q.name," ",Q.ready&&""]},Q.id))}),T.hostId===r.uid?N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsxs("div",{className:"flex gap-3 justify-center",children:[N.jsxs("button",{onClick:jt,disabled:!T.players.every(Q=>Q.ready),className:"bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[N.jsx(vN,{size:18})," Restart"]}),N.jsxs("button",{onClick:it,disabled:!T.players.every(Q=>Q.ready),className:"bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[N.jsx(KT,{size:18})," Lobby"]})]}),!T.players.every(Q=>Q.ready)&&N.jsx("div",{className:"text-zinc-500 text-xs animate-pulse mt-2",children:"Waiting for all souls to be ready..."}),!rt.ready&&N.jsx("button",{onClick:ct,className:"text-xs text-indigo-400 hover:text-indigo-300 underline mt-2",children:"Mark Self Ready"})]}):N.jsxs("div",{className:"w-full max-w-xs mx-auto",children:[N.jsx("button",{onClick:ct,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg transition-all mb-2 ${rt.ready?"bg-green-900/30 border border-green-500 text-green-400":"bg-indigo-600 hover:bg-indigo-500 text-white"}`,children:rt.ready?"READY":"MARK READY"}),N.jsx("div",{className:"text-zinc-500 text-xs italic",children:"Waiting for Host..."})]})]}):_t&&T.turnState==="BIDDING"?N.jsxs("div",{className:"flex flex-col gap-4",children:[N.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[N.jsxs("div",{className:"flex items-center bg-zinc-800 rounded-lg border border-zinc-700",children:[N.jsx("button",{onClick:()=>x(Math.max(1,M-1)),className:"p-3 hover:bg-zinc-700 text-zinc-400",children:"-"}),N.jsx("span",{className:"w-12 text-center font-bold text-xl",children:M}),N.jsx("button",{onClick:()=>x(M+1),className:"p-3 hover:bg-zinc-700 text-white",children:"+"})]}),N.jsx("span",{className:"text-zinc-500",children:"x"}),N.jsx("div",{className:"flex gap-1 bg-zinc-800 p-1 rounded-lg border border-zinc-700 overflow-x-auto",children:[1,2,3,4,5,6].map(Q=>N.jsx("button",{onClick:()=>w(Q),className:`p-2 rounded-md transition-all ${z===Q?"bg-indigo-600 text-white shadow-lg":"hover:bg-zinc-700 text-zinc-500"}`,children:wc.createElement(Mc[Q],{size:24})},Q))})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[N.jsxs("button",{onClick:O,disabled:T.currentBid&&(M<T.currentBid.quantity||M===T.currentBid.quantity&&z<=T.currentBid.face),className:"col-span-2 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:bg-zinc-800 text-white py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2",children:[N.jsx(yN,{size:20})," Place Bid"]}),N.jsxs("button",{onClick:Y,disabled:!T.currentBid,className:"bg-red-900/80 hover:bg-red-800 disabled:opacity-50 disabled:bg-zinc-800 text-red-200 py-4 rounded-xl font-bold text-lg shadow-lg border border-red-700 flex items-center justify-center gap-2",children:[N.jsx(yv,{size:20})," LIAR!"]})]})]}):N.jsx("div",{className:"text-center text-zinc-500 animate-pulse py-8",children:T.turnState==="REVEAL"?"Resolving Challenge...":`Waiting for ${T.players[T.turnIndex]?.name}...`})})]})]}),N.jsx(Tv,{})]}):null}zb.createRoot(document.getElementById("root")).render(N.jsx(re.StrictMode,{children:N.jsx(xN,{})}));
