(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Pb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var qd={exports:{}},bl={};var G_;function jb(){if(G_)return bl;G_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=e,bl.jsx=i,bl.jsxs=i,bl}var F_;function Bb(){return F_||(F_=1,qd.exports=jb()),qd.exports}var S=Bb(),Hd={exports:{}},Se={};var Q_;function qb(){if(Q_)return Se;Q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ie={};function ge(M,K,te){this.props=M,this.context=K,this.refs=ie,this.updater=te||J}ge.prototype.isReactComponent={},ge.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},ge.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ae(){}Ae.prototype=ge.prototype;function _e(M,K,te){this.props=M,this.context=K,this.refs=ie,this.updater=te||J}var Xe=_e.prototype=new Ae;Xe.constructor=_e,se(Xe,ge.prototype),Xe.isPureReactComponent=!0;var $e=Array.isArray;function Me(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,K,te){var re=te.ref;return{$$typeof:s,type:M,key:K,ref:re!==void 0?re:null,props:te}}function V(M,K){return C(M.type,K,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function z(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return K[te]})}var R=/\/+/g;function He(M,K){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):K.toString(36)}function Et(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Me,Me):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,K,te,re,ve){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var Ne=!1;if(M===null)Ne=!0;else switch(we){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(M.$$typeof){case s:case e:Ne=!0;break;case b:return Ne=M._init,H(Ne(M._payload),K,te,re,ve)}}if(Ne)return ve=ve(M),Ne=re===""?"."+He(M,0):re,$e(ve)?(te="",Ne!=null&&(te=Ne.replace(R,"$&/")+"/"),H(ve,K,te,"",function(oe){return oe})):ve!=null&&(N(ve)&&(ve=V(ve,te+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(R,"$&/")+"/")+Ne)),K.push(ve)),1;Ne=0;var Je=re===""?".":re+":";if($e(M))for(var lt=0;lt<M.length;lt++)re=M[lt],we=Je+He(re,lt),Ne+=H(re,K,te,we,ve);else if(lt=F(M),typeof lt=="function")for(M=lt.call(M),lt=0;!(re=M.next()).done;)re=re.value,we=Je+He(re,lt++),Ne+=H(re,K,te,we,ve);else if(we==="object"){if(typeof M.then=="function")return H(Et(M),K,te,re,ve);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ne(M,K,te){if(M==null)return M;var re=[],ve=0;return H(M,re,"","",function(we){return K.call(te,we,ve++)}),re}function he(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ne,forEach:function(M,K,te){ne(M,function(){K.apply(this,arguments)},te)},count:function(M){var K=0;return ne(M,function(){K++}),K},toArray:function(M){return ne(M,function(K){return K})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=A,Se.Children=Ge,Se.Component=ge,Se.Fragment=i,Se.Profiler=l,Se.PureComponent=_e,Se.StrictMode=a,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,K,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var re=se({},M.props),ve=M.key;if(K!=null)for(we in K.key!==void 0&&(ve=""+K.key),K)!w.call(K,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&K.ref===void 0||(re[we]=K[we]);var we=arguments.length-2;if(we===1)re.children=te;else if(1<we){for(var Ne=Array(we),Je=0;Je<we;Je++)Ne[Je]=arguments[Je+2];re.children=Ne}return C(M.type,ve,re)},Se.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Se.createElement=function(M,K,te){var re,ve={},we=null;if(K!=null)for(re in K.key!==void 0&&(we=""+K.key),K)w.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=K[re]);var Ne=arguments.length-2;if(Ne===1)ve.children=te;else if(1<Ne){for(var Je=Array(Ne),lt=0;lt<Ne;lt++)Je[lt]=arguments[lt+2];ve.children=Je}if(M&&M.defaultProps)for(re in Ne=M.defaultProps,Ne)ve[re]===void 0&&(ve[re]=Ne[re]);return C(M,we,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:y,render:M}},Se.isValidElement=N,Se.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:he}},Se.memo=function(M,K){return{$$typeof:_,type:M,compare:K===void 0?null:K}},Se.startTransition=function(M){var K=x.T,te={};x.T=te;try{var re=M(),ve=x.S;ve!==null&&ve(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Me,Pe)}catch(we){Pe(we)}finally{K!==null&&te.types!==null&&(K.types=te.types),x.T=K}},Se.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Se.use=function(M){return x.H.use(M)},Se.useActionState=function(M,K,te){return x.H.useActionState(M,K,te)},Se.useCallback=function(M,K){return x.H.useCallback(M,K)},Se.useContext=function(M){return x.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,K){return x.H.useDeferredValue(M,K)},Se.useEffect=function(M,K){return x.H.useEffect(M,K)},Se.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Se.useId=function(){return x.H.useId()},Se.useImperativeHandle=function(M,K,te){return x.H.useImperativeHandle(M,K,te)},Se.useInsertionEffect=function(M,K){return x.H.useInsertionEffect(M,K)},Se.useLayoutEffect=function(M,K){return x.H.useLayoutEffect(M,K)},Se.useMemo=function(M,K){return x.H.useMemo(M,K)},Se.useOptimistic=function(M,K){return x.H.useOptimistic(M,K)},Se.useReducer=function(M,K,te){return x.H.useReducer(M,K,te)},Se.useRef=function(M){return x.H.useRef(M)},Se.useState=function(M){return x.H.useState(M)},Se.useSyncExternalStore=function(M,K,te){return x.H.useSyncExternalStore(M,K,te)},Se.useTransition=function(){return x.H.useTransition()},Se.version="19.2.3",Se}var K_;function Mm(){return K_||(K_=1,Hd.exports=qb()),Hd.exports}var ot=Mm();const kc=Pb(ot);var Gd={exports:{}},Sl={},Fd={exports:{}},Qd={};var Y_;function Hb(){return Y_||(Y_=1,(function(s){function e(H,ne){var he=H.length;H.push(ne);e:for(;0<he;){var Pe=he-1>>>1,Ge=H[Pe];if(0<l(Ge,ne))H[Pe]=ne,H[he]=Ge,he=Pe;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ne=H[0],he=H.pop();if(he!==ne){H[0]=he;e:for(var Pe=0,Ge=H.length,M=Ge>>>1;Pe<M;){var K=2*(Pe+1)-1,te=H[K],re=K+1,ve=H[re];if(0>l(te,he))re<Ge&&0>l(ve,te)?(H[Pe]=ve,H[re]=he,Pe=re):(H[Pe]=te,H[K]=he,Pe=K);else if(re<Ge&&0>l(ve,he))H[Pe]=ve,H[re]=he,Pe=re;else break e}}return ne}function l(H,ne){var he=H.sortIndex-ne.sortIndex;return he!==0?he:H.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var g=[],_=[],b=1,A=null,O=3,F=!1,J=!1,se=!1,ie=!1,ge=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Xe(H){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=H)a(_),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=i(_)}}function $e(H){if(se=!1,Xe(H),!J)if(i(g)!==null)J=!0,Me||(Me=!0,z());else{var ne=i(_);ne!==null&&Et($e,ne.startTime-H)}}var Me=!1,x=-1,w=5,C=-1;function V(){return ie?!0:!(s.unstable_now()-C<w)}function N(){if(ie=!1,Me){var H=s.unstable_now();C=H;var ne=!0;try{e:{J=!1,se&&(se=!1,Ae(x),x=-1),F=!0;var he=O;try{t:{for(Xe(H),A=i(g);A!==null&&!(A.expirationTime>H&&V());){var Pe=A.callback;if(typeof Pe=="function"){A.callback=null,O=A.priorityLevel;var Ge=Pe(A.expirationTime<=H);if(H=s.unstable_now(),typeof Ge=="function"){A.callback=Ge,Xe(H),ne=!0;break t}A===i(g)&&a(g),Xe(H)}else a(g);A=i(g)}if(A!==null)ne=!0;else{var M=i(_);M!==null&&Et($e,M.startTime-H),ne=!1}}break e}finally{A=null,O=he,F=!1}ne=void 0}}finally{ne?z():Me=!1}}}var z;if(typeof _e=="function")z=function(){_e(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,He=R.port2;R.port1.onmessage=N,z=function(){He.postMessage(null)}}else z=function(){ge(N,0)};function Et(H,ne){x=ge(function(){H(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var ne=3;break;default:ne=O}var he=O;O=ne;try{return H()}finally{O=he}},s.unstable_requestPaint=function(){ie=!0},s.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=O;O=H;try{return ne()}finally{O=he}},s.unstable_scheduleCallback=function(H,ne,he){var Pe=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Pe+he:Pe):he=Pe,H){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=he+Ge,H={id:b++,callback:ne,priorityLevel:H,startTime:he,expirationTime:Ge,sortIndex:-1},he>Pe?(H.sortIndex=he,e(_,H),i(g)===null&&H===i(_)&&(se?(Ae(x),x=-1):se=!0,Et($e,he-Pe))):(H.sortIndex=Ge,e(g,H),J||F||(J=!0,Me||(Me=!0,z()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var ne=O;return function(){var he=O;O=ne;try{return H.apply(this,arguments)}finally{O=he}}}})(Qd)),Qd}var X_;function Gb(){return X_||(X_=1,Fd.exports=Hb()),Fd.exports}var Kd={exports:{}},on={};var $_;function Fb(){if($_)return on;$_=1;var s=Mm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,b)},on.flushSync=function(g){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=b,a.d.f()}},on.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},on.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},on.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var b=_.as,A=y(b,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:F}):b==="script"&&a.d.X(g,{crossOrigin:A,integrity:O,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},on.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},on.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=y(b,_.crossOrigin);a.d.L(g,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},on.preloadModule=function(g,_){if(typeof g=="string")if(_){var b=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},on.requestFormReset=function(g){a.d.r(g)},on.unstable_batchedUpdates=function(g,_){return g(_)},on.useFormState=function(g,_,b){return d.H.useFormState(g,_,b)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.3",on}var J_;function Qb(){if(J_)return Kd.exports;J_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kd.exports=Fb(),Kd.exports}var Z_;function Kb(){if(Z_)return Sl;Z_=1;var s=Gb(),e=Mm(),i=Qb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),Ae=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Xe=Symbol.for("react.forward_ref"),$e=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case ge:return"Profiler";case ie:return"StrictMode";case $e:return"Suspense";case Me:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case _e:return t.displayName||"Context";case Ae:return(t._context.displayName||"Context")+".Consumer";case Xe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:He(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return He(t(n))}catch{}}return null}var Et=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Pe=[],Ge=-1;function M(t){return{current:t}}function K(t){0>Ge||(t.current=Pe[Ge],Pe[Ge]=null,Ge--)}function te(t,n){Ge++,Pe[Ge]=t.current,t.current=n}var re=M(null),ve=M(null),we=M(null),Ne=M(null);function Je(t,n){switch(te(we,n),te(ve,t),te(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?d_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=d_(n),t=m_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(re),te(re,t)}function lt(){K(re),K(ve),K(we)}function oe(t){t.memoizedState!==null&&te(Ne,t);var n=re.current,r=m_(n,t.type);n!==r&&(te(ve,t),te(re,r))}function Z(t){ve.current===t&&(K(re),K(ve)),Ne.current===t&&(K(Ne),_l._currentValue=he)}var ee,Ee;function yt(t){if(ee===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ee=n&&n[1]||"",Ee=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+t+Ee}var Bt=!1;function Kt(t,n){if(!t||Bt)return"";Bt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){j=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var G=`
`+I[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Bt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?yt(r):""}function zn(t,n){switch(t.tag){case 26:case 27:case 5:return yt(t.type);case 16:return yt("Lazy");case 13:return t.child!==n&&n!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return Kt(t.type,!1);case 11:return Kt(t.type.render,!1);case 1:return Kt(t.type,!0);case 31:return yt("Activity");default:return""}}function yi(t){try{var n="",r=null;do n+=zn(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var xe=Object.prototype.hasOwnProperty,Ze=s.unstable_scheduleCallback,It=s.unstable_cancelCallback,Qi=s.unstable_shouldYield,Ss=s.unstable_requestPaint,Yt=s.unstable_now,Wn=s.unstable_getCurrentPriorityLevel,ei=s.unstable_ImmediatePriority,ti=s.unstable_UserBlockingPriority,Xt=s.unstable_NormalPriority,Gh=s.unstable_LowPriority,ou=s.unstable_IdlePriority,lu=s.log,uu=s.unstable_setDisableYieldValue,ni=null,$t=null;function Ln(t){if(typeof lu=="function"&&uu(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(ni,t)}catch{}}var Tt=Math.clz32?Math.clz32:hu,cu=Math.log,aa=Math.LN2;function hu(t){return t>>>=0,t===0?32:31-(cu(t)/aa|0)|0}var _i=256,Sr=262144,Ct=4194304;function vi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ei(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=vi(o):(p&=E,p!==0?h=vi(p):r||(r=E&~t,r!==0&&(h=vi(r))))):(E=o&~f,E!==0?h=vi(E):p!==0?h=vi(p):r||(r=o&~t,r!==0&&(h=vi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ii(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function Ti(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ar(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qh(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Tt(r),Y=1<<G;E[G]=0,I[G]=-1;var j=P[G];if(j!==null)for(P[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&wr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function wr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Tt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function So(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Tt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Ao(t,n){var r=n&-n;return r=(r&42)!==0?1:Rr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:L_(t.type))}function si(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var ri=Math.random().toString(36).slice(2),xt="__reactFiber$"+ri,qt="__reactProps$"+ri,bi="__reactContainer$"+ri,oa="__reactEvents$"+ri,Kh="__reactListeners$"+ri,mu="__reactHandles$"+ri,gu="__reactResources$"+ri,Si="__reactMarker$"+ri;function la(t){delete t[xt],delete t[qt],delete t[oa],delete t[Kh],delete t[mu]}function Ai(t){var n=t[xt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[bi]||r[xt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=T_(t);t!==null;){if(r=t[xt])return r;t=T_(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[xt]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Sn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function wi(t){var n=t[gu];return n||(n=t[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(t){t[Si]=!0}var wo=new Set,Ro={};function Ri(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(Ro[t]=n,t=0;t<n.length;t++)wo.add(n[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},xo={};function pu(t){return xe.call(xo,t)?!0:xe.call(Co,t)?!1:Io.test(t)?xo[t]=!0:(Co[t]=!0,!1)}function ua(t,n,r){if(pu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function An(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Dt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=No(t,n,""+t[n])}}function Ir(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=As(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function gn(t){return t.replace(Cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(t,n,r,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Do(t,p,Ht(n)):r!=null?Do(t,p,Ht(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ht(E):t.removeAttribute("name")}function yu(t,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}r=r!=null?""+Ht(r):"",n=n!=null?""+Ht(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),We(t)}function Do(t,n,r){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ws(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,r){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ht(r):""}function Rs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Et(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ht(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),We(t)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||vu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Mo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Oo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(t,f,n[f])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var Vo=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,xi=null;function xr(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ca(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[qt]||null;if(!h)throw Error(a(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Ir(o)}break e;case"textarea":_u(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ws(t,!!r.multiple,n,!1)}}}var da=!1;function xs(t,n,r){if(da)return t(n,r);da=!0;try{var o=t(n);return o}finally{if(da=!1,(Cs!==null||xi!==null)&&(dc(),Cs&&(n=Cs,t=xi,xi=Cs=null,xr(n),t)))for(n=0;n<t.length;n++)xr(t[n])}}function oi(t,n){var r=t.stateNode;if(r===null)return null;var o=r[qt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(jn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Nr=!1}var Ni=null,ko=null,Dr=null;function zo(){if(Dr)return Dr;var t,n=ko,r=n.length,o,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Dr=h.slice(t,1<o?1-o:void 0)}function Or(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function li(){return!1}function Jt(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:li,this.isPropagationStopped=li,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Jt(Xi),Ns=A({},Xi,{view:0,detail:0}),Lo=Jt(Ns),Ds,ma,Oi,ga=A({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Ds=t.screenX-Oi.screenX,ma=t.screenY-Oi.screenY):ma=Ds=0,Oi=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),Uo=Jt(ga),Mr=A({},ga,{dataTransfer:0}),Tu=Jt(Mr),bu=A({},Ns,{relatedTarget:0}),Vr=Jt(bu),Po=A({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Jt(Po),pa=A({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=Jt(pa),wu=A({},Xi,{data:0}),Mi=Jt(wu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function Os(){return xu}var fn=A({},Ns,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=Jt(fn),Du=A({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Jt(Du),u=A({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Jt(u),v=A({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Jt(v),L=A({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Jt(L),W=A({},Xi,{newState:0,oldState:0}),Re=Jt(W),bt=[9,13,27,32],Ke=jn&&"CompositionEvent"in window,mt=null;jn&&"documentMode"in document&&(mt=document.documentMode);var Bn=jn&&"TextEvent"in window&&!mt,Vi=jn&&(!Ke||mt&&8<mt&&11>=mt),ui=" ",ci=!1;function kr(t,n){switch(t){case"keyup":return bt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function u1(t,n){switch(t){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:(ci=!0,ui);case"textInput":return t=n.data,t===ui&&ci?null:t;default:return null}}function c1(t,n){if(_a)return t==="compositionend"||!Ke&&kr(t,n)?(t=zo(),Dr=ko=Ni=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var h1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!h1[t.type]:n==="textarea"}function wg(t,n,r,o){Cs?xi?xi.push(o):xi=[o]:Cs=o,n=Ec(n,"onChange"),0<n.length&&(r=new Di("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var jo=null,Bo=null;function f1(t){o_(t,0)}function Ou(t){var n=Sn(t);if(Ir(n))return t}function Rg(t,n){if(t==="change")return n}var Ig=!1;if(jn){var Yh;if(jn){var Xh="oninput"in document;if(!Xh){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Xh=typeof Cg.oninput=="function"}Yh=Xh}else Yh=!1;Ig=Yh&&(!document.documentMode||9<document.documentMode)}function xg(){jo&&(jo.detachEvent("onpropertychange",Ng),Bo=jo=null)}function Ng(t){if(t.propertyName==="value"&&Ou(Bo)){var n=[];wg(n,Bo,t,Pn(t)),xs(f1,n)}}function d1(t,n,r){t==="focusin"?(xg(),jo=n,Bo=r,jo.attachEvent("onpropertychange",Ng)):t==="focusout"&&xg()}function m1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Bo)}function g1(t,n){if(t==="click")return Ou(n)}function p1(t,n){if(t==="input"||t==="change")return Ou(n)}function y1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wn=typeof Object.is=="function"?Object.is:y1;function qo(t,n){if(wn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!xe.call(n,h)||!wn(t[h],n[h]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,n){var r=Dg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dg(r)}}function Mg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Mg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ci(t.document)}return n}function $h(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var _1=jn&&"documentMode"in document&&11>=document.documentMode,va=null,Jh=null,Ho=null,Zh=!1;function kg(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zh||va==null||va!==Ci(o)||(o=va,"selectionStart"in o&&$h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=Ec(Jh,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=va)))}function zr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ea={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Wh={},zg={};jn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Lr(t){if(Wh[t])return Wh[t];if(!Ea[t])return t;var n=Ea[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in zg)return Wh[t]=n[r];return t}var Lg=Lr("animationend"),Ug=Lr("animationiteration"),Pg=Lr("animationstart"),v1=Lr("transitionrun"),E1=Lr("transitionstart"),T1=Lr("transitioncancel"),jg=Lr("transitionend"),Bg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function hi(t,n){Bg.set(t,n),Ri(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],Ta=0,tf=0;function Vu(){for(var t=Ta,n=tf=Ta=0;n<t;){var r=qn[n];qn[n++]=null;var o=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&qg(r,h,f)}}function ku(t,n,r,o){qn[Ta++]=t,qn[Ta++]=n,qn[Ta++]=r,qn[Ta++]=o,tf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function nf(t,n,r,o){return ku(t,n,r,o),zu(t)}function Ur(t,n){return ku(t,null,null,n),zu(t)}function qg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Tt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function zu(t){if(50<hl)throw hl=0,fd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ba={};function b1(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,r,o){return new b1(t,n,r,o)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,n){var r=t.alternate;return r===null?(r=Rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Hg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")sf(t)&&(p=1);else if(typeof t=="string")p=Ib(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Rn(31,r,n,h),t.elementType=C,t.lanes=f,t;case se:return Pr(r.children,h,f,n);case ie:p=8,h|=24;break;case ge:return t=Rn(12,r,n,h|2),t.elementType=ge,t.lanes=f,t;case $e:return t=Rn(13,r,n,h),t.elementType=$e,t.lanes=f,t;case Me:return t=Rn(19,r,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:p=10;break e;case Ae:p=9;break e;case Xe:p=11;break e;case x:p=14;break e;case w:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Rn(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Pr(t,n,r,o){return t=Rn(7,t,o,n),t.lanes=r,t}function rf(t,n,r){return t=Rn(6,t,null,n),t.lanes=r,t}function Gg(t){var n=Rn(18,null,null,0);return n.stateNode=t,n}function af(t,n,r){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fg=new WeakMap;function Hn(t,n){if(typeof t=="object"&&t!==null){var r=Fg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:yi(n)},Fg.set(t,n),n)}return{value:t,source:n,stack:yi(n)}}var Sa=[],Aa=0,Uu=null,Go=0,Gn=[],Fn=0,Ms=null,ki=1,zi="";function Zi(t,n){Sa[Aa++]=Go,Sa[Aa++]=Uu,Uu=t,Go=n}function Qg(t,n,r){Gn[Fn++]=ki,Gn[Fn++]=zi,Gn[Fn++]=Ms,Ms=t;var o=ki;t=zi;var h=32-Tt(o)-1;o&=~(1<<h),r+=1;var f=32-Tt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,ki=1<<32-Tt(n)+h|r<<h|o,zi=f+t}else ki=1<<f|r<<h|o,zi=t}function of(t){t.return!==null&&(Zi(t,1),Qg(t,1,0))}function lf(t){for(;t===Uu;)Uu=Sa[--Aa],Sa[Aa]=null,Go=Sa[--Aa],Sa[Aa]=null;for(;t===Ms;)Ms=Gn[--Fn],Gn[Fn]=null,zi=Gn[--Fn],Gn[Fn]=null,ki=Gn[--Fn],Gn[Fn]=null}function Kg(t,n){Gn[Fn++]=ki,Gn[Fn++]=zi,Gn[Fn++]=Ms,ki=n.id,zi=n.overflow,Ms=t}var Zt=null,ct=null,je=!1,Vs=null,Qn=!1,uf=Error(a(519));function ks(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Hn(n,t)),uf}function Yg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[xt]=t,n[qt]=o,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(r=0;r<dl.length;r++)Oe(dl[r],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||h_(n.textContent,r)?(o.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),o.onScroll!=null&&Oe("scroll",n),o.onScrollEnd!=null&&Oe("scrollend",n),o.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||ks(t,!0)}function Xg(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Zt=Zt.return}}function wa(t){if(t!==Zt)return!1;if(!je)return Xg(t),je=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Id(t.type,t.memoizedProps)),r=!r),r&&ct&&ks(t),Xg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=E_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=E_(t)}else n===27?(n=ct,Xs(t.type)?(t=Od,Od=null,ct=t):ct=n):ct=Zt?Yn(t.stateNode.nextSibling):null;return!0}function jr(){ct=Zt=null,je=!1}function cf(){var t=Vs;return t!==null&&(En===null?En=t:En.push.apply(En,t),Vs=null),t}function Fo(t){Vs===null?Vs=[t]:Vs.push(t)}var hf=M(null),Br=null,Wi=null;function zs(t,n,r){te(hf,n._currentValue),n._currentValue=r}function es(t){t._currentValue=hf.current,K(hf)}function ff(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function df(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ff(f.return,r,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),ff(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ra(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;wn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ne.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&df(n,t,r,o),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qr(t){Br=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return $g(Br,t)}function ju(t,n){return Br===null&&qr(t),$g(t,n)}function $g(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Wi===null){if(t===null)throw Error(a(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return r}var S1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},A1=s.unstable_scheduleCallback,w1=s.unstable_NormalPriority,Ot={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new S1,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&A1(w1,function(){t.controller.abort()})}var Ko=null,gf=0,Ia=0,Ca=null;function R1(t,n){if(Ko===null){var r=Ko=[];gf=0,Ia=_d(),Ca={status:"pending",value:void 0,then:function(o){r.push(o)}}}return gf++,n.then(Jg,Jg),n}function Jg(){if(--gf===0&&Ko!==null){Ca!==null&&(Ca.status="fulfilled");var t=Ko;Ko=null,Ia=0,Ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function I1(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Zg=H.S;H.S=function(t,n){ky=Yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&R1(t,n),Zg!==null&&Zg(t,n)};var Hr=M(null);function pf(){var t=Hr.current;return t!==null?t:at.pooledCache}function Bu(t,n){n===null?te(Hr,Hr.current):te(Hr,n.pool)}function Wg(){var t=pf();return t===null?null:{parent:Ot._currentValue,pool:t}}var xa=Error(a(460)),yf=Error(a(474)),qu=Error(a(542)),Hu={then:function(){}};function ep(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ai,ai),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ip(t),t;default:if(typeof n.status=="string")n.then(ai,ai);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ip(t),t}throw Fr=n,xa}}function Gr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Fr=r,xa):r}}var Fr=null;function np(){if(Fr===null)throw Error(a(459));var t=Fr;return Fr=null,t}function ip(t){if(t===xa||t===qu)throw Error(a(483))}var Na=null,Yo=0;function Gu(t){var n=Yo;return Yo+=1,Na===null&&(Na=[]),tp(Na,t,n)}function Xo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sp(t){function n(k,D){if(t){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ji(k,D),k.index=0,k.sibling=null,k}function f(k,D,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,U,Q){return D===null||D.tag!==6?(D=rf(U,k.mode,Q),D.return=k,D):(D=h(D,U),D.return=k,D)}function I(k,D,U,Q){var fe=U.type;return fe===se?G(k,D,U.props.children,Q,U.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Gr(fe)===D.type)?(D=h(D,U.props),Xo(D,U),D.return=k,D):(D=Lu(U.type,U.key,U.props,null,k.mode,Q),Xo(D,U),D.return=k,D)}function P(k,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=af(U,k.mode,Q),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function G(k,D,U,Q,fe){return D===null||D.tag!==7?(D=Pr(U,k.mode,Q,fe),D.return=k,D):(D=h(D,U),D.return=k,D)}function Y(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=rf(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return U=Lu(D.type,D.key,D.props,null,k.mode,U),Xo(U,D),U.return=k,U;case J:return D=af(D,k.mode,U),D.return=k,D;case w:return D=Gr(D),Y(k,D,U)}if(Et(D)||z(D))return D=Pr(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Gu(D),U);if(D.$$typeof===_e)return Y(k,ju(k,D),U);Fu(k,D)}return null}function j(k,D,U,Q){var fe=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:E(k,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return U.key===fe?I(k,D,U,Q):null;case J:return U.key===fe?P(k,D,U,Q):null;case w:return U=Gr(U),j(k,D,U,Q)}if(Et(U)||z(U))return fe!==null?null:G(k,D,U,Q,null);if(typeof U.then=="function")return j(k,D,Gu(U),Q);if(U.$$typeof===_e)return j(k,D,ju(k,U),Q);Fu(k,U)}return null}function q(k,D,U,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(U)||null,E(D,k,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?U:Q.key)||null,I(D,k,Q,fe);case J:return k=k.get(Q.key===null?U:Q.key)||null,P(D,k,Q,fe);case w:return Q=Gr(Q),q(k,D,U,Q,fe)}if(Et(Q)||z(Q))return k=k.get(U)||null,G(D,k,Q,fe,null);if(typeof Q.then=="function")return q(k,D,U,Gu(Q),fe);if(Q.$$typeof===_e)return q(k,D,U,ju(D,Q),fe);Fu(D,Q)}return null}function le(k,D,U,Q){for(var fe=null,Fe=null,ce=D,Ce=D=0,ke=null;ce!==null&&Ce<U.length;Ce++){ce.index>Ce?(ke=ce,ce=null):ke=ce.sibling;var Qe=j(k,ce,U[Ce],Q);if(Qe===null){ce===null&&(ce=ke);break}t&&ce&&Qe.alternate===null&&n(k,ce),D=f(Qe,D,Ce),Fe===null?fe=Qe:Fe.sibling=Qe,Fe=Qe,ce=ke}if(Ce===U.length)return r(k,ce),je&&Zi(k,Ce),fe;if(ce===null){for(;Ce<U.length;Ce++)ce=Y(k,U[Ce],Q),ce!==null&&(D=f(ce,D,Ce),Fe===null?fe=ce:Fe.sibling=ce,Fe=ce);return je&&Zi(k,Ce),fe}for(ce=o(ce);Ce<U.length;Ce++)ke=q(ce,k,Ce,U[Ce],Q),ke!==null&&(t&&ke.alternate!==null&&ce.delete(ke.key===null?Ce:ke.key),D=f(ke,D,Ce),Fe===null?fe=ke:Fe.sibling=ke,Fe=ke);return t&&ce.forEach(function(er){return n(k,er)}),je&&Zi(k,Ce),fe}function pe(k,D,U,Q){if(U==null)throw Error(a(151));for(var fe=null,Fe=null,ce=D,Ce=D=0,ke=null,Qe=U.next();ce!==null&&!Qe.done;Ce++,Qe=U.next()){ce.index>Ce?(ke=ce,ce=null):ke=ce.sibling;var er=j(k,ce,Qe.value,Q);if(er===null){ce===null&&(ce=ke);break}t&&ce&&er.alternate===null&&n(k,ce),D=f(er,D,Ce),Fe===null?fe=er:Fe.sibling=er,Fe=er,ce=ke}if(Qe.done)return r(k,ce),je&&Zi(k,Ce),fe;if(ce===null){for(;!Qe.done;Ce++,Qe=U.next())Qe=Y(k,Qe.value,Q),Qe!==null&&(D=f(Qe,D,Ce),Fe===null?fe=Qe:Fe.sibling=Qe,Fe=Qe);return je&&Zi(k,Ce),fe}for(ce=o(ce);!Qe.done;Ce++,Qe=U.next())Qe=q(ce,k,Ce,Qe.value,Q),Qe!==null&&(t&&Qe.alternate!==null&&ce.delete(Qe.key===null?Ce:Qe.key),D=f(Qe,D,Ce),Fe===null?fe=Qe:Fe.sibling=Qe,Fe=Qe);return t&&ce.forEach(function(Ub){return n(k,Ub)}),je&&Zi(k,Ce),fe}function rt(k,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===se&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case F:e:{for(var fe=U.key;D!==null;){if(D.key===fe){if(fe=U.type,fe===se){if(D.tag===7){r(k,D.sibling),Q=h(D,U.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Gr(fe)===D.type){r(k,D.sibling),Q=h(D,U.props),Xo(Q,U),Q.return=k,k=Q;break e}r(k,D);break}else n(k,D);D=D.sibling}U.type===se?(Q=Pr(U.props.children,k.mode,Q,U.key),Q.return=k,k=Q):(Q=Lu(U.type,U.key,U.props,null,k.mode,Q),Xo(Q,U),Q.return=k,k=Q)}return p(k);case J:e:{for(fe=U.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(k,D.sibling),Q=h(D,U.children||[]),Q.return=k,k=Q;break e}else{r(k,D);break}else n(k,D);D=D.sibling}Q=af(U,k.mode,Q),Q.return=k,k=Q}return p(k);case w:return U=Gr(U),rt(k,D,U,Q)}if(Et(U))return le(k,D,U,Q);if(z(U)){if(fe=z(U),typeof fe!="function")throw Error(a(150));return U=fe.call(U),pe(k,D,U,Q)}if(typeof U.then=="function")return rt(k,D,Gu(U),Q);if(U.$$typeof===_e)return rt(k,D,ju(k,U),Q);Fu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,U),Q.return=k,k=Q):(r(k,D),Q=rf(U,k.mode,Q),Q.return=k,k=Q),p(k)):r(k,D)}return function(k,D,U,Q){try{Yo=0;var fe=rt(k,D,U,Q);return Na=null,fe}catch(ce){if(ce===xa||ce===qu)throw ce;var Fe=Rn(29,ce,null,k.mode);return Fe.lanes=Q,Fe.return=k,Fe}}}var Qr=sp(!0),rp=sp(!1),Ls=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=zu(t),qg(t,null,r),n}return ku(t,o,n,r),zu(t)}function $o(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,So(t,r)}}function Ef(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Tf=!1;function Jo(){if(Tf){var t=Ca;if(t!==null)throw t}}function Zo(t,n,r,o){Tf=!1;var h=t.updateQueue;Ls=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,p===null?f=P:p.next=P,p=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;p=0,G=P=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ve&j)===j:(o&j)===j){j!==0&&j===Ia&&(Tf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,pe=E;j=n;var rt=r;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){Y=le.call(rt,Y,j);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,j=typeof le=="function"?le.call(rt,Y,j):le,j==null)break e;Y=A({},Y,j);break e;case 2:Ls=!0}}j=E.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,I=Y):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Gs|=p,t.lanes=p,t.memoizedState=Y}}function ap(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function op(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ap(r[t],n)}var Da=M(null),Qu=M(0);function lp(t,n){t=us,te(Qu,t),te(Da,n),us=t|n.baseLanes}function bf(){te(Qu,us),te(Da,Da.current)}function Sf(){us=Qu.current,K(Da),K(Qu)}var In=M(null),Kn=null;function js(t){var n=t.alternate;te(St,St.current&1),te(In,t),Kn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(Kn=t)}function Af(t){te(St,St.current),te(In,t),Kn===null&&(Kn=t)}function up(t){t.tag===22?(te(St,St.current),te(In,t),Kn===null&&(Kn=t)):Bs()}function Bs(){te(St,St.current),te(In,In.current)}function Cn(t){K(In),Kn===t&&(Kn=null),K(St)}var St=M(0);function Ku(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Nd(r)||Dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Ie=null,it=null,Mt=null,Yu=!1,Oa=!1,Kr=!1,Xu=0,Wo=0,Ma=null,C1=0;function _t(){throw Error(a(321))}function wf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!wn(t[r],n[r]))return!1;return!0}function Rf(t,n,r,o,h,f){return ts=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Qp:Bf,Kr=!1,f=r(o,h),Kr=!1,Oa&&(f=hp(n,r,o,h)),cp(t),f}function cp(t){H.H=nl;var n=it!==null&&it.next!==null;if(ts=0,Mt=it=Ie=null,Yu=!1,Wo=0,Ma=null,n)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&Pu(t)&&(Vt=!0))}function hp(t,n,r,o){Ie=t;var h=0;do{if(Oa&&(Ma=null),Wo=0,Oa=!1,25<=h)throw Error(a(301));if(h+=1,Mt=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Kp,f=n(r,o)}while(Oa);return f}function x1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ie.flags|=1024),n}function If(){var t=Xu!==0;return Xu=0,t}function Cf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function xf(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}ts=0,Mt=it=Ie=null,Oa=!1,Wo=Xu=0,Ma=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ie.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function At(){if(it===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=Mt===null?Ie.memoizedState:Mt.next;if(n!==null)Mt=n,it=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Mt===null?Ie.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=Wo;return Wo+=1,Ma===null&&(Ma=[]),t=tp(Ma,t,n),n=Ie,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Qp:Bf),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===_e)return Wt(t)}throw Error(a(438,String(t)))}function Nf(t){var n=null,r=Ie.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=$u(),Ie.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function ns(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=At();return Df(n,it,t)}function Df(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,I=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ve&Y)===Y:(ts&Y)===Y){var j=P.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ia&&(G=!0);else if((ts&j)===j){P=P.next,j===Ia&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Y,p=f):I=I.next=Y,Ie.lanes|=j,Gs|=j;Y=P.action,Kr&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else j={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,Ie.lanes|=Y,Gs|=Y;P=P.next}while(P!==null&&P!==n);if(I===null?p=f:I.next=E,!wn(f,t.memoizedState)&&(Vt=!0,G&&(r=Ca,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Of(t){var n=At(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);wn(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function fp(t,n,r){var o=Ie,h=At(),f=je;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!wn((it||h).memoizedState,r);if(p&&(h.memoizedState=r,Vt=!0),h=h.queue,kf(gp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},mp.bind(null,o,h,r,n),null),at===null)throw Error(a(349));f||(ts&127)!==0||dp(o,n,r)}return r}function dp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ie.updateQueue,n===null?(n=$u(),Ie.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function mp(t,n,r,o){n.value=r,n.getSnapshot=o,pp(n)&&yp(t)}function gp(t,n,r){return r(function(){pp(n)&&yp(t)})}function pp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!wn(t,r)}catch{return!0}}function yp(t){var n=Ur(t,2);n!==null&&Tn(n,t,2)}function Mf(t){var n=dn();if(typeof t=="function"){var r=t;if(t=r(),Kr){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function _p(t,n,r,o){return t.baseState=r,Df(t,it,typeof o=="function"?o:ns)}function N1(t,n,r,o,h){if(tc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,vp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function vp(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(h,o),I=H.S;I!==null&&I(p,E),Ep(t,n,E)}catch(P){Vf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,o),Ep(t,n,f)}catch(P){Vf(t,n,P)}}function Ep(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Tp(t,n,o)},function(o){return Vf(t,n,o)}):Tp(t,n,r)}function Tp(t,n,r){n.status="fulfilled",n.value=r,bp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,vp(t,r)))}function Vf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,bp(n),n=n.next;while(n!==o)}t.action=null}function bp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sp(t,n){return n}function Ap(t,n){if(je){var r=at.formState;if(r!==null){e:{var o=Ie;if(je){if(ct){t:{for(var h=ct,f=Qn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ct=Yn(h.nextSibling),o=h.data==="F!";break e}}ks(o)}o=!1}o&&(n=r[0])}}return r=dn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:n},r.queue=o,r=Hp.bind(null,Ie,o),o.dispatch=r,o=Mf(!1),f=jf.bind(null,Ie,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=N1.bind(null,Ie,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function wp(t){var n=At();return Rp(n,it,t)}function Rp(t,n,r){if(n=Df(t,n,Sp)[0],t=Zu(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(p){throw p===xa?qu:p}else o=n;n=At();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ie.flags|=2048,Va(9,{destroy:void 0},D1.bind(null,h,r),null)),[o,f,t]}function D1(t,n){t.action=n}function Ip(t){var n=At(),r=it;if(r!==null)return Rp(n,r,t);At(),n=n.memoizedState,r=At();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Va(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=$u(),Ie.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Cp(){return At().memoizedState}function Wu(t,n,r,o){var h=dn();Ie.flags|=t,h.memoizedState=Va(1|n,{destroy:void 0},r,o===void 0?null:o)}function ec(t,n,r,o){var h=At();o=o===void 0?null:o;var f=h.memoizedState.inst;it!==null&&o!==null&&wf(o,it.memoizedState.deps)?h.memoizedState=Va(n,f,r,o):(Ie.flags|=t,h.memoizedState=Va(1|n,f,r,o))}function xp(t,n){Wu(8390656,8,t,n)}function kf(t,n){ec(2048,8,t,n)}function O1(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=$u(),Ie.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Np(t){var n=At().memoizedState;return O1({ref:n,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Dp(t,n){return ec(4,2,t,n)}function Op(t,n){return ec(4,4,t,n)}function Mp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vp(t,n,r){r=r!=null?r.concat([t]):null,ec(4,4,Mp.bind(null,n,t),r)}function zf(){}function kp(t,n){var r=At();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&wf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function zp(t,n){var r=At();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&wf(n,o[1]))return o[0];if(o=t(),Kr){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[o,n],o}function Lf(t,n,r){return r===void 0||(ts&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ly(),Ie.lanes|=t,Gs|=t,r)}function Lp(t,n,r,o){return wn(r,n)?r:Da.current!==null?(t=Lf(t,r,o),wn(t,n)||(Vt=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(Ve&261930)===0?(Vt=!0,t.memoizedState=r):(t=Ly(),Ie.lanes|=t,Gs|=t,n)}function Up(t,n,r,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,jf(t,!1,n,r);try{var I=h(),P=H.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=I1(I,o);tl(t,n,G,Dn(t))}else tl(t,n,o,Dn(t))}catch(Y){tl(t,n,{then:function(){},status:"rejected",reason:Y},Dn())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function M1(){}function Uf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Pp(t).queue;Up(t,h,n,he,r===null?M1:function(){return jp(t),r(o)})}function Pp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:he},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jp(t){var n=Pp(t);n.next===null&&(n=t.alternate.memoizedState),tl(t,n.next.queue,{},Dn())}function Pf(){return Wt(_l)}function Bp(){return At().memoizedState}function qp(){return At().memoizedState}function V1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();t=Us(r);var o=Ps(n,t,r);o!==null&&(Tn(o,n,r),$o(o,n,r)),n={cache:mf()},t.payload=n;return}n=n.return}}function k1(t,n,r){var o=Dn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},tc(t)?Gp(n,r):(r=nf(t,n,r,o),r!==null&&(Tn(r,t,o),Fp(r,n,o)))}function Hp(t,n,r){var o=Dn();tl(t,n,r,o)}function tl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Gp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,wn(E,p))return ku(t,n,h,0),at===null&&Vu(),!1}catch{}if(r=nf(t,n,h,o),r!==null)return Tn(r,t,o),Fp(r,n,o),!0}return!1}function jf(t,n,r,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(a(479))}else n=nf(t,r,o,2),n!==null&&Tn(n,t,2)}function tc(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Gp(t,n){Oa=Yu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Fp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,So(t,r)}}var nl={readContext:Wt,use:Ju,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};nl.useEffectEvent=_t;var Qp={readContext:Wt,use:Ju,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:xp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wu(4194308,4,Mp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var r=dn();n=n===void 0?null:n;var o=t();if(Kr){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=dn();if(r!==void 0){var h=r(n);if(Kr){Ln(!0);try{r(n)}finally{Ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=k1.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=Mf(t);var n=t.queue,r=Hp.bind(null,Ie,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:zf,useDeferredValue:function(t,n){var r=dn();return Lf(r,t,n)},useTransition:function(){var t=Mf(!1);return t=Up.bind(null,Ie,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Ie,h=dn();if(je){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),at===null)throw Error(a(349));(Ve&127)!==0||dp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,xp(gp.bind(null,o,f,t),[t]),o.flags|=2048,Va(9,{destroy:void 0},mp.bind(null,o,f,r,n),null),r},useId:function(){var t=dn(),n=at.identifierPrefix;if(je){var r=zi,o=ki;r=(o&~(1<<32-Tt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Xu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=C1++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Pf,useFormState:Ap,useActionState:Ap,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jf.bind(null,Ie,!0,r),r.dispatch=n,[t,n]},useMemoCache:Nf,useCacheRefresh:function(){return dn().memoizedState=V1.bind(null,Ie)},useEffectEvent:function(t){var n=dn(),r={impl:t};return n.memoizedState=r,function(){if((Ye&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Bf={readContext:Wt,use:Ju,useCallback:kp,useContext:Wt,useEffect:kf,useImperativeHandle:Vp,useInsertionEffect:Dp,useLayoutEffect:Op,useMemo:zp,useReducer:Zu,useRef:Cp,useState:function(){return Zu(ns)},useDebugValue:zf,useDeferredValue:function(t,n){var r=At();return Lp(r,it.memoizedState,t,n)},useTransition:function(){var t=Zu(ns)[0],n=At().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:Pf,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var r=At();return _p(r,it,t,n)},useMemoCache:Nf,useCacheRefresh:qp};Bf.useEffectEvent=Np;var Kp={readContext:Wt,use:Ju,useCallback:kp,useContext:Wt,useEffect:kf,useImperativeHandle:Vp,useInsertionEffect:Dp,useLayoutEffect:Op,useMemo:zp,useReducer:Of,useRef:Cp,useState:function(){return Of(ns)},useDebugValue:zf,useDeferredValue:function(t,n){var r=At();return it===null?Lf(r,t,n):Lp(r,it.memoizedState,t,n)},useTransition:function(){var t=Of(ns)[0],n=At().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:fp,useId:Bp,useHostTransitionStatus:Pf,useFormState:Ip,useActionState:Ip,useOptimistic:function(t,n){var r=At();return it!==null?_p(r,it,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:qp};Kp.useEffectEvent=Np;function qf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Dn(),h=Us(o);h.payload=n,r!=null&&(h.callback=r),n=Ps(t,h,o),n!==null&&(Tn(n,t,o),$o(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Dn(),h=Us(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ps(t,h,o),n!==null&&(Tn(n,t,o),$o(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Dn(),o=Us(r);o.tag=2,n!=null&&(o.callback=n),n=Ps(t,o,r),n!==null&&(Tn(n,t,r),$o(n,t,r))}};function Yp(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!qo(r,o)||!qo(h,f):!0}function Xp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Hf.enqueueReplaceState(n,n.state,null)}function Yr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function $p(t){Mu(t)}function Jp(t){console.error(t)}function Zp(t){Mu(t)}function nc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,n,r){return r=Us(r),r.tag=3,r.payload={element:null},r.callback=function(){nc(t,n)},r}function ey(t){return t=Us(t),t.tag=3,t}function ty(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Wp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Wp(n,r,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function z1(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ra(n,r,h,!0),r=In.current,r!==null){switch(r.tag){case 31:case 13:return Kn===null?mc():r.alternate===null&&vt===0&&(vt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Hu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),gd(t,o,h)),!1;case 22:return r.flags|=65536,o===Hu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),gd(t,o,h)),!1}throw Error(a(435,r.tag))}return gd(t,o,h),mc(),!1}if(je)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==uf&&(t=Error(a(422),{cause:o}),Fo(Hn(t,r)))):(o!==uf&&(n=Error(a(423),{cause:o}),Fo(Hn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Hn(o,r),h=Gf(t.stateNode,o,h),Ef(t,h),vt!==4&&(vt=2)),!1;var f=Error(a(520),{cause:o});if(f=Hn(f,r),cl===null?cl=[f]:cl.push(f),vt!==4&&(vt=2),n===null)return!0;o=Hn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Gf(r.stateNode,o,t),Ef(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ey(h),ty(h,t,r,o),Ef(r,h),!1}r=r.return}while(r!==null);return!1}var Ff=Error(a(461)),Vt=!1;function en(t,n,r,o){n.child=t===null?rp(n,null,r,o):Qr(n,t.child,r,o)}function ny(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return qr(n),o=Rf(t,n,r,p,f,h),E=If(),t!==null&&!Vt?(Cf(t,n,h),is(t,n,h)):(je&&E&&of(n),n.flags|=1,en(t,n,o,h),n.child)}function iy(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,sy(t,n,f,o,h)):(t=Lu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Wf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:qo,r(p,o)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Ji(f,o),t.ref=n.ref,t.return=n,n.child=t}function sy(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(qo(f,o)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=o=f,Wf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,is(t,n,h)}return Qf(t,n,r,o,h)}function ry(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?lp(n,f):bf(),up(n);else return o=n.lanes=536870912,ay(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Bu(n,f.cachePool),lp(n,f),Bs(),n.memoizedState=null):(t!==null&&Bu(n,null),bf(),Bs());return en(t,n,h,r),n.child}function il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(t,n,r,o,h){var f=pf();return f=f===null?null:{parent:Ot._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Bu(n,null),bf(),up(n),t!==null&&Ra(t,n,o,!0),n.childLanes=h,null}function ic(t,n){return n=rc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function oy(t,n,r){return Qr(n,t.child,null,r),t=ic(n,n.pendingProps),t.flags|=2,Cn(n),n.memoizedState=null,t}function L1(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(je){if(o.mode==="hidden")return t=ic(n,o),n.lanes=536870912,il(null,t);if(Af(n),(t=ct)?(t=v_(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:ki,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},r=Gg(t),r.return=n,n.child=r,Zt=n,ct=null)):t=null,t===null)throw ks(n);return n.lanes=536870912,null}return ic(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Af(n),h)if(n.flags&256)n.flags&=-257,n=oy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||Ra(t,n,r,!1),h=(r&t.childLanes)!==0,Vt||h){if(o=at,o!==null&&(p=Ao(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ur(t,p),Tn(o,t,p),Ff;mc(),n=oy(t,n,r)}else t=f.treeContext,ct=Yn(p.nextSibling),Zt=n,je=!0,Vs=null,Qn=!1,t!==null&&Kg(n,t),n=ic(n,o),n.flags|=4096;return n}return t=Ji(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function sc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Qf(t,n,r,o,h){return qr(n),r=Rf(t,n,r,o,void 0,h),o=If(),t!==null&&!Vt?(Cf(t,n,h),is(t,n,h)):(je&&o&&of(n),n.flags|=1,en(t,n,r,h),n.child)}function ly(t,n,r,o,h,f){return qr(n),n.updateQueue=null,r=hp(n,o,r,h),cp(t),o=If(),t!==null&&!Vt?(Cf(t,n,f),is(t,n,f)):(je&&o&&of(n),n.flags|=1,en(t,n,r,f),n.child)}function uy(t,n,r,o,h){if(qr(n),n.stateNode===null){var f=ba,p=r.contextType;typeof p=="object"&&p!==null&&(f=Wt(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},_f(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Wt(p):ba,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(qf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Hf.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Yr(r,E);f.props=I;var P=f.context,G=r.contextType;p=ba,typeof G=="object"&&G!==null&&(p=Wt(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Xp(n,f,o,p),Ls=!1;var j=n.memoizedState;f.state=j,Zo(n,o,f,h),Jo(),P=n.memoizedState,E||j!==P||Ls?(typeof Y=="function"&&(qf(n,r,Y,o),P=n.memoizedState),(I=Ls||Yp(n,r,I,o,j,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,vf(t,n),p=n.memoizedProps,G=Yr(r,p),f.props=G,Y=n.pendingProps,j=f.context,P=r.contextType,I=ba,typeof P=="object"&&P!==null&&(I=Wt(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==I)&&Xp(n,f,o,I),Ls=!1,j=n.memoizedState,f.state=j,Zo(n,o,f,h),Jo();var q=n.memoizedState;p!==Y||j!==q||Ls||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof E=="function"&&(qf(n,r,E,o),q=n.memoizedState),(G=Ls||Yp(n,r,G,o,j,q,I)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,sc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Qr(n,t.child,null,h),n.child=Qr(n,null,r,h)):en(t,n,r,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function cy(t,n,r,o){return jr(),n.flags|=256,en(t,n,r,o),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:Wg()}}function Xf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function hy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(je){if(h?js(n):Bs(),(t=ct)?(t=v_(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:ki,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},r=Gg(t),r.return=n,n.child=r,Zt=n,ct=null)):t=null,t===null)throw ks(n);return Dd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Bs(),h=n.mode,E=rc({mode:"hidden",children:E},h),o=Pr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Yf(r),o.childLanes=Xf(t,p,r),n.memoizedState=Kf,il(null,o)):(js(n),$f(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(js(n),n.flags&=-257,n=Jf(t,n,r)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),E=o.fallback,h=n.mode,o=rc({mode:"visible",children:o.children},h),E=Pr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Qr(n,t.child,null,r),o=n.child,o.memoizedState=Yf(r),o.childLanes=Xf(t,p,r),n.memoizedState=Kf,n=il(null,o));else if(js(n),Dd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Fo({value:o,source:null,stack:null}),n=Jf(t,n,r)}else if(Vt||Ra(t,n,r,!1),p=(r&t.childLanes)!==0,Vt||p){if(p=at,p!==null&&(o=Ao(p,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ur(t,o),Tn(p,t,o),Ff;Nd(E)||mc(),n=Jf(t,n,r)}else Nd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ct=Yn(E.nextSibling),Zt=n,je=!0,Vs=null,Qn=!1,t!==null&&Kg(n,t),n=$f(n,o.children),n.flags|=4096);return n}return h?(Bs(),E=o.fallback,h=n.mode,I=t.child,P=I.sibling,o=Ji(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Ji(P,E):(E=Pr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Yf(r):(h=E.cachePool,h!==null?(I=Ot._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Wg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Xf(t,p,r),n.memoizedState=Kf,il(t.child,o)):(js(n),r=t.child,t=r.sibling,r=Ji(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function $f(t,n){return n=rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function rc(t,n){return t=Rn(22,t,null,n),t.lanes=0,t}function Jf(t,n,r){return Qr(n,t.child,null,r),t=$f(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),ff(t.return,n,r)}function Zf(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function dy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=St.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,te(St,p),en(t,n,o,r),o=je?Go:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fy(t,r,n);else if(t.tag===19)fy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Ku(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Zf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ku(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Zf(n,!0,r,null,f,o);break;case"together":Zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ra(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ji(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ji(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Wf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function U1(t,n,r){switch(n.tag){case 3:Je(n,n.stateNode.containerInfo),zs(n,Ot,t.memoizedState.cache),jr();break;case 27:case 5:oe(n);break;case 4:Je(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(r&n.child.childLanes)!==0?hy(t,n,r):(js(n),t=is(t,n,r),t!==null?t.sibling:null);js(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ra(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return dy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(St,St.current),o)break;return null;case 22:return n.lanes=0,ry(t,n,r,n.pendingProps);case 24:zs(n,Ot,t.memoizedState.cache)}return is(t,n,r)}function my(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Wf(t,r)&&(n.flags&128)===0)return Vt=!1,U1(t,n,r);Vt=(t.flags&131072)!==0}else Vt=!1,je&&(n.flags&1048576)!==0&&Qg(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Gr(n.elementType),n.type=t,typeof t=="function")sf(t)?(o=Yr(t,o),n.tag=1,n=uy(null,n,t,o,r)):(n.tag=0,n=Qf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===Xe){n.tag=11,n=ny(null,n,t,o,r);break e}else if(h===x){n.tag=14,n=iy(null,n,t,o,r);break e}}throw n=He(t)||t,Error(a(306,n,""))}}return n;case 0:return Qf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Yr(o,n.pendingProps),uy(t,n,o,h,r);case 3:e:{if(Je(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,vf(t,n),Zo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,zs(n,Ot,o),o!==f.cache&&df(n,[Ot],r,!0),Jo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cy(t,n,o,r);break e}else if(o!==h){h=Hn(Error(a(424)),n),Fo(h),n=cy(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=Yn(t.firstChild),Zt=n,je=!0,Vs=null,Qn=!0,r=rp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jr(),o===h){n=is(t,n,r);break e}en(t,n,o,r)}n=n.child}return n;case 26:return sc(t,n),t===null?(r=w_(n.type,null,n.pendingProps,null))?n.memoizedState=r:je||(r=n.type,t=n.pendingProps,o=Tc(we.current).createElement(r),o[xt]=n,o[qt]=t,tn(o,r,t),Nt(o),n.stateNode=o):n.memoizedState=w_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return oe(n),t===null&&je&&(o=n.stateNode=b_(n.type,n.pendingProps,we.current),Zt=n,Qn=!0,h=ct,Xs(n.type)?(Od=h,ct=Yn(o.firstChild)):ct=h),en(t,n,n.pendingProps.children,r),sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&je&&((h=o=ct)&&(o=mb(o,n.type,n.pendingProps,Qn),o!==null?(n.stateNode=o,Zt=n,ct=Yn(o.firstChild),Qn=!1,h=!0):h=!1),h||ks(n)),oe(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Id(h,f)?o=null:p!==null&&Id(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Rf(t,n,x1,null,null,r),_l._currentValue=h),sc(t,n),en(t,n,o,r),n.child;case 6:return t===null&&je&&((t=r=ct)&&(r=gb(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,Zt=n,ct=null,t=!0):t=!1),t||ks(n)),null;case 13:return hy(t,n,r);case 4:return Je(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Qr(n,null,o,r):en(t,n,o,r),n.child;case 11:return ny(t,n,n.type,n.pendingProps,r);case 7:return en(t,n,n.pendingProps,r),n.child;case 8:return en(t,n,n.pendingProps.children,r),n.child;case 12:return en(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,zs(n,n.type,o.value),en(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=Wt(h),o=o(h),n.flags|=1,en(t,n,o,r),n.child;case 14:return iy(t,n,n.type,n.pendingProps,r);case 15:return sy(t,n,n.type,n.pendingProps,r);case 19:return dy(t,n,r);case 31:return L1(t,n,r);case 22:return ry(t,n,r,n.pendingProps);case 24:return qr(n),o=Wt(Ot),t===null?(h=pf(),h===null&&(h=at,f=mf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},_f(n),zs(n,Ot,h)):((t.lanes&r)!==0&&(vf(t,n),Zo(n,null,null,r),Jo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,Ot,o)):(o=f.cache,zs(n,Ot,o),o!==h.cache&&df(n,[Ot],r,!0))),en(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ss(t){t.flags|=4}function ed(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(By())t.flags|=8192;else throw Fr=Hu,yf}else t.flags&=-16777217}function gy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!N_(n))if(By())t.flags|=8192;else throw Fr=Hu,yf}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?fu():536870912,t.lanes|=n,Ua|=n)}function sl(t,n){if(!je)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ht(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function P1(t,n,r){var o=n.pendingProps;switch(lf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(n),null;case 1:return ht(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),es(Ot),lt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wa(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cf())),ht(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(ht(n),gy(n,f)):(ht(n),ed(n,h,null,o,r))):f?f!==t.memoizedState?(ss(n),ht(n),gy(n,f)):(ht(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(n),ht(n),ed(n,h,t,o,r)),null;case 27:if(Z(n),r=we.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ht(n),null}t=re.current,wa(n)?Yg(n):(t=b_(h,o,r),n.stateNode=t,ss(n))}return ht(n),null;case 5:if(Z(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ht(n),null}if(f=re.current,wa(n))Yg(n);else{var p=Tc(we.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[xt]=n,f[qt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(n)}}return ht(n),ed(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=we.current,wa(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[xt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||h_(t.nodeValue,r)),t||ks(n,!0)}else t=Tc(t).createTextNode(o),t[xt]=n,n.stateNode=t}return ht(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=wa(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[xt]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),t=!1}else r=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ht(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xt]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),h=!1}else h=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ac(n,n.updateQueue),ht(n),null);case 4:return lt(),t===null&&bd(n.stateNode.containerInfo),ht(n),null;case 10:return es(n.type),ht(n),null;case 19:if(K(St),o=n.memoizedState,o===null)return ht(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ku(t),f!==null){for(n.flags|=128,sl(o,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Hg(r,t),r=r.sibling;return te(St,St.current&1|2),je&&Zi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Yt()>hc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Ku(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!je)return ht(n),null}else 2*Yt()-o.renderingStartTime>hc&&r!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yt(),t.sibling=null,r=St.current,te(St,h?r&1|2:r&1),je&&Zi(n,o.treeForkCount),t):(ht(n),null);case 22:case 23:return Cn(n),Sf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ht(n),n.subtreeFlags&6&&(n.flags|=8192)):ht(n),r=n.updateQueue,r!==null&&ac(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&K(Hr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),es(Ot),ht(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function j1(t,n){switch(lf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(Ot),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Z(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(a(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(St),null;case 4:return lt(),null;case 10:return es(n.type),null;case 22:case 23:return Cn(n),Sf(),t!==null&&K(Hr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(Ot),null;case 25:return null;default:return null}}function py(t,n){switch(lf(n),n.tag){case 3:es(Ot),lt();break;case 26:case 27:case 5:Z(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:K(St);break;case 10:es(n.type);break;case 22:case 23:Cn(n),Sf(),t!==null&&K(Hr);break;case 24:es(Ot)}}function rl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){tt(n,n.return,E)}}function qs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=r,P=E;try{P()}catch(G){tt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){tt(n,n.return,G)}}function yy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{op(n,r)}catch(o){tt(t,t.return,o)}}}function _y(t,n,r){r.props=Yr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){tt(t,n,o)}}function al(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){tt(t,n,h)}}function Li(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){tt(t,n,h)}else r.current=null}function vy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){tt(t,t.return,h)}}function td(t,n,r){try{var o=t.stateNode;lb(o,t.type,r,n),o[qt]=n}catch(h){tt(t,t.return,h)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ai));else if(o!==4&&(o===27&&Xs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(id(t,n,r),t=t.sibling;t!==null;)id(t,n,r),t=t.sibling}function oc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Xs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(oc(t,n,r),t=t.sibling;t!==null;)oc(t,n,r),t=t.sibling}function Ty(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,r),n[xt]=t,n[qt]=r}catch(f){tt(t,t.return,f)}}var rs=!1,kt=!1,sd=!1,by=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function B1(t,n){if(t=t.containerInfo,wd=Cc,t=Vg(t),$h(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,I=-1,P=0,G=0,Y=t,j=null;t:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(I=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===t)break t;if(j===r&&++P===h&&(E=p),j===f&&++G===o&&(I=p),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rd={focusedElem:t,selectionRange:r},Cc=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var le=Yr(r.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){tt(r,r.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)xd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function Sy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:os(t,r),o&4&&rl(5,r);break;case 1:if(os(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){tt(r,r.return,p)}else{var h=Yr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){tt(r,r.return,p)}}o&64&&yy(r),o&512&&al(r,r.return);break;case 3:if(os(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{op(t,n)}catch(p){tt(r,r.return,p)}}break;case 27:n===null&&o&4&&Ty(r);case 26:case 5:os(t,r),n===null&&o&4&&vy(r),o&512&&al(r,r.return);break;case 12:os(t,r);break;case 31:os(t,r),o&4&&Ry(t,r);break;case 13:os(t,r),o&4&&Iy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=$1.bind(null,r),pb(t,r))));break;case 22:if(o=r.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||kt,h=rs;var f=kt;rs=o,(kt=n)&&!f?ls(t,r,(r.subtreeFlags&8772)!==0):os(t,r),rs=h,kt=f}break;case 30:break;default:os(t,r)}}function Ay(t){var n=t.alternate;n!==null&&(t.alternate=null,Ay(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&la(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,yn=!1;function as(t,n,r){for(r=r.child;r!==null;)wy(t,n,r),r=r.sibling}function wy(t,n,r){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ni,r)}catch{}switch(r.tag){case 26:kt||Li(r,n),as(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:kt||Li(r,n);var o=gt,h=yn;Xs(r.type)&&(gt=r.stateNode,yn=!1),as(t,n,r),gl(r.stateNode),gt=o,yn=h;break;case 5:kt||Li(r,n);case 6:if(o=gt,h=yn,gt=null,as(t,n,r),gt=o,yn=h,gt!==null)if(yn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(r.stateNode)}catch(f){tt(r,n,f)}else try{gt.removeChild(r.stateNode)}catch(f){tt(r,n,f)}break;case 18:gt!==null&&(yn?(t=gt,y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Qa(t)):y_(gt,r.stateNode));break;case 4:o=gt,h=yn,gt=r.stateNode.containerInfo,yn=!0,as(t,n,r),gt=o,yn=h;break;case 0:case 11:case 14:case 15:qs(2,r,n),kt||qs(4,r,n),as(t,n,r);break;case 1:kt||(Li(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&_y(r,n,o)),as(t,n,r);break;case 21:as(t,n,r);break;case 22:kt=(o=kt)||r.memoizedState!==null,as(t,n,r),kt=o;break;default:as(t,n,r)}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(r){tt(n,n.return,r)}}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(r){tt(n,n.return,r)}}function q1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new by),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new by),n;default:throw Error(a(435,t.tag))}}function lc(t,n){var r=q1(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=J1.bind(null,t,o);o.then(h,h)}})}function _n(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){gt=E.stateNode,yn=!1;break e}break;case 5:gt=E.stateNode,yn=!1;break e;case 3:case 4:gt=E.stateNode.containerInfo,yn=!0;break e}E=E.return}if(gt===null)throw Error(a(160));wy(f,p,h),gt=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,t),n=n.sibling}var fi=null;function Cy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(n,t),vn(t),o&4&&(qs(3,t,t.return),rl(3,t),qs(5,t,t.return));break;case 1:_n(n,t),vn(t),o&512&&(kt||r===null||Li(r,r.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=fi;if(_n(n,t),vn(t),o&512&&(kt||r===null||Li(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,r),f[xt]=t,Nt(f),o=f;break e;case"link":var p=C_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),tn(f,o,r),h.head.appendChild(f);break;case"meta":if(p=C_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(o),tn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[xt]=t,Nt(f),o=f}t.stateNode=o}else x_(h,t.type,t.stateNode);else t.stateNode=I_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?x_(h,t.type,t.stateNode):I_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&td(t,t.memoizedProps,r.memoizedProps)}break;case 27:_n(n,t),vn(t),o&512&&(kt||r===null||Li(r,r.return)),r!==null&&o&4&&td(t,t.memoizedProps,r.memoizedProps);break;case 5:if(_n(n,t),vn(t),o&512&&(kt||r===null||Li(r,r.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(le){tt(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,td(t,h,r!==null?r.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(_n(n,t),vn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(le){tt(t,t.return,le)}}break;case 3:if(Ac=null,h=fi,fi=bc(n.containerInfo),_n(n,t),fi=h,vn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(le){tt(t,t.return,le)}sd&&(sd=!1,xy(t));break;case 4:o=fi,fi=bc(t.stateNode.containerInfo),_n(n,t),vn(t),fi=o;break;case 12:_n(n,t),vn(t);break;case 31:_n(n,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 13:_n(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cc=Yt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=rs,G=kt;if(rs=P||h,kt=G||I,_n(n,t),kt=G,rs=P,vn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||rs||kt||Xr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(le){tt(I,I.return,le)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(le){tt(I,I.return,le)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;h?__(q,!0):__(I.stateNode,!1)}catch(le){tt(I,I.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,lc(t,r))));break;case 19:_n(n,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 30:break;case 21:break;default:_n(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Ey(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=nd(t);oc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(pn(p,""),r.flags&=-33);var E=nd(t);oc(t,E,p);break;case 3:case 4:var I=r.stateNode.containerInfo,P=nd(t);id(t,P,I);break;default:throw Error(a(161))}}catch(G){tt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(t,n.alternate,n),n=n.sibling}function Xr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Xr(n);break;case 1:Li(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&_y(n,n.return,r),Xr(n);break;case 27:gl(n.stateNode);case 26:case 5:Li(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}t=t.sibling}}function ls(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,r),rl(4,f);break;case 1:if(ls(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){tt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ap(I[h],E)}catch(P){tt(o,o.return,P)}}r&&p&64&&yy(f),al(f,f.return);break;case 27:Ty(f);case 26:case 5:ls(h,f,r),r&&o===null&&p&4&&vy(f),al(f,f.return);break;case 12:ls(h,f,r);break;case 31:ls(h,f,r),r&&p&4&&Ry(h,f);break;case 13:ls(h,f,r),r&&p&4&&Iy(h,f);break;case 22:f.memoizedState===null&&ls(h,f,r),al(f,f.return);break;case 30:break;default:ls(h,f,r)}n=n.sibling}}function rd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Qo(r))}function ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qo(t))}function di(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ny(t,n,r,o),n=n.sibling}function Ny(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:di(t,n,r,o),h&2048&&rl(9,n);break;case 1:di(t,n,r,o);break;case 3:di(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){di(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){tt(n,n.return,I)}}else di(t,n,r,o);break;case 31:di(t,n,r,o);break;case 13:di(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?di(t,n,r,o):ol(t,n):f._visibility&2?di(t,n,r,o):(f._visibility|=2,ka(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&rd(p,n);break;case 24:di(t,n,r,o),h&2048&&ad(n.alternate,n);break;default:di(t,n,r,o)}}function ka(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,I=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:ka(f,p,E,I,h),rl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?ka(f,p,E,I,h):ol(f,p):(G._visibility|=2,ka(f,p,E,I,h)),h&&P&2048&&rd(p.alternate,p);break;case 24:ka(f,p,E,I,h),h&&P&2048&&ad(p.alternate,p);break;default:ka(f,p,E,I,h)}n=n.sibling}}function ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:ol(r,o),h&2048&&rd(o.alternate,o);break;case 24:ol(r,o),h&2048&&ad(o.alternate,o);break;default:ol(r,o)}n=n.sibling}}var ll=8192;function za(t,n,r){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)Dy(t,n,r),t=t.sibling}function Dy(t,n,r){switch(t.tag){case 26:za(t,n,r),t.flags&ll&&t.memoizedState!==null&&Cb(r,fi,t.memoizedState,t.memoizedProps);break;case 5:za(t,n,r);break;case 3:case 4:var o=fi;fi=bc(t.stateNode.containerInfo),za(t,n,r),fi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,za(t,n,r),ll=o):za(t,n,r));break;default:za(t,n,r)}}function Oy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Gt=o,Vy(o,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&qs(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):ul(t);break;default:ul(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Gt=o,Vy(o,t)}Oy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),uc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function Vy(t,n){for(;Gt!==null;){var r=Gt;switch(r.tag){case 0:case 11:case 15:qs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Gt=o;else e:for(r=t;Gt!==null;){o=Gt;var h=o.sibling,f=o.return;if(Ay(o),o===r){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var H1={getCacheForType:function(t){var n=Wt(Ot),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Wt(Ot).controller.signal}},G1=typeof WeakMap=="function"?WeakMap:Map,Ye=0,at=null,De=null,Ve=0,et=0,xn=null,Hs=!1,La=!1,od=!1,us=0,vt=0,Gs=0,$r=0,ld=0,Nn=0,Ua=0,cl=null,En=null,ud=!1,cc=0,ky=0,hc=1/0,fc=null,Fs=null,Ut=0,Qs=null,Pa=null,cs=0,cd=0,hd=null,zy=null,hl=0,fd=null;function Dn(){return(Ye&2)!==0&&Ve!==0?Ve&-Ve:H.T!==null?_d():du()}function Ly(){if(Nn===0)if((Ve&536870912)===0||je){var t=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Nn=t}else Nn=536870912;return t=In.current,t!==null&&(t.flags|=32),Nn}function Tn(t,n,r){(t===at&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(ja(t,0),Ks(t,Ve,Nn,!1)),Ar(t,r),((Ye&2)===0||t!==at)&&(t===at&&((Ye&2)===0&&($r|=r),vt===4&&Ks(t,Ve,Nn,!1)),Ui(t))}function Uy(t,n,r){if((Ye&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ii(t,n),h=o?K1(t,n):md(t,n,!0),f=o;do{if(h===0){La&&!o&&Ks(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!F1(r)){h=md(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=cl;var I=E.current.memoizedState.isDehydrated;if(I&&(ja(E,p).flags|=256),p=md(E,p,!1),p!==2){if(od&&!I){E.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break e}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ja(t,0),Ks(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ks(o,n,Nn,!Hs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=cc+300-Yt(),10<h)){if(Ks(o,n,Nn,!Hs),Ei(o,0,!0)!==0)break e;cs=n,o.timeoutHandle=g_(Py.bind(null,o,r,En,fc,ud,n,Nn,$r,Ua,Hs,f,"Throttled",-0,0),h);break e}Py(o,r,En,fc,ud,n,Nn,$r,Ua,Hs,f,null,-0,0)}}break}while(!0);Ui(t)}function Py(t,n,r,o,h,f,p,E,I,P,G,Y,j,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},Dy(n,f,Y);var le=(f&62914560)===f?cc-Yt():(f&4194048)===f?ky-Yt():0;if(le=xb(Y,le),le!==null){cs=f,t.cancelPendingCommit=le(Ky.bind(null,t,n,f,r,o,h,p,E,I,G,Y,null,j,q)),Ks(t,f,p,!P);return}}Ky(t,n,f,r,o,h,p,E,I)}function F1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(t,n,r,o){n&=~ld,n&=~$r,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Tt(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&wr(t,r,n)}function dc(){return(Ye&6)===0?(fl(0),!1):!0}function dd(){if(De!==null){if(et===0)var t=De.return;else t=De,Wi=Br=null,xf(t),Na=null,Yo=0,t=De;for(;t!==null;)py(t.alternate,t),t=t.return;De=null}}function ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,hb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),cs=0,dd(),at=t,De=r=Ji(t.current,null),Ve=n,et=0,xn=null,Hs=!1,La=ii(t,n),od=!1,Ua=Nn=ld=$r=Gs=vt=0,En=cl=null,ud=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Tt(o),f=1<<h;n|=t[h],o&=~f}return us=n,Vu(),r}function jy(t,n){Ie=null,H.H=nl,n===xa||n===qu?(n=np(),et=3):n===yf?(n=np(),et=4):et=n===Ff?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,De===null&&(vt=1,nc(t,Hn(n,t.current)))}function By(){var t=In.current;return t===null?!0:(Ve&4194048)===Ve?Kn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Kn:!1}function qy(){var t=H.H;return H.H=nl,t===null?nl:t}function Hy(){var t=H.A;return H.A=H1,t}function mc(){vt=4,Hs||(Ve&4194048)!==Ve&&In.current!==null||(La=!0),(Gs&134217727)===0&&($r&134217727)===0||at===null||Ks(at,Ve,Nn,!1)}function md(t,n,r){var o=Ye;Ye|=2;var h=qy(),f=Hy();(at!==t||Ve!==n)&&(fc=null,ja(t,n)),n=!1;var p=vt;e:do try{if(et!==0&&De!==null){var E=De,I=xn;switch(et){case 8:dd(),p=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var P=et;if(et=0,xn=null,Ba(t,E,I,P),r&&La){p=0;break e}break;default:P=et,et=0,xn=null,Ba(t,E,I,P)}}Q1(),p=vt;break}catch(G){jy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Wi=Br=null,Ye=o,H.H=h,H.A=f,De===null&&(at=null,Ve=0,Vu()),p}function Q1(){for(;De!==null;)Gy(De)}function K1(t,n){var r=Ye;Ye|=2;var o=qy(),h=Hy();at!==t||Ve!==n?(fc=null,hc=Yt()+500,ja(t,n)):La=ii(t,n);e:do try{if(et!==0&&De!==null){n=De;var f=xn;t:switch(et){case 1:et=0,xn=null,Ba(t,n,f,1);break;case 2:case 9:if(ep(f)){et=0,xn=null,Fy(n);break}n=function(){et!==2&&et!==9||at!==t||(et=7),Ui(t)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:ep(f)?(et=0,xn=null,Fy(n)):(et=0,xn=null,Ba(t,n,f,7));break;case 5:var p=null;switch(De.tag){case 26:p=De.memoizedState;case 5:case 27:var E=De;if(p?N_(p):E.stateNode.complete){et=0,xn=null;var I=E.sibling;if(I!==null)De=I;else{var P=E.return;P!==null?(De=P,gc(P)):De=null}break t}}et=0,xn=null,Ba(t,n,f,5);break;case 6:et=0,xn=null,Ba(t,n,f,6);break;case 8:dd(),vt=6;break e;default:throw Error(a(462))}}Y1();break}catch(G){jy(t,G)}while(!0);return Wi=Br=null,H.H=o,H.A=h,Ye=r,De!==null?0:(at=null,Ve=0,Vu(),vt)}function Y1(){for(;De!==null&&!Qi();)Gy(De)}function Gy(t){var n=my(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?gc(t):De=n}function Fy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ly(r,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=ly(r,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:xf(n);default:py(r,n),n=De=Hg(n,us),n=my(r,n,us)}t.memoizedProps=t.pendingProps,n===null?gc(t):De=n}function Ba(t,n,r,o){Wi=Br=null,xf(n),Na=null,Yo=0;var h=n.return;try{if(z1(t,h,n,r,Ve)){vt=1,nc(t,Hn(r,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;vt=1,nc(t,Hn(r,t.current)),De=null;return}n.flags&32768?(je||o===1?t=!0:La||(Ve&536870912)!==0?t=!1:(Hs=t=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(n,t)):gc(n)}function gc(t){var n=t;do{if((n.flags&32768)!==0){Qy(n,Hs);return}t=n.return;var r=P1(n.alternate,n,us);if(r!==null){De=r;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);vt===0&&(vt=5)}function Qy(t,n){do{var r=j1(t.alternate,t);if(r!==null){r.flags&=32767,De=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=r}while(t!==null);vt=6,De=null}function Ky(t,n,r,o,h,f,p,E,I){t.cancelPendingCommit=null;do pc();while(Ut!==0);if((Ye&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=tf,Qh(t,r,f,p,E,I),t===at&&(De=at=null,Ve=0),Pa=n,Qs=t,cs=r,cd=f,hd=h,zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Z1(Xt,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=ne.p,ne.p=2,p=Ye,Ye|=4;try{B1(t,n,r)}finally{Ye=p,ne.p=h,H.T=o}}Ut=1,Yy(),Xy(),$y()}}function Yy(){if(Ut===1){Ut=0;var t=Qs,n=Pa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=ne.p;ne.p=2;var h=Ye;Ye|=4;try{Cy(n,t);var f=Rd,p=Vg(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Mg(E.ownerDocument.documentElement,E)){if(I!==null&&$h(E)){var P=I.start,G=I.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),le=E.textContent.length,pe=Math.min(I.start,le),rt=I.end===void 0?pe:Math.min(I.end,le);!q.extend&&pe>rt&&(p=rt,rt=pe,pe=p);var k=Og(E,pe),D=Og(E,rt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var U=Y.createRange();U.setStart(k.node,k.offset),q.removeAllRanges(),pe>rt?(q.addRange(U),q.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),q.addRange(U))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Cc=!!wd,Rd=wd=null}finally{Ye=h,ne.p=o,H.T=r}}t.current=n,Ut=2}}function Xy(){if(Ut===2){Ut=0;var t=Qs,n=Pa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=ne.p;ne.p=2;var h=Ye;Ye|=4;try{Sy(t,n.alternate,n)}finally{Ye=h,ne.p=o,H.T=r}}Ut=3}}function $y(){if(Ut===4||Ut===3){Ut=0,Ss();var t=Qs,n=Pa,r=cs,o=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,Pa=Qs=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Ki(r),n=n.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ni,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=ne.p,ne.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,ne.p=h}}(cs&3)!==0&&pc(),Ui(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===fd?hl++:(hl=0,fd=t):hl=0,fl(0)}}function Jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Qo(n)))}function pc(){return Yy(),Xy(),$y(),Zy()}function Zy(){if(Ut!==5)return!1;var t=Qs,n=cd;cd=0;var r=Ki(cs),o=H.T,h=ne.p;try{ne.p=32>r?32:r,H.T=null,r=hd,hd=null;var f=Qs,p=cs;if(Ut=0,Pa=Qs=null,cs=0,(Ye&6)!==0)throw Error(a(331));var E=Ye;if(Ye|=4,My(f.current),Ny(f,f.current,p,r),Ye=E,fl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ni,f)}catch{}return!0}finally{ne.p=h,H.T=o,Jy(t,n)}}function Wy(t,n,r){n=Hn(r,n),n=Gf(t.stateNode,n,2),t=Ps(t,n,2),t!==null&&(Ar(t,2),Ui(t))}function tt(t,n,r){if(t.tag===3)Wy(t,t,r);else for(;n!==null;){if(n.tag===3){Wy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){t=Hn(r,t),r=ey(2),o=Ps(n,r,2),o!==null&&(ty(r,o,n,t),Ar(o,2),Ui(o));break}}n=n.return}}function gd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new G1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(od=!0,h.add(r),t=X1.bind(null,t,n,r),n.then(t,t))}function X1(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,at===t&&(Ve&r)===r&&(vt===4||vt===3&&(Ve&62914560)===Ve&&300>Yt()-cc?(Ye&2)===0&&ja(t,0):ld|=r,Ua===Ve&&(Ua=0)),Ui(t)}function e_(t,n){n===0&&(n=fu()),t=Ur(t,n),t!==null&&(Ar(t,n),Ui(t))}function $1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),e_(t,r)}function J1(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),e_(t,r)}function Z1(t,n){return Ze(t,n)}var yc=null,qa=null,pd=!1,_c=!1,yd=!1,Ys=0;function Ui(t){t!==qa&&t.next===null&&(qa===null?yc=qa=t:qa=qa.next=t),_c=!0,pd||(pd=!0,eb())}function fl(t,n){if(!yd&&_c){yd=!0;do for(var r=!1,o=yc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Tt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,s_(o,f))}else f=Ve,f=Ei(o,o===at?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ii(o,f)||(r=!0,s_(o,f));o=o.next}while(r);yd=!1}}function W1(){t_()}function t_(){_c=pd=!1;var t=0;Ys!==0&&cb()&&(t=Ys);for(var n=Yt(),r=null,o=yc;o!==null;){var h=o.next,f=n_(o,n);f===0?(o.next=null,r===null?yc=h:r.next=h,h===null&&(qa=r)):(r=o,(t!==0||(f&3)!==0)&&(_c=!0)),o=h}Ut!==0&&Ut!==5||fl(t),Ys!==0&&(Ys=0)}function n_(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Tt(f),E=1<<p,I=h[p];I===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Fh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=at,r=Ve,r=Ei(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&It(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ii(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&It(o),Ki(r)){case 2:case 8:r=ti;break;case 32:r=Xt;break;case 268435456:r=ou;break;default:r=Xt}return o=i_.bind(null,t),r=Ze(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&It(o),t.callbackPriority=2,t.callbackNode=null,2}function i_(t,n){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(pc()&&t.callbackNode!==r)return null;var o=Ve;return o=Ei(t,t===at?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Uy(t,o,n),n_(t,Yt()),t.callbackNode!=null&&t.callbackNode===r?i_.bind(null,t):null)}function s_(t,n){if(pc())return null;Uy(t,n,!0)}function eb(){fb(function(){(Ye&6)!==0?Ze(ei,W1):t_()})}function _d(){if(Ys===0){var t=Ia;t===0&&(t=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Ys=t}return Ys}function r_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function a_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function tb(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=r_((h[qt]||null).action),p=o.submitter;p&&(n=(n=p[qt]||null)?r_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Di("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ys!==0){var I=p?a_(h,p):new FormData(h);Uf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?a_(h,p):new FormData(h),Uf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var vd=0;vd<ef.length;vd++){var Ed=ef[vd],nb=Ed.toLowerCase(),ib=Ed[0].toUpperCase()+Ed.slice(1);hi(nb,"on"+ib)}hi(Lg,"onAnimationEnd"),hi(Ug,"onAnimationIteration"),hi(Pg,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(v1,"onTransitionRun"),hi(E1,"onTransitionStart"),hi(T1,"onTransitionCancel"),hi(jg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function o_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Mu(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Mu(G)}h.currentTarget=null,f=I}}}}function Oe(t,n){var r=n[oa];r===void 0&&(r=n[oa]=new Set);var o=t+"__bubble";r.has(o)||(l_(n,t,2,!1),r.add(o))}function Td(t,n,r){var o=0;n&&(o|=4),l_(r,t,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[vc]){t[vc]=!0,wo.forEach(function(r){r!=="selectionchange"&&(sb.has(r)||Td(r,!1,t),Td(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,Td("selectionchange",!1,n))}}function l_(t,n,r,o){switch(L_(n)){case 2:var h=Ob;break;case 8:h=Mb;break;default:h=Ld}r=h.bind(null,n,r,t),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Sd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ai(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue e}E=E.parentNode}}o=o.return}xs(function(){var P=f,G=Pn(r),Y=[];e:{var j=Bg.get(t);if(j!==void 0){var q=Di,le=t;switch(t){case"keypress":if(Or(r)===0)break e;case"keydown":case"keyup":q=Nu;break;case"focusin":le="focus",q=Vr;break;case"focusout":le="blur",q=Vr;break;case"beforeblur":case"afterblur":q=Vr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Lg:case Ug:case Pg:q=Su;break;case jg:q=T;break;case"scroll":case"scrollend":q=Lo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=$i;break;case"toggle":case"beforetoggle":q=Re}var pe=(n&4)!==0,rt=!pe&&(t==="scroll"||t==="scrollend"),k=pe?j!==null?j+"Capture":null:j;pe=[];for(var D=P,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||k===null||(Q=oi(D,k),Q!=null&&pe.push(ml(D,Q,U))),rt)break;D=D.return}0<pe.length&&(j=new q(j,le,null,r,G),Y.push({event:j,listeners:pe}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&r!==Vo&&(le=r.relatedTarget||r.fromElement)&&(Ai(le)||le[bi]))break e;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(le=r.relatedTarget||r.toElement,q=P,le=le?Ai(le):null,le!==null&&(rt=c(le),pe=le.tag,le!==rt||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(q=null,le=P),q!==le)){if(pe=Uo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=$i,Q="onPointerLeave",k="onPointerEnter",D="pointer"),rt=q==null?j:Sn(q),U=le==null?j:Sn(le),j=new pe(Q,D+"leave",q,r,G),j.target=rt,j.relatedTarget=U,Q=null,Ai(G)===P&&(pe=new pe(k,D+"enter",le,r,G),pe.target=U,pe.relatedTarget=rt,Q=pe),rt=Q,q&&le)t:{for(pe=rb,k=q,D=le,U=0,Q=k;Q;Q=pe(Q))U++;Q=0;for(var fe=D;fe;fe=pe(fe))Q++;for(;0<U-Q;)k=pe(k),U--;for(;0<Q-U;)D=pe(D),Q--;for(;U--;){if(k===D||D!==null&&k===D.alternate){pe=k;break t}k=pe(k),D=pe(D)}pe=null}else pe=null;q!==null&&u_(Y,j,q,pe,!1),le!==null&&rt!==null&&u_(Y,rt,le,pe,!0)}}e:{if(j=P?Sn(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Fe=Rg;else if(Ag(j))if(Ig)Fe=p1;else{Fe=m1;var ce=d1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&ha(P.elementType)&&(Fe=Rg):Fe=g1;if(Fe&&(Fe=Fe(t,P))){wg(Y,Fe,r,G);break e}ce&&ce(t,j,P),t==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(ce=P?Sn(P):window,t){case"focusin":(Ag(ce)||ce.contentEditable==="true")&&(va=ce,Jh=P,Ho=null);break;case"focusout":Ho=Jh=va=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,kg(Y,r,G);break;case"selectionchange":if(_1)break;case"keydown":case"keyup":kg(Y,r,G)}var Ce;if(Ke)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else _a?kr(t,r)&&(ke="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ke="onCompositionStart");ke&&(Vi&&r.locale!=="ko"&&(_a||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&_a&&(Ce=zo()):(Ni=G,ko="value"in Ni?Ni.value:Ni.textContent,_a=!0)),ce=Ec(P,ke),0<ce.length&&(ke=new Mi(ke,t,null,r,G),Y.push({event:ke,listeners:ce}),Ce?ke.data=Ce:(Ce=ya(r),Ce!==null&&(ke.data=Ce)))),(Ce=Bn?u1(t,r):c1(t,r))&&(ke=Ec(P,"onBeforeInput"),0<ke.length&&(ce=new Mi("onBeforeInput","beforeinput",null,r,G),Y.push({event:ce,listeners:ke}),ce.data=Ce)),tb(Y,t,P,r,G)}o_(Y,n)})}function ml(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ec(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(t,r),h!=null&&o.unshift(ml(t,h,f)),h=oi(t,n),h!=null&&o.push(ml(t,h,f))),t.tag===3)return o;t=t.return}return[]}function rb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function u_(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=oi(r,f),P!=null&&p.unshift(ml(r,P,I))):h||(P=oi(r,f),P!=null&&p.push(ml(r,P,I)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var ab=/\r\n?/g,ob=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(ab,`
`).replace(ob,"")}function h_(t,n){return n=c_(n),c_(t)===n}function st(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(t,""+o);break;case"className":An(t,"class",o);break;case"tabIndex":An(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,r,o);break;case"style":Mo(t,o,f);break;case"data":if(n!=="object"){An(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=fa(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&st(t,n,"name",h.name,h,null),st(t,n,"formEncType",h.formEncType,h,null),st(t,n,"formMethod",h.formMethod,h,null),st(t,n,"formTarget",h.formTarget,h,null)):(st(t,n,"encType",h.encType,h,null),st(t,n,"method",h.method,h,null),st(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=fa(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ai);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=fa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ua(t,"popover",o);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Eu.get(r)||r,ua(t,r,o))}}function Ad(t,n,r,o,h,f){switch(r){case"style":Mo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?pn(t,o):(typeof o=="number"||typeof o=="bigint")&&pn(t,""+o);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[qt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ua(t,r,o)}}}function tn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,f,p,r,null)}}h&&st(t,n,"srcSet",r.srcSet,r,null),o&&st(t,n,"src",r.src,r,null);return;case"input":Oe("invalid",t);var E=f=p=h=null,I=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:st(t,n,o,G,r,null)}}yu(t,f,E,I,P,p,h,!1);return;case"select":Oe("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:st(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!o,n!=null?ws(t,!!o,n,!1):r!=null&&ws(t,!!o,r,!0);return;case"textarea":Oe("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:st(t,n,p,E,r,null)}Rs(t,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":st(t,n,I,o,r,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(o=0;o<dl.length;o++)Oe(dl[o],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,P,o,r,null)}return;default:if(ha(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&Ad(t,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&st(t,n,E,o,r,null))}function lb(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,P=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(q)||st(t,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&st(t,n,j,q,o,Y)}}ca(t,p,E,I,P,G,f,h);return;case"select":q=p=E=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||st(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&st(t,n,h,f,o,I)}n=E,r=p,o=q,j!=null?ws(t,!!r,j,!1):!!o!=!!r&&(n!=null?ws(t,!!r,n,!0):ws(t,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&st(t,n,p,h,o,f)}_u(t,j,q);return;case"option":for(var le in r)j=r[le],r.hasOwnProperty(le)&&j!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:st(t,n,le,null,o,j));for(I in o)j=o[I],q=r[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?t.selected=j&&typeof j!="function"&&typeof j!="symbol":st(t,n,I,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in r)j=r[pe],r.hasOwnProperty(pe)&&j!=null&&!o.hasOwnProperty(pe)&&st(t,n,pe,null,o,j);for(P in o)if(j=o[P],q=r[P],o.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:st(t,n,P,j,o,q)}return;default:if(ha(n)){for(var rt in r)j=r[rt],r.hasOwnProperty(rt)&&j!==void 0&&!o.hasOwnProperty(rt)&&Ad(t,n,rt,void 0,o,j);for(G in o)j=o[G],q=r[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||Ad(t,n,G,j,o,q);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&st(t,n,k,null,o,j);for(Y in o)j=o[Y],q=r[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||st(t,n,Y,j,o,q)}function f_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ub(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&f_(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],P=I.startTime;if(P>E)break;var G=I.transferSize,Y=I.initiatorType;G&&f_(Y)&&(I=I.responseEnd,p+=G*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wd=null,Rd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function d_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Id(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function cb(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,hb=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,fb=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(db)}:g_;function db(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function y_(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Qa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")gl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,gl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&gl(t.ownerDocument.body);r=h}while(r);Qa(n)}function __(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":xd(r),la(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function mb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function gb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Yn(t.nextSibling),t===null))return null;return t}function v_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Yn(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$?"||t.data==="$~"}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Od=null;function E_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Yn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function T_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function b_(t,n,r){switch(n=Tc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function gl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);la(t)}var Xn=new Map,S_=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=ne.d;ne.d={f:yb,r:_b,D:vb,C:Eb,L:Tb,m:bb,X:Ab,S:Sb,M:wb};function yb(){var t=hs.f(),n=dc();return t||n}function _b(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?jp(n):hs.r(t)}var Ha=typeof document>"u"?null:document;function A_(t,n,r){var o=Ha;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),S_.has(h)||(S_.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",t),Nt(n),o.head.appendChild(n)))}}function vb(t){hs.D(t),A_("dns-prefetch",t,null)}function Eb(t,n){hs.C(t,n),A_("preconnect",t,n)}function Tb(t,n,r){hs.L(t,n,r);var o=Ha;if(o&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+gn(r.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=Ga(t);break;case"script":f=Fa(t)}Xn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Xn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),tn(n,"link",t),Nt(n),o.head.appendChild(n)))}}function bb(t,n){hs.m(t,n);var r=Ha;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(t)}if(!Xn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Xn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yl(f)))return}o=r.createElement("link"),tn(o,"link",t),Nt(o),r.head.appendChild(o)}}}function Sb(t,n,r){hs.S(t,n,r);var o=Ha;if(o&&t){var h=wi(o).hoistableStyles,f=Ga(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(pl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Xn.get(f))&&Md(t,r);var I=p=o.createElement("link");Nt(I),tn(I,"link",t),I._p=new Promise(function(P,G){I.onload=P,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function Ab(t,n){hs.X(t,n);var r=Ha;if(r&&t){var o=wi(r).hoistableScripts,h=Fa(t),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(t=A({src:t,async:!0},n),(n=Xn.get(h))&&Vd(t,n),f=r.createElement("script"),Nt(f),tn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function wb(t,n){hs.M(t,n);var r=Ha;if(r&&t){var o=wi(r).hoistableScripts,h=Fa(t),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Xn.get(h))&&Vd(t,n),f=r.createElement("script"),Nt(f),tn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w_(t,n,r,o){var h=(h=we.current)?bc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ga(r.href),r=wi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ga(r.href);var f=wi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(pl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Xn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xn.set(t,r),f||Rb(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(r),r=wi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ga(t){return'href="'+gn(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function R_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Rb(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",r),Nt(n),t.head.appendChild(n))}function Fa(t){return'[src="'+gn(t)+'"]'}function yl(t){return"script[async]"+t}function I_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+gn(r.href)+'"]');if(o)return n.instance=o,Nt(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Nt(o),tn(o,"style",h),Sc(o,r.precedence,t),n.instance=o;case"stylesheet":h=Ga(r.href);var f=t.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,Nt(f),f;o=R_(r),(h=Xn.get(h))&&Md(o,h),f=(t.ownerDocument||t).createElement("link"),Nt(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),tn(f,"link",o),n.state.loading|=4,Sc(f,r.precedence,t),n.instance=f;case"script":return f=Fa(r.src),(h=t.querySelector(yl(f)))?(n.instance=h,Nt(h),h):(o=r,(h=Xn.get(f))&&(o=A({},r),Vd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),tn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,r.precedence,t));return n.instance}function Sc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ac=null;function C_(t,n,r){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(r,o)}else h=Ac,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Si]||f[xt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function x_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Ib(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function N_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Cb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ga(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Nt(f);return}f=n.ownerDocument||n,o=R_(o),(h=Xn.get(h))&&Md(o,h),f=f.createElement("link"),Nt(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),tn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=wc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var kd=0;function xb(t,n){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&kd===0&&(kd=62500*ub());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>kd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Ic(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,n.forEach(Nb,t),Rc=null,wc.call(t))}function Nb(t,n){if(!(n.state.loading&4)){var r=Rc.get(t);if(r)var o=r.get(null);else{r=new Map,Rc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _l={$$typeof:_e,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Db(t,n,r,o,h,f,p,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function D_(t,n,r,o,h,f,p,E,I,P,G,Y){return t=new Db(t,n,r,p,I,P,G,Y,E),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),t.current=f,f.stateNode=t,n=mf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},_f(f),t}function O_(t){return t?(t=ba,t):ba}function M_(t,n,r,o,h,f){h=O_(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ps(t,o,n),r!==null&&(Tn(r,t,n),$o(r,t,n))}function V_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function zd(t,n){V_(t,n),(t=t.alternate)&&V_(t,n)}function k_(t){if(t.tag===13||t.tag===31){var n=Ur(t,67108864);n!==null&&Tn(n,t,67108864),zd(t,67108864)}}function z_(t){if(t.tag===13||t.tag===31){var n=Dn();n=Rr(n);var r=Ur(t,n);r!==null&&Tn(r,t,n),zd(t,n)}}var Cc=!0;function Ob(t,n,r,o){var h=H.T;H.T=null;var f=ne.p;try{ne.p=2,Ld(t,n,r,o)}finally{ne.p=f,H.T=h}}function Mb(t,n,r,o){var h=H.T;H.T=null;var f=ne.p;try{ne.p=8,Ld(t,n,r,o)}finally{ne.p=f,H.T=h}}function Ld(t,n,r,o){if(Cc){var h=Ud(o);if(h===null)Sd(t,n,o,xc,r),U_(t,o);else if(kb(h,t,n,r,o))o.stopPropagation();else if(U_(t,o),n&4&&-1<Vb.indexOf(t)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=vi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-Tt(p);E.entanglements[1]|=I,p&=~I}Ui(f),(Ye&6)===0&&(hc=Yt()+500,fl(0))}}break;case 31:case 13:E=Ur(f,2),E!==null&&Tn(E,f,2),dc(),zd(f,2)}if(f=Ud(o),f===null&&Sd(t,n,o,xc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Sd(t,n,o,null,r)}}function Ud(t){return t=Pn(t),Pd(t)}var xc=null;function Pd(t){if(xc=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function L_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wn()){case ei:return 2;case ti:return 8;case Xt:case Gh:return 32;case ou:return 268435456;default:return 32}default:return 32}}var jd=!1,$s=null,Js=null,Zs=null,vl=new Map,El=new Map,Ws=[],Vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&k_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function kb(t,n,r,o,h){switch(n){case"focusin":return $s=Tl($s,t,n,r,o,h),!0;case"dragenter":return Js=Tl(Js,t,n,r,o,h),!0;case"mouseover":return Zs=Tl(Zs,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,t,n,r,o,h)),!0}return!1}function P_(t){var n=Ai(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,si(t.priority,function(){z_(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,si(t.priority,function(){z_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ud(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Vo=o,r.target.dispatchEvent(o),Vo=null}else return n=Un(r),n!==null&&k_(n),t.blockedOn=r,!1;n.shift()}return!0}function j_(t,n,r){Nc(t)&&r.delete(n)}function zb(){jd=!1,$s!==null&&Nc($s)&&($s=null),Js!==null&&Nc(Js)&&(Js=null),Zs!==null&&Nc(Zs)&&(Zs=null),vl.forEach(j_),El.forEach(j_)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zb)))}var Oc=null;function B_(t){Oc!==t&&(Oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Pd(o||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,Uf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Qa(t){function n(I){return Dc(I,t)}$s!==null&&Dc($s,t),Js!==null&&Dc(Js,t),Zs!==null&&Dc(Zs,t),vl.forEach(n),El.forEach(n);for(var r=0;r<Ws.length;r++){var o=Ws[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)P_(r),r.blockedOn===null&&Ws.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[qt]||null;if(typeof f=="function")p||B_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[qt]||null)E=p.formAction;else if(Pd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),B_(r)}}}function q_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Bd(t){this._internalRoot=t}Mc.prototype.render=Bd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Dn();M_(r,o,t,n,null,null)},Mc.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;M_(t.current,2,null,t,null,null),dc(),n[bi]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=du();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ws.length&&n!==0&&n<Ws[r].priority;r++);Ws.splice(r,0,t),r===0&&P_(t)}};var H_=e.version;if(H_!=="19.2.3")throw Error(a(527,H_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Lb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{ni=Vc.inject(Lb),$t=Vc}catch{}}return Sl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=$p,f=Jp,p=Zp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=D_(t,1,!1,null,null,r,o,null,h,f,p,q_),t[bi]=n.current,bd(t),new Bd(n)},Sl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=$p,p=Jp,E=Zp,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=D_(t,1,!0,n,r??null,o,h,I,f,p,E,q_),n.context=O_(null),r=n.current,o=Dn(),o=Rr(o),h=Us(o),h.callback=null,Ps(r,h,o),r=o,n.current.lanes=r,Ar(n,r),Ui(n),t[bi]=n.current,bd(t),new Mc(n)},Sl.version="19.2.3",Sl}var W_;function Yb(){if(W_)return Gd.exports;W_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=Kb(),Gd.exports}var Xb=Yb();const $b=()=>{};var e0={};const Ov=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Jb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,b=c>>2,A=(c&3)<<4|y>>4;let O=(y&15)<<2|_>>6,F=_&63;g||(F=64,d||(O=64)),a.push(i[b],i[A],i[O],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ov(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Jb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||A==null)throw new Zb;const O=c<<2|y>>4;if(a.push(O),_!==64){const F=y<<4&240|_>>2;if(a.push(F),A!==64){const J=_<<6&192|A;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Zb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wb=function(s){const e=Ov(s);return Mv.encodeByteArray(e,!0)},eh=function(s){return Wb(s).replace(/\./g,"")},Vv=function(s){try{return Mv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tS=()=>eS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof e0>"u")return;const s=e0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},iS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Vv(s[1]);return e&&JSON.parse(e)},bh=()=>{try{return $b()||tS()||nS()||iS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},kv=s=>bh()?.emulatorHosts?.[s],sS=s=>{const e=kv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},zv=()=>bh()?.config,Lv=s=>bh()?.[`_${s}`];class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function po(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(s){return(await fetch(s,{credentials:"include"})).ok}function aS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const Nl={};function oS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?s.emulator.push(e):s.prod.push(e);return s}function lS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let t0=!1;function Pv(s,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Nl[s]===e||Nl[s]||t0)return;Nl[s]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=oS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function g(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{t0=!0,d()},O}function b(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=lS(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),se=i("learnmore"),ie=document.getElementById(se)||document.createElement("a"),ge=i("preprendIcon"),Ae=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const _e=O.element;y(_e),b(ie,se);const Xe=_();g(Ae,ge),_e.append(Ae,J,ie,Xe),document.body.appendChild(_e)}c?(J.innerText="Preview backend disconnected.",Ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function cS(){const s=bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function dS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){const s=hn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function gS(){return!cS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const _S="FirebaseError";class bs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=_S,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?vS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new bs(l,y,a)}}function vS(s,e){return s.replace(ES,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const ES=/\{\$([^}]+)}/g;function TS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function dr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(n0(c)&&n0(d)){if(!dr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function n0(s){return s!==null&&typeof s=="object"}function Yl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function bS(s,e){const i=new SS(s,e);return i.subscribe.bind(i)}class SS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");AS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Yd),l.error===void 0&&(l.error=Yd),l.complete===void 0&&(l.complete=Yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Yd(){}function rn(s){return s&&s._delegate?s._delegate:s}class ea{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jr="[DEFAULT]";class wS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new rS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:RS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RS(s){return s===Jr?void 0:s}function IS(s){return s.instantiationMode==="EAGER"}class CS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const xS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},NS=ze.INFO,DS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},OS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=DS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=NS,this._logHandler=OS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const MS=(s,e)=>e.some(i=>s instanceof i);let i0,s0;function VS(){return i0||(i0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return s0||(s0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,om=new WeakMap,Bv=new WeakMap,Xd=new WeakMap,km=new WeakMap;function zS(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(lr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&jv.set(i,s)}).catch(()=>{}),km.set(e,s),e}function LS(s){if(om.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,e)}let lm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Bv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function US(s){lm=s(lm)}function PS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call($d(this),e,...i);return Bv.set(a,e.sort?e.sort():[e]),lr(a)}:kS().includes(s)?function(...e){return s.apply($d(this),e),lr(jv.get(this))}:function(...e){return lr(s.apply($d(this),e))}}function jS(s){return typeof s=="function"?PS(s):(s instanceof IDBTransaction&&LS(s),MS(s,VS())?new Proxy(s,lm):s)}function lr(s){if(s instanceof IDBRequest)return zS(s);if(Xd.has(s))return Xd.get(s);const e=jS(s);return e!==s&&(Xd.set(s,e),km.set(e,s)),e}const $d=s=>km.get(s);function BS(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),y=lr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(lr(d.result),g.oldVersion,g.newVersion,lr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const qS=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],Jd=new Map;function r0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=HS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||qS.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return Jd.set(e,c),c}US(s=>({...s,get:(e,i,a)=>r0(e,i)||s.get(e,i,a),has:(e,i)=>!!r0(e,i)||s.has(e,i)}));class GS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(FS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function FS(s){return s.getComponent()?.type==="VERSION"}const um="@firebase/app",a0="0.14.7";const ps=new Vm("@firebase/app"),QS="@firebase/app-compat",KS="@firebase/analytics-compat",YS="@firebase/analytics",XS="@firebase/app-check-compat",$S="@firebase/app-check",JS="@firebase/auth",ZS="@firebase/auth-compat",WS="@firebase/database",eA="@firebase/data-connect",tA="@firebase/database-compat",nA="@firebase/functions",iA="@firebase/functions-compat",sA="@firebase/installations",rA="@firebase/installations-compat",aA="@firebase/messaging",oA="@firebase/messaging-compat",lA="@firebase/performance",uA="@firebase/performance-compat",cA="@firebase/remote-config",hA="@firebase/remote-config-compat",fA="@firebase/storage",dA="@firebase/storage-compat",mA="@firebase/firestore",gA="@firebase/ai",pA="@firebase/firestore-compat",yA="firebase",_A="12.8.0";const cm="[DEFAULT]",vA={[um]:"fire-core",[QS]:"fire-core-compat",[YS]:"fire-analytics",[KS]:"fire-analytics-compat",[$S]:"fire-app-check",[XS]:"fire-app-check-compat",[JS]:"fire-auth",[ZS]:"fire-auth-compat",[WS]:"fire-rtdb",[eA]:"fire-data-connect",[tA]:"fire-rtdb-compat",[nA]:"fire-fn",[iA]:"fire-fn-compat",[sA]:"fire-iid",[rA]:"fire-iid-compat",[aA]:"fire-fcm",[oA]:"fire-fcm-compat",[lA]:"fire-perf",[uA]:"fire-perf-compat",[cA]:"fire-rc",[hA]:"fire-rc-compat",[fA]:"fire-gcs",[dA]:"fire-gcs-compat",[mA]:"fire-fst",[pA]:"fire-fst-compat",[gA]:"fire-vertex","fire-js":"fire-js",[yA]:"fire-js-all"};const th=new Map,EA=new Map,hm=new Map;function o0(s,e){try{s.container.addComponent(e)}catch(i){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function oo(s){const e=s.name;if(hm.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,s);for(const i of th.values())o0(i,s);for(const i of EA.values())o0(i,s);return!0}function zm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Jn(s){return s==null?!1:s.settings!==void 0}const TA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Kl("app","Firebase",TA);class bA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const yo=_A;function qv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:cm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ur.create("bad-app-name",{appName:String(l)});if(i||(i=zv()),!i)throw ur.create("no-options");const c=th.get(l);if(c){if(dr(i,c.options)&&dr(a,c.config))return c;throw ur.create("duplicate-app",{appName:l})}const d=new CS(l);for(const g of hm.values())d.addComponent(g);const y=new bA(i,a,d);return th.set(l,y),y}function Hv(s=cm){const e=th.get(s);if(!e&&s===cm&&zv())return qv();if(!e)throw ur.create("no-app",{appName:s});return e}function cr(s,e,i){let a=vA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(d.join(" "));return}oo(new ea(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const SA="firebase-heartbeat-database",AA=1,Ll="firebase-heartbeat-store";let Zd=null;function Gv(){return Zd||(Zd=BS(SA,AA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function wA(s){try{const i=(await Gv()).transaction(Ll),a=await i.objectStore(Ll).get(Fv(s));return await i.done,a}catch(e){if(e instanceof bs)ps.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e?.message});ps.warn(i.message)}}}async function l0(s,e){try{const a=(await Gv()).transaction(Ll,"readwrite");await a.objectStore(Ll).put(e,Fv(s)),await a.done}catch(i){if(i instanceof bs)ps.warn(i.message);else{const a=ur.create("idb-set",{originalErrorMessage:i?.message});ps.warn(a.message)}}}function Fv(s){return`${s.name}!${s.options.appId}`}const RA=1024,IA=30;class CA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new NA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=u0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>IA){const l=DA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u0(),{heartbeatsToSend:i,unsentEntries:a}=xA(this._heartbeatsCache.heartbeats),l=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ps.warn(e),""}}}function u0(){return new Date().toISOString().substring(0,10)}function xA(s,e=RA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),c0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),c0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class NA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?yS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await wA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return l0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return l0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function c0(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function DA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function OA(s){oo(new ea("platform-logger",e=>new GS(e),"PRIVATE")),oo(new ea("heartbeat",e=>new CA(e),"PRIVATE")),cr(um,a0,s),cr(um,a0,"esm2020"),cr("fire-js","")}OA("");var MA="firebase",VA="12.8.0";cr(MA,VA,"app");function Qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kA=Qv,Kv=new Kl("auth","Firebase",Qv());const nh=new Vm("@firebase/auth");function zA(s,...e){nh.logLevel<=ze.WARN&&nh.warn(`Auth (${yo}): ${s}`,...e)}function Gc(s,...e){nh.logLevel<=ze.ERROR&&nh.error(`Auth (${yo}): ${s}`,...e)}function ys(s,...e){throw Lm(s,...e)}function ji(s,...e){return Lm(s,...e)}function Yv(s,e,i){const a={...kA(),[e]:i};return new Kl("auth","Firebase",a).create(e,{appName:s.name})}function ms(s){return Yv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Kv.create(s,...e)}function Te(s,e,...i){if(!s)throw Lm(e,...i)}function fs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function _s(s,e){s||fs(e)}function fm(){return typeof self<"u"&&self.location?.href||""}function LA(){return h0()==="http:"||h0()==="https:"}function h0(){return typeof self<"u"&&self.location?.protocol||null}function UA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LA()||fS()||"connection"in navigator)?navigator.onLine:!0}function PA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xl{constructor(e,i){this.shortDelay=e,this.longDelay=i,_s(i>e,"Short delay should be less than long delay!"),this.isMobile=uS()||dS()}get(){return UA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Um(s,e){_s(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Xv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qA=new Xl(3e4,6e4);function $l(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function _o(s,e,i,a,l={}){return $v(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Yl({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return hS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&po(s.emulatorConfig.host)&&(_.credentials="include"),Xv.fetch()(await Jv(s,s.config.apiHost,i,y),_)})}async function $v(s,e,i){s._canInitEmulator=!1;const a={...jA,...e};try{const l=new HA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw zc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw zc(s,"user-disabled",d);const b=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Yv(s,b,_);ys(s,b)}}catch(l){if(l instanceof bs)throw l;ys(s,"network-request-failed",{message:String(l)})}}async function Pm(s,e,i,a,l={}){const c=await _o(s,e,i,a,l);return"mfaPendingCredential"in c&&ys(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Jv(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Um(s.config,l):`${s.config.apiScheme}://${l}`;return BA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class HA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ji(this.auth,"network-request-failed")),qA.get())})}}function zc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ji(s,e,a);return l.customData._tokenResponse=i,l}async function GA(s,e){return _o(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return _o(s,"POST","/v1/accounts:lookup",e)}function Dl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FA(s,e=!1){const i=rn(s),a=await i.getIdToken(e),l=jm(a);Te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Dl(Wd(l.auth_time)),issuedAtTime:Dl(Wd(l.iat)),expirationTime:Dl(Wd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(s){return Number(s)*1e3}function jm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Vv(i);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function f0(s){const e=jm(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ul(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof bs&&QA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function QA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class KA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const e=s.auth,i=await s.getIdToken(),a=await Ul(s,ih(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Zv(l.providerUserInfo):[],d=XA(s.providerData,c),y=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=y?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function YA(s){const e=rn(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XA(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Zv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function $A(s,e){const i=await $v(s,{},async()=>{const a=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Jv(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return s.emulatorConfig&&po(s.emulatorConfig.host)&&(g.credentials="include"),Xv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function JA(s,e){return _o(s,"POST","/v2/accounts:revokeToken",$l(s,e))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=f0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await $A(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new to;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return fs("not implemented")}}function tr(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new KA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return FA(this,e)}reload(){return YA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await Ul(this,GA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:F,providerData:J,stsTokenManager:se}=i;Te(A&&se,e,"internal-error");const ie=to.fromJSON(this.name,se);Te(typeof A=="string",e,"internal-error"),tr(a,e.name),tr(l,e.name),Te(typeof O=="boolean",e,"internal-error"),Te(typeof F=="boolean",e,"internal-error"),tr(c,e.name),tr(d,e.name),tr(y,e.name),tr(g,e.name),tr(_,e.name),tr(b,e.name);const ge=new gi({uid:A,auth:e,email:l,emailVerified:O,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ie,createdAt:_,lastLoginAt:b});return J&&Array.isArray(J)&&(ge.providerData=J.map(Ae=>({...Ae}))),g&&(ge._redirectEventId=g),ge}static async _fromIdTokenResponse(e,i,a=!1){const l=new to;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await sh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Te(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Zv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new to;y.updateFromIdToken(a);const g=new gi({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const d0=new Map;function ds(s){_s(s instanceof Function,"Expected a class definition");let e=d0.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,d0.set(s,e),e)}class Wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Wv.type="NONE";const m0=Wv;function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class no{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new no(ds(m0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ds(m0);const d=Fc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const O=await ih(e,{idToken:b}).catch(()=>{});if(!O)break;A=await gi._fromGetAccountInfoResponse(e,O,b)}else A=gi._fromJSON(e,b);_!==c&&(y=A),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new no(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new no(c,e,a))}}function g0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rE(e))return"Blackberry";if(aE(e))return"Webos";if(tE(e))return"Safari";if((e.includes("chrome/")||nE(e))&&!e.includes("edge/"))return"Chrome";if(sE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function eE(s=hn()){return/firefox\//i.test(s)}function tE(s=hn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nE(s=hn()){return/crios\//i.test(s)}function iE(s=hn()){return/iemobile/i.test(s)}function sE(s=hn()){return/android/i.test(s)}function rE(s=hn()){return/blackberry/i.test(s)}function aE(s=hn()){return/webos/i.test(s)}function Bm(s=hn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ZA(s=hn()){return Bm(s)&&!!window.navigator?.standalone}function WA(){return mS()&&document.documentMode===10}function oE(s=hn()){return Bm(s)||sE(s)||aE(s)||rE(s)||/windows phone/i.test(s)||iE(s)}function lE(s,e=[]){let i;switch(s){case"Browser":i=g0(hn());break;case"Worker":i=`${g0(hn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${a}`}class ew{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function tw(s,e={}){return _o(s,"GET","/v2/passwordPolicy",$l(s,e))}const nw=6;class iw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??nw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class sw{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new ew(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(ms(this));const i=e?rn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tw(this),i=new iw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await JA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ds(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jl(s){return rn(s)}class p0{constructor(e){this.auth=e,this.observer=null,this.addObserver=bS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rw(s){qm=s}function aw(s){return qm.loadJS(s)}function ow(){return qm.gapiScript}function lw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function uw(s,e){const i=zm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(dr(c,e??{}))return l;ys(l,"already-initialized")}return i.initialize({options:e})}function cw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ds);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function hw(s,e,i){const a=Jl(s);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=uE(e),{host:d,port:y}=fw(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},b=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(dr(_,a.config.emulator)&&dr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,po(d)?(Uv(`${c}//${d}${g}`),Pv("Auth",!0)):dw()}function uE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function fw(s){const e=uE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:y0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:y0(d)}}}function y0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function dw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class cE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,i){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function io(s,e){return Pm(s,"POST","/v1/accounts:signInWithIdp",$l(s,e))}const mw="http://localhost";class ta extends cE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ys("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ta(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return io(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,io(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,io(e,i)}buildRequest(){const e={requestUri:mw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Yl(i)}return e}}class hE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zl extends hE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir extends Zl{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class sr extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ta._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return sr.credential(i,a)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class rr extends Zl{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends Zl{constructor(){super("twitter.com")}static credential(e,i){return ta._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function gw(s,e){return Pm(s,"POST","/v1/accounts:signUp",$l(s,e))}class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await gi._fromIdTokenResponse(e,a,l),d=_0(a);return new vs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=_0(a);return new vs({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function _0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function pw(s){if(Jn(s.app))return Promise.reject(ms(s));const e=Jl(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new vs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await gw(e,{returnSecureToken:!0}),a=await vs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class rh extends bs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new rh(e,i,a,l)}}function fE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,e,a):c})}async function yw(s,e,i=!1){const a=await Ul(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return vs._forOperation(s,"link",a)}async function _w(s,e,i=!1){const{auth:a}=s;if(Jn(a.app))return Promise.reject(ms(a));const l="reauthenticate";try{const c=await Ul(s,fE(a,l,e,s),i);Te(c.idToken,a,"internal-error");const d=jm(c.idToken);Te(d,a,"internal-error");const{sub:y}=d;return Te(s.uid===y,a,"user-mismatch"),vs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ys(a,"user-mismatch"),c}}async function vw(s,e,i=!1){if(Jn(s.app))return Promise.reject(ms(s));const a="signIn",l=await fE(s,a,e),c=await vs._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Ew(s,e){return Pm(s,"POST","/v1/accounts:signInWithCustomToken",$l(s,e))}async function Tw(s,e){if(Jn(s.app))return Promise.reject(ms(s));const i=Jl(s),a=await Ew(i,{token:e,returnSecureToken:!0}),l=await vs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function bw(s,e,i,a){return rn(s).onIdTokenChanged(e,i,a)}function Sw(s,e,i){return rn(s).beforeAuthStateChanged(e,i)}function Aw(s,e,i,a){return rn(s).onAuthStateChanged(e,i,a)}const ah="__sak";class dE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ww=1e3,Rw=10;class mE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);WA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Rw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}mE.type="LOCAL";const Iw=mE;class gE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}gE.type="SESSION";const pE=gE;function Cw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Sh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await Cw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];function Hm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class xw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Hm("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const O=A;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(O.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function Nw(s){Bi().location.href=s}function yE(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function Dw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ow(){return navigator?.serviceWorker?.controller||null}function Mw(){return yE()?self:null}const _E="firebaseLocalStorageDb",Vw=1,oh="firebaseLocalStorage",vE="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ah(s,e){return s.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function kw(){const s=indexedDB.deleteDatabase(_E);return new Wl(s).toPromise()}function mm(){const s=indexedDB.open(_E,Vw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(oh,{keyPath:vE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(oh)?e(a):(a.close(),await kw(),e(await mm()))})})}async function v0(s,e,i){const a=Ah(s,!0).put({[vE]:e,value:i});return new Wl(a).toPromise()}async function zw(s,e){const i=Ah(s,!1).get(e),a=await new Wl(i).toPromise();return a===void 0?null:a.value}function E0(s,e){const i=Ah(s,!0).delete(e);return new Wl(i).toPromise()}const Lw=800,Uw=3;class EE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Uw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(Mw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Dw(),!this.activeServiceWorker)return;this.sender=new xw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ow()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await v0(e,ah,"1"),await E0(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>v0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>zw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>E0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Ah(l,!1).getAll();return new Wl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EE.type="LOCAL";const Pw=EE;new Xl(3e4,6e4);function jw(s,e){return e?ds(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Gm extends cE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,i){return io(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Bw(s){return vw(s.auth,new Gm(s),s.bypassAuthState)}function qw(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),_w(i,new Gm(s),s.bypassAuthState)}async function Hw(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),yw(i,new Gm(s),s.bypassAuthState)}class TE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bw;case"linkViaPopup":case"linkViaRedirect":return Hw;case"reauthViaPopup":case"reauthViaRedirect":return qw;default:ys(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gw=new Xl(2e3,1e4);class Wa extends TE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gw.get())};e()}}Wa.currentPopupAction=null;const Fw="pendingRedirect",Qc=new Map;class Qw extends TE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const a=await Kw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kw(s,e){const i=$w(e),a=Xw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Yw(s,e){Qc.set(s._key(),e)}function Xw(s){return ds(s._redirectPersistence)}function $w(s){return Fc(Fw,s.config.apiKey,s.name)}async function Jw(s,e,i=!1){if(Jn(s.app))return Promise.reject(ms(s));const a=Jl(s),l=jw(a,e),d=await new Qw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Zw=600*1e3;class Ww{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!bE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zw&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(e))}saveEventToCache(e){this.cachedEventUids.add(T0(e)),this.lastProcessedEventTime=Date.now()}}function T0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function bE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function e2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(s);default:return!1}}async function t2(s,e={}){return _o(s,"GET","/v1/projects",e)}const n2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i2=/^https?/;async function s2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await t2(s);for(const i of e)try{if(r2(i))return}catch{}ys(s,"unauthorized-domain")}function r2(s){const e=fm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!i2.test(i))return!1;if(n2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const a2=new Xl(3e4,6e4);function b0(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function o2(s){return new Promise((e,i)=>{function a(){b0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b0(),i(ji(s,"network-request-failed"))},timeout:a2.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const l=lw("iframefcb");return Bi()[l]=()=>{gapi.load?a():i(ji(s,"network-request-failed"))},aw(`${ow()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function l2(s){return Kc=Kc||o2(s),Kc}const u2=new Xl(5e3,15e3),c2="__/auth/iframe",h2="emulator/auth/iframe",f2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m2(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Um(e,h2):`https://${s.config.authDomain}/${c2}`,a={apiKey:e.apiKey,appName:s.name,v:yo},l=d2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Yl(a).slice(1)}`}async function g2(s){const e=await l2(s),i=Bi().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:m2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ji(s,"network-request-failed"),y=Bi().setTimeout(()=>{c(d)},u2.get());function g(){Bi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const p2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y2=500,_2=600,v2="_blank",E2="http://localhost";class S0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T2(s,e,i,a=y2,l=_2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...p2,width:a.toString(),height:l.toString(),top:c,left:d},_=hn().toLowerCase();i&&(y=nE(_)?v2:i),eE(_)&&(e=e||E2,g.scrollbars="yes");const b=Object.entries(g).reduce((O,[F,J])=>`${O}${F}=${J},`,"");if(ZA(_)&&y!=="_self")return b2(e||"",y),new S0(null);const A=window.open(e||"",y,b);Te(A,s,"popup-blocked");try{A.focus()}catch{}return new S0(A)}function b2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const S2="__/auth/handler",A2="emulator/auth/handler",w2=encodeURIComponent("fac");async function A0(s,e,i,a,l,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:yo,eventId:l};if(e instanceof hE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",TS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof Zl){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const b of Object.keys(y))y[b]===void 0&&delete y[b];const g=await s._getAppCheckToken(),_=g?`#${w2}=${encodeURIComponent(g)}`:"";return`${R2(s)}?${Yl(y).slice(1)}${_}`}function R2({config:s}){return s.emulator?Um(s,A2):`https://${s.authDomain}/${S2}`}const em="webStorageSupport";class I2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=Jw,this._overrideRedirectResult=Yw}async _openPopup(e,i,a,l){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await A0(e,i,a,fm(),l);return T2(e,c,Hm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await A0(e,i,a,fm(),l);return Nw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await g2(e),a=new Ww(e);return i.register("authEvent",l=>(Te(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&i(!!c),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=s2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return oE()||tE()||Bm()}}const C2=I2;var w0="@firebase/auth",R0="1.12.0";class x2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function N2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D2(s){oo(new ea("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lE(s)},_=new sw(a,l,c,g);return cw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),oo(new ea("auth-internal",e=>{const i=Jl(e.getProvider("auth").getImmediate());return(a=>new x2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(w0,R0,N2(s)),cr(w0,R0,"esm2020")}const O2=300,M2=Lv("authIdTokenMaxAge")||O2;let I0=null;const V2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>M2)return;const l=i?.token;I0!==l&&(I0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function k2(s=Hv()){const e=zm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=uw(s,{popupRedirectResolver:C2,persistence:[Pw,Iw,pE]}),a=Lv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=V2(c.toString());Sw(i,d,()=>d(i.currentUser)),bw(i,y=>d(y))}}const l=kv("auth");return l&&hw(i,`http://${l}`),i}function z2(){return document.getElementsByTagName("head")?.[0]??document}rw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=ji("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",z2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D2("Browser");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,SE;(function(){var s;function e(x,w){function C(){}C.prototype=w.prototype,x.F=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,N,z){for(var R=Array(arguments.length-2),He=2;He<arguments.length;He++)R[He-2]=arguments[He];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],N=x.g[2];let z=x.g[3],R;R=w+(z^C&(N^z))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=z+(N^w&(C^N))+V[1]+3905402710&4294967295,z=w+(R<<12&4294967295|R>>>20),R=N+(C^z&(w^C))+V[2]+606105819&4294967295,N=z+(R<<17&4294967295|R>>>15),R=C+(w^N&(z^w))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(z^C&(N^z))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=z+(N^w&(C^N))+V[5]+1200080426&4294967295,z=w+(R<<12&4294967295|R>>>20),R=N+(C^z&(w^C))+V[6]+2821735955&4294967295,N=z+(R<<17&4294967295|R>>>15),R=C+(w^N&(z^w))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(z^C&(N^z))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=z+(N^w&(C^N))+V[9]+2336552879&4294967295,z=w+(R<<12&4294967295|R>>>20),R=N+(C^z&(w^C))+V[10]+4294925233&4294967295,N=z+(R<<17&4294967295|R>>>15),R=C+(w^N&(z^w))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(z^C&(N^z))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=z+(N^w&(C^N))+V[13]+4254626195&4294967295,z=w+(R<<12&4294967295|R>>>20),R=N+(C^z&(w^C))+V[14]+2792965006&4294967295,N=z+(R<<17&4294967295|R>>>15),R=C+(w^N&(z^w))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(N^z&(C^N))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=z+(C^N&(w^C))+V[6]+3225465664&4294967295,z=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(z^w))+V[11]+643717713&4294967295,N=z+(R<<14&4294967295|R>>>18),R=C+(z^w&(N^z))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^z&(C^N))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=z+(C^N&(w^C))+V[10]+38016083&4294967295,z=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(z^w))+V[15]+3634488961&4294967295,N=z+(R<<14&4294967295|R>>>18),R=C+(z^w&(N^z))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^z&(C^N))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=z+(C^N&(w^C))+V[14]+3275163606&4294967295,z=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(z^w))+V[3]+4107603335&4294967295,N=z+(R<<14&4294967295|R>>>18),R=C+(z^w&(N^z))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^z&(C^N))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=z+(C^N&(w^C))+V[2]+4243563512&4294967295,z=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(z^w))+V[7]+1735328473&4294967295,N=z+(R<<14&4294967295|R>>>18),R=C+(z^w&(N^z))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(C^N^z)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=z+(w^C^N)+V[8]+2272392833&4294967295,z=w+(R<<11&4294967295|R>>>21),R=N+(z^w^C)+V[11]+1839030562&4294967295,N=z+(R<<16&4294967295|R>>>16),R=C+(N^z^w)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^z)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=z+(w^C^N)+V[4]+1272893353&4294967295,z=w+(R<<11&4294967295|R>>>21),R=N+(z^w^C)+V[7]+4139469664&4294967295,N=z+(R<<16&4294967295|R>>>16),R=C+(N^z^w)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^z)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=z+(w^C^N)+V[0]+3936430074&4294967295,z=w+(R<<11&4294967295|R>>>21),R=N+(z^w^C)+V[3]+3572445317&4294967295,N=z+(R<<16&4294967295|R>>>16),R=C+(N^z^w)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^z)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=z+(w^C^N)+V[12]+3873151461&4294967295,z=w+(R<<11&4294967295|R>>>21),R=N+(z^w^C)+V[15]+530742520&4294967295,N=z+(R<<16&4294967295|R>>>16),R=C+(N^z^w)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(N^(C|~z))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=z+(C^(w|~N))+V[7]+1126891415&4294967295,z=w+(R<<10&4294967295|R>>>22),R=N+(w^(z|~C))+V[14]+2878612391&4294967295,N=z+(R<<15&4294967295|R>>>17),R=C+(z^(N|~w))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~z))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=z+(C^(w|~N))+V[3]+2399980690&4294967295,z=w+(R<<10&4294967295|R>>>22),R=N+(w^(z|~C))+V[10]+4293915773&4294967295,N=z+(R<<15&4294967295|R>>>17),R=C+(z^(N|~w))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~z))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=z+(C^(w|~N))+V[15]+4264355552&4294967295,z=w+(R<<10&4294967295|R>>>22),R=N+(w^(z|~C))+V[6]+2734768916&4294967295,N=z+(R<<15&4294967295|R>>>17),R=C+(z^(N|~w))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~z))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=z+(C^(w|~N))+V[11]+3174756917&4294967295,z=w+(R<<10&4294967295|R>>>22),R=N+(w^(z|~C))+V[2]+718787259&4294967295,N=z+(R<<15&4294967295|R>>>17),R=C+(z^(N|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+z&4294967295}a.prototype.v=function(x,w){w===void 0&&(w=x.length);const C=w-this.blockSize,V=this.C;let N=this.h,z=0;for(;z<w;){if(N==0)for(;z<=C;)l(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<w;)if(V[N++]=x.charCodeAt(z++),N==this.blockSize){l(this,V),N=0;break}}else for(;z<w;)if(V[N++]=x[z++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[w++]=this.g[C]>>>V&255;return x};function c(x,w){var C=y;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function d(x,w){this.h=w;const C=[];let V=!0;for(let N=x.length-1;N>=0;N--){const z=x[N]|0;V&&z==w||(C[N]=z,V=!1)}this.g=C}var y={};function g(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return ie(_(-x));const w=[];let C=1;for(let V=0;x>=C;V++)w[V]=x/C|0,C*=4294967296;return new d(w,0)}function b(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return ie(b(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=A;for(let z=0;z<x.length;z+=8){var N=Math.min(8,x.length-z);const R=parseInt(x.substring(z,z+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(R))):(V=V.j(C),V=V.add(_(R)))}return V}var A=g(0),O=g(1),F=g(16777216);s=d.prototype,s.m=function(){if(se(this))return-ie(this).m();let x=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(J(this))return"0";if(se(this))return"-"+ie(this).toString(x);const w=_(Math.pow(x,6));var C=this;let V="";for(;;){const N=Xe(C,w).g;C=ge(C,N.j(w));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=N,J(C))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function J(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function se(x){return x.h==-1}s.l=function(x){return x=ge(this,x),se(x)?-1:J(x)?0:1};function ie(x){const w=x.g.length,C=[];for(let V=0;V<w;V++)C[V]=~x.g[V];return new d(C,~x.h).add(O)}s.abs=function(){return se(this)?ie(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let N=0;N<=w;N++){let z=V+(this.i(N)&65535)+(x.i(N)&65535),R=(z>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,z&=65535,R&=65535,C[N]=R<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ge(x,w){return x.add(ie(w))}s.j=function(x){if(J(this)||J(x))return A;if(se(this))return se(x)?ie(this).j(ie(x)):ie(ie(this).j(x));if(se(x))return ie(this.j(ie(x)));if(this.l(F)<0&&x.l(F)<0)return _(this.m()*x.m());const w=this.g.length+x.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const z=this.i(V)>>>16,R=this.i(V)&65535,He=x.i(N)>>>16,Et=x.i(N)&65535;C[2*V+2*N]+=R*Et,Ae(C,2*V+2*N),C[2*V+2*N+1]+=z*Et,Ae(C,2*V+2*N+1),C[2*V+2*N+1]+=R*He,Ae(C,2*V+2*N+1),C[2*V+2*N+2]+=z*He,Ae(C,2*V+2*N+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new d(C,0)};function Ae(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function _e(x,w){this.g=x,this.h=w}function Xe(x,w){if(J(w))throw Error("division by zero");if(J(x))return new _e(A,A);if(se(x))return w=Xe(ie(x),w),new _e(ie(w.g),ie(w.h));if(se(w))return w=Xe(x,ie(w)),new _e(ie(w.g),w.h);if(x.g.length>30){if(se(x)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var C=O,V=w;V.l(x)<=0;)C=$e(C),V=$e(V);var N=Me(C,1),z=Me(V,1);for(V=Me(V,2),C=Me(C,2);!J(V);){var R=z.add(V);R.l(x)<=0&&(N=N.add(C),z=R),V=Me(V,1),C=Me(C,1)}return w=ge(x,N.j(w)),new _e(N,w)}for(N=A;x.l(w)>=0;){for(C=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=_(C),R=z.j(w);se(R)||R.l(x)>0;)C-=V,z=_(C),R=z.j(w);J(z)&&(z=O),N=N.add(z),x=ge(x,R)}return new _e(N,x)}s.B=function(x){return Xe(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&x.i(V);return new d(C,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|x.i(V);return new d(C,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^x.i(V);return new d(C,this.h^x.h)};function $e(x){const w=x.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(C,x.h)}function Me(x,w){const C=w>>5;w%=32;const V=x.g.length-C,N=[];for(let z=0;z<V;z++)N[z]=w>0?x.i(z+C)>>>w|x.i(z+C+1)<<32-w:x.i(z+C);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,SE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,hr=d}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AE,Rl,wE,Yc,gm,RE,IE,CE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)W[Re-2]=arguments[Re];return m.prototype[L].apply(T,W)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=L[W]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){d.setTimeout(()=>{throw u},0)}function ge(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,v){const T=_e.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _e=new se(()=>new Xe,u=>u.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,Me=!1,x=new Ae,w=()=>{const u=Promise.resolve(void 0);$e=()=>{u.then(C)}};function C(){for(var u;u=ge();){try{u.h.call(u.g)}catch(v){ie(v)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function He(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(He,N),He.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),H=0;function ne(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ge(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=we(u,m,T,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(he(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function we(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Je={};function lt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)lt(u,m[B],v,T,L);return null}return v=yi(v),u&&u[Et]?u.J(m,v,y(T)?!!T.capture:!1,L):oe(u,m,v,!1,T,L)}function oe(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const W=y(L)?!!L.capture:!!L;let Re=Kt(u);if(Re||(u[Ne]=Re=new re(u)),v=Re.add(m,v,T,W,B),v.proxy)return v;if(T=Z(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)z||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(yt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Z(){function u(v){return m.call(u.src,u.listener,v)}const m=Bt;return u}function ee(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ee(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=yi(v),u&&u[Et]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=we(m,v,T,L),v>-1&&(he(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Kt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=we(m,v,T,L)),(v=u>-1?m[u]:null)&&Ee(v))}function Ee(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])ve(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(yt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Kt(m))?(ve(v,u),v.h==0&&(v.src=null,m[Ne]=null)):he(u)}}}function yt(u){return u in Je?Je[u]:Je[u]="on"+u}function Bt(u,m){if(u.da)u=!0;else{m=new He(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ee(u),u=v.call(T,m)}return u}function Kt(u){return u=u[Ne],u instanceof re?u:null}var zn="__closure_events_fn_"+(Math.random()*1e9>>>0);function yi(u){return typeof u=="function"?u:(u[zn]||(u[zn]=function(m){return u.handleEvent(m)}),u[zn])}function xe(){V.call(this),this.i=new re(this),this.M=this,this.G=null}A(xe,V),xe.prototype[Et]=!0,xe.prototype.removeEventListener=function(u,m,v,T){ee(this,u,m,v,T)};function Ze(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),te(m,L)}L=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],L=It(B,T,!0,m)&&L;if(B=m.g=u,L=It(B,T,!0,m)&&L,L=It(B,T,!1,m)&&L,v)for(W=0;W<v.length;W++)B=m.g=v[W],L=It(B,T,!1,m)&&L}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)he(v[T]);delete u.g[m],u.h--}}this.G=null},xe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},xe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function It(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Re=W.listener,bt=W.ha||W.src;W.fa&&ve(u.i,W),L=Re.call(bt,T)!==!1&&L}}return L&&!T.defaultPrevented}function Qi(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ss(u){u.g=Qi(()=>{u.g=null,u.i&&(u.i=!1,Ss(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Yt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ss(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wn(u){V.call(this),this.h=u,this.g={}}A(Wn,V);var ei=[];function ti(u){Pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ee(m)},u),u.g={}}Wn.prototype.N=function(){Wn.Z.N.call(this),ti(this)},Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xt=d.JSON.stringify,Gh=d.JSON.parse,ou=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function lu(){}function uu(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){N.call(this,"d")}A($t,N);function Ln(){N.call(this,"c")}A(Ln,N);var Tt={},cu=null;function aa(){return cu=cu||new xe}Tt.Ia="serverreachability";function hu(u){N.call(this,Tt.Ia,u)}A(hu,N);function _i(u){const m=aa();Ze(m,new hu(m))}Tt.STAT_EVENT="statevent";function Sr(u,m){N.call(this,Tt.STAT_EVENT,u),this.stat=m}A(Sr,N);function Ct(u){const m=aa();Ze(m,new Sr(m,u))}Tt.Ja="timingevent";function vi(u,m){N.call(this,Tt.Ja,u),this.size=m}A(vi,N);function Ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Fh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var W="",Re=B.split("&");for(let Ke=0;Ke<Re.length;Ke++){var bt=Re[Ke].split("=");if(bt.length>1){const mt=bt[0];bt=bt[1];const Bn=mt.split("_");W=Bn.length>=2&&Bn[1]=="type"?W+(mt+"="+bt+"&"):W+(mt+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function fu(u,m,v,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+W})}function Ti(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qh(u,v)+(T?" "+T:"")})}function Ar(u,m){u.info(function(){return"TIMEOUT: "+m})}ii.prototype.info=function(){};function Qh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Xt(B)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function Rr(){}A(Rr,lu),Rr.prototype.g=function(){return new XMLHttpRequest},Ao=new Rr;function Ki(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function si(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Wn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var xt={},qt={};function bi(u,m,v){u.M=1,u.A=Ir(Dt(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),Si(u),u.B=Dt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ha(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ri,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Yt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ei[0]=L.toString()),L=ei);for(let B=0;B<L.length;B++){const W=lt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),_i(),Fh(u.i,u.v,u.B,u.l,u.S,u.u)}si.prototype.ba=function(u){u=u.target;const m=this.O;m&&li(u)==3?m.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{const Re=li(this.g),bt=this.g.ya(),Ke=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Re!=4||bt==7||(bt==8||Ke<=0?_i(3):_i(2)),Ai(this);var m=this.g.ca();this.X=m;var v=Kh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,Re,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(u=B)Ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,Ct(12),Sn(this),Un(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=gu(this,v),mt==qt){Re==4&&(this.m=4,Ct(14),u=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==xt){this.m=4,Ct(15),Ti(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ti(this.i,this.l,mt,null),wi(this,mt);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,Ct(16),u=!1),this.o=this.o&&u,!u)Ti(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(W),W.P=!0,Ct(11))}}else Ti(this.i,this.l,v,null),wi(this,v);Re==4&&Sn(this),this.o&&!this.K&&(Re==4?Au(this.j,this):(this.o=!1,Si(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Sn(this),Un(this)}}}catch{}};function Kh(u){if(!mu(u))return u.g.la();const m=Jt(u.g);if(m==="")return"";let v="";const T=m.length,L=li(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function gu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?qt:(v=Number(m.substring(v,T)),isNaN(v)?xt:(T+=1,T+v>m.length?qt:(m=m.slice(T,T+v),u.C=T+v,m)))}si.prototype.cancel=function(){this.K=!0,Sn(this)};function Si(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ei(_(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}si.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(_i(),Ct(17)),Sn(this),this.m=2,Un(this)):la(this,this.T-u)};function Un(u){u.j.I==0||u.K||Au(u.j,u)}function Sn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ti(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ii(v.h,u))){if(!u.L&&Ii(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),Ds(v);else break e;Vr(v),Ct(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ei(_(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&pa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ke=L[m];const mt=Ke[0];if(!(mt<=v.K))if(v.K=mt,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const Bn=Ke[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const Vi=Ke[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const ui=Ke[5];ui!=null&&typeof ui=="number"&&ui>0&&(T=1.5*ui,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ci=u.g;if(ci){const kr=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var B=T.h;B.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Io(B,B.h),B.h=null))}if(T.G){const ya=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(T.wa=ya,We(T.J,T.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Iu(T,T.L?T.ba:null,T.W),W.L){Co(T.h,W);var Re=W,bt=T.O;bt&&(Re.H=bt),Re.D&&(Ai(Re),Si(Re)),T.g=W}else bu(T);v.i.length>0&&Oi(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Mi(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Mi(v,7):Lo(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}_i(4)}catch{}}var Nt=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,No(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(pu))?(this.l=!1,Ht(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),As(this,m[4]),this.h=Ci(m[5]||"",!0),No(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Cr(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,ca,!0),"@"),u.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Cr(v,v.charAt(0)=="/"?Do:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Cr(v,_u)),u.join("")},An.prototype.resolve=function(u){const m=Dt(this);let v=!!u.j;v?Ht(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)As(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const Re=L[W++];Re=="."?T&&W==L.length&&B.push(""):Re==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(Re),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?No(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Dt(u){return new An(u)}function Ht(u,m,v){u.j=v?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof Rs?(u.i=m,fa(u.i,u.l)):(v||(m=Cr(m,ws)),u.i=new Rs(m,u.l))}function We(u,m,v){u.i.set(m,v)}function Ir(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ca=/[#\/\?@]/g,yu=/[#\?:]/g,Do=/[#\?]/g,ws=/[#\?@]/g,_u=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&ua(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Rs.prototype,s.add=function(u,m){pn(this),this.i=null,u=Is(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){pn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return pn(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){pn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Mo(u,m){pn(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return pn(this),this.i=null,u=Is(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(Is(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ki(v);v=Mo(this,v);for(let B=0;B<v.length;B++){let W=L;v[B]!==""&&(W+="="+Ki(v[B])),u.push(W)}}return this.i=u.join("&")};function Eu(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(vu(this,T),ha(this,L,v))},u)),u.j=m}function ai(u,m){const v=new ii;if(d.Image){const T=new Image;T.onload=b(Pn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Pn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Pn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Pn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vo(u,m){const v=new ii,T=new AbortController,L=setTimeout(()=>{T.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Cs(){this.g=new ou}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(xi,lu),xi.prototype.g=function(){return new xr(this.i,this.h)};function xr(u,m){xe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(xr,xe),s=xr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,oi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?xs(this):oi(this),this.readyState==3&&da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,xs(this))},s.Na=function(u){this.g&&(this.response=u,xs(this))},s.ga=function(){this.g&&xs(this)};function xs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let m="";return Pe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Nr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=jn(v),typeof u=="string"?v!=null&&Ki(v):We(u,m,v))}function nt(u){xe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(nt,xe);var Ni=/^https?$/i,ko=["POST","PUT"];s=nt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Dr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Dr(this,B)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zo(u),Yi(u)}function zo(u){u.A||(u.A=!0,Ze(u,"complete"),Ze(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ze(this,"complete"),Ze(this,"abort"),Yi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&li(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ze(u,"readystatechange"),li(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(pu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ni.test(W?W.toLowerCase():"")}v=T}if(v)Ze(u,"complete"),Ze(u,"success");else{u.o=6;try{var L=li(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",zo(u)}}finally{Yi(u)}}}}function Yi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ze(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function li(u){return u.g?u.g.readyState:0}s.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Gh(m)}};function Jt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&li(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=du(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ge(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ct(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Iu(this,null,this.W),Oi(this)};function Lo(u){if(ma(u),u.I==3){var m=u.V++,v=Dt(u.J);if(We(v,"SID",u.M),We(v,"RID",m),We(v,"TYPE","terminate"),Mr(u,v),m=new si(u,u.j,m),m.M=2,m.A=Ir(Dt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Si(m)}Ru(u)}function Ds(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function ma(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;$e||w(),Me||($e(),Me=!0),x.add(m,u),u.D=0}}function ga(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ei(_(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new si(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),te(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,L,m),v=Dt(this.J),We(v,"RID",u),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),Mr(this,v),B&&(this.R?m="headers="+Ki(jn(B))+"&"+m:this.u&&Nr(v,this.u,B)),Io(this.h,L),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",m),We(v,"SID","null"),L.U=!0,bi(L,v,null)):bi(L,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||Ro(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const T=Dt(u.J);We(T,"SID",u.M),We(T,"RID",v),We(T,"AID",u.K),Mr(u,T),u.u&&u.o&&Nr(T,u.u,u.o),v=new si(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,v),bi(v,T,m)}function Mr(u,m){u.H&&Pe(u.H,function(v,T){We(m,T,v)}),u.l&&Pe({},function(v,T){We(m,T,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Re=-1;for(;;){const bt=["count="+v];Re==-1?v>0?(Re=L[0].g,bt.push("ofs="+Re)):Re=0:bt.push("ofs="+Re);let Ke=!0;for(let mt=0;mt<v;mt++){var B=L[mt].g;const Bn=L[mt].map;if(B-=Re,B<0)Re=Math.max(0,L[mt].g-100),Ke=!1;else try{B="req"+B+"_"||"";try{var W=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Vi,ui]of W){let ci=ui;y(ui)&&(ci=Xt(ui)),bt.push(B+Vi+"="+encodeURIComponent(ci))}}catch(Vi){throw bt.push(B+"type="+encodeURIComponent("_badmap")),Vi}}catch{T&&T(Bn)}}if(Ke){W=bt.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$e||w(),Me||($e(),Me=!0),x.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ei(_(u.Da,u),wu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ei(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Ds(this),Su(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Su(u){u.g=new si(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Dt(u.na);We(m,"RID","rpc"),We(m,"SID",u.M),We(m,"AID",u.K),We(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(m,"TO",u.ia),We(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&Nr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(Dt(m)),v.u=null,v.R=!0,oa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Vr(this),Ct(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){pa(u),Po(u),u.g=null;var T=2}else if(Ii(u.h,m))v=m.G,Co(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=aa(),Ze(T,new vi(T,v)),Oi(u)}else bu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ga(u,m)||T==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new An(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(T,"https"),Ir(T),L?ai(T.toString(),v):Vo(T.toString(),v)}else Ct(2);u.I=0,u.l&&u.l.pa(m),Ru(u),ma(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Ru(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var T=v instanceof An?Dt(v):new An(v);if(T.g!="")m&&(T.g=m+"."+T.g),As(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);T&&Ht(B,T),m&&(B.g=m),L&&As(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&We(T,v,m),We(T,"VER",u.ka),Mr(u,T),T}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new nt(new xi({ab:v})):new nt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){xe.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}A(fn,xe),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Lo(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Xt(u),u=v);m.i.push(new Nt(m.Ya++,u)),m.I==3&&Oi(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,fn.Z.N.call(this)};function Nu(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Nu,$t);function Du(){Ln.call(this),this.status=1}A(Du,Ln);function $i(u){this.g=u}A($i,xu),$i.prototype.ra=function(){Ze(this.g,"a")},$i.prototype.qa=function(u){Ze(this.g,new Nu(u))},$i.prototype.pa=function(u){Ze(this.g,new Du)},$i.prototype.oa=function(){Ze(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,CE=function(){return new Os},IE=function(){return aa()},RE=Tt,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Yc=wr,So.COMPLETE="complete",wE=So,uu.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",xe.prototype.listen=xe.prototype.J,Rl=uu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,AE=nt}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let vo="12.8.0";function L2(s){vo=s}const na=new Vm("@firebase/firestore");function Xa(){return na.logLevel}function ae(s,...e){if(na.logLevel<=ze.DEBUG){const i=e.map(Fm);na.debug(`Firestore (${vo}): ${s}`,...i)}}function Es(s,...e){if(na.logLevel<=ze.ERROR){const i=e.map(Fm);na.error(`Firestore (${vo}): ${s}`,...i)}}function lo(s,...e){if(na.logLevel<=ze.WARN){const i=e.map(Fm);na.warn(`Firestore (${vo}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function de(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,xE(s,a,i)}function xE(s,e,i){let a=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Es(a),new Error(a)}function qe(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||xE(e,l,a)}function be(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends bs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class NE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class P2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class j2{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qe(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gs,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qe(typeof a.accessToken=="string",31837,{l:a}),new NE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class B2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class q2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new B2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qe(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(qe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new x0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=G2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Le(s,e){return s<e?-1:s>e?1:0}function pm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return tm(l)===tm(c)?Le(l,c):tm(l)?1:-1}return Le(s.length,e.length)}const F2=55296,Q2=57343;function tm(s){const e=s.charCodeAt(0);return e>=F2&&e<=Q2}function uo(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const N0="__name__";class Pi{constructor(e,i,a){i===void 0?i=0:i>e.length&&de(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&de(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Pi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Le(e.length,i.length)}static compareSegments(e,i){const a=Pi.isNumericId(e),l=Pi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Pi.extractNumericId(e).compare(Pi.extractNumericId(i)):pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class ft extends Pi{construct(e,i,a){return new ft(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ft(i)}static emptyPath(){return new ft([])}}const K2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Pi{construct(e,i,a){return new sn(e,i,a)}static isValidIdentifier(e){return K2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new sn([N0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new ue($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ue($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(ft.fromString(e))}static fromName(e){return new me(ft.fromString(e).popFirst(5))}static empty(){return new me(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ft.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ft(e.slice()))}}function Y2(s,e,i){if(!i)throw new ue($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function X2(s,e,i,a){if(e===!0&&a===!0)throw new ue($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function D0(s){if(!me.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function DE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Km(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":de(12329,{type:typeof s})}function Zn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Km(s);throw new ue($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Lt(s,e){const i={typeString:s};return e&&(i.value=e),i}function eu(s,e){if(!DE(s))throw new ue($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ue($.INVALID_ARGUMENT,i);return!0}const O0=-62135596800,M0=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*M0);return new dt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<O0)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Lt("string",dt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new dt(0,0))}static max(){return new ye(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pl=-1;function $2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=ye.fromTimestamp(a===1e9?new dt(i+1,0):new dt(i,a));return new mr(l,me.empty(),e)}function J2(s){return new mr(s.readTime,s.key,Pl)}class mr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new mr(ye.min(),me.empty(),Pl)}static max(){return new mr(ye.max(),me.empty(),Pl)}}function Z2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=me.comparator(s.documentKey,e.documentKey),i!==0?i:Le(s.largestBatchId,e.largestBatchId))}const W2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==W2)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((b=>{d[_]=b,++y,y===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function tR(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(s){return s.name==="IndexedDbTransactionError"}class wh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;const Ym=-1;function tu(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function nR(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const OE="";function iR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=V0(e)),e=sR(s.get(i),e);return V0(e)}function sR(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case OE:i+="";break;default:i+=c}}return i}function V0(s){return s+OE+""}function k0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function ME(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class pt{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new pt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new nn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new jt(this.comparator);return i.data=e,i}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Vn([])}unionWith(e){let i=new jt(sn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new VE("Invalid base64 string: "+c):c}})(e);return new an(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new an(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const rR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(qe(!!s,39018),typeof s=="string"){let e=0;const i=rR.exec(s);if(qe(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wt(s.seconds),nanos:wt(s.nanos)}}function wt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}const kE="server_timestamp",zE="__type__",LE="__previous_value__",UE="__local_write_time__";function Xm(s){return(s?.mapValue?.fields||{})[zE]?.stringValue===kE}function Rh(s){const e=s.mapValue.fields[LE];return Xm(e)?Rh(e):e}function jl(s){const e=gr(s.mapValue.fields[UE].timestampValue);return new dt(e.seconds,e.nanos)}class aR{constructor(e,i,a,l,c,d,y,g,_,b,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=A}}const uh="(default)";class Bl{constructor(e,i){this.projectId=e,this.database=i||uh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}function oR(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ue($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(s.options.projectId,e)}const PE="__type__",lR="__max__",Pc={mapValue:{}},jE="__vector__",ch="value";function yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xm(s)?4:cR(s)?9007199254740991:uR(s)?10:11:de(28295,{value:s})}function Gi(s,e){if(s===e)return!0;const i=yr(s);if(i!==yr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jl(s).isEqual(jl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=gr(l.timestampValue),y=gr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return pr(l.bytesValue).isEqual(pr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return wt(l.geoPointValue.latitude)===wt(c.geoPointValue.latitude)&&wt(l.geoPointValue.longitude)===wt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return wt(l.integerValue)===wt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=wt(l.doubleValue),y=wt(c.doubleValue);return d===y?lh(d)===lh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return uo(s.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(k0(d)!==k0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Gi(d[g],y[g])))return!1;return!0})(s,e);default:return de(52216,{left:s})}}function ql(s,e){return(s.values||[]).find((i=>Gi(i,e)))!==void 0}function co(s,e){if(s===e)return 0;const i=yr(s),a=yr(e);if(i!==a)return Le(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Le(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=wt(c.integerValue||c.doubleValue),g=wt(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(s,e);case 3:return L0(s.timestampValue,e.timestampValue);case 4:return L0(jl(s),jl(e));case 5:return pm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=pr(c),g=pr(d);return y.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const b=Le(y[_],g[_]);if(b!==0)return b}return Le(y.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Le(wt(c.latitude),wt(d.latitude));return y!==0?y:Le(wt(c.longitude),wt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return U0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[ch]?.arrayValue,b=g[ch]?.arrayValue,A=Le(_?.values?.length||0,b?.values?.length||0);return A!==0?A:U0(_,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},b=Object.keys(_);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const O=pm(g[A],b[A]);if(O!==0)return O;const F=co(y[g[A]],_[b[A]]);if(F!==0)return F}return Le(g.length,b.length)})(s.mapValue,e.mapValue);default:throw de(23264,{he:i})}}function L0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Le(s,e);const i=gr(s),a=gr(e),l=Le(i.seconds,a.seconds);return l!==0?l:Le(i.nanos,a.nanos)}function U0(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=co(i[l],a[l]);if(c)return c}return Le(i.length,a.length)}function ho(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=gr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return pr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return me.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=ym(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${ym(i.fields[d])}`;return l+"}"})(s.mapValue):de(61005,{value:s})}function Xc(s){switch(yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(s);return e?16+Xc(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Xc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Tr(a.fields,((c,d)=>{l+=c.length+Xc(d)})),l})(s.mapValue);default:throw de(13486,{value:s})}}function _m(s){return!!s&&"integerValue"in s}function $m(s){return!!s&&"arrayValue"in s}function P0(s){return!!s&&"nullValue"in s}function j0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $c(s){return!!s&&"mapValue"in s}function uR(s){return(s?.mapValue?.fields||{})[PE]?.stringValue===jE}function Ol(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ol(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ol(s.arrayValue.values[i]);return e}return{...s}}function cR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===lR}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!$c(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(i)}setAll(e){let i=sn.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Ol(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());$c(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];$c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Tr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new mn(Ol(this.value))}}function BE(s){const e=[];return Tr(s.fields,((i,a)=>{const l=new sn([i]);if($c(a)){const c=BE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Vn(e)}class Qt{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Qt(e,0,ye.min(),ye.min(),ye.min(),mn.empty(),0)}static newFoundDocument(e,i,a,l){return new Qt(e,1,i,ye.min(),a,l,0)}static newNoDocument(e,i){return new Qt(e,2,i,ye.min(),ye.min(),mn.empty(),0)}static newUnknownDocument(e,i){return new Qt(e,3,i,ye.min(),ye.min(),mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,i){this.position=e,this.inclusive=i}}function B0(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=me.comparator(me.fromName(d.referenceValue),i.key):a=co(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function q0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Gi(s.position[i],e.position[i]))return!1;return!0}class fh{constructor(e,i="asc"){this.field=e,this.dir=i}}function hR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class qE{}class Pt extends qE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new dR(e,i,a):i==="array-contains"?new pR(e,a):i==="in"?new yR(e,a):i==="not-in"?new _R(e,a):i==="array-contains-any"?new vR(e,a):new Pt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new mR(e,a):new gR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(co(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(co(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends qE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fi(e,i)}matches(e){return HE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HE(s){return s.op==="and"}function GE(s){return fR(s)&&HE(s)}function fR(s){for(const e of s.filters)if(e instanceof Fi)return!1;return!0}function vm(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+ho(s.value);if(GE(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function FE(s,e){return s instanceof Pt?(function(a,l){return l instanceof Pt&&a.op===l.op&&a.field.isEqual(l.field)&&Gi(a.value,l.value)})(s,e):s instanceof Fi?(function(a,l){return l instanceof Fi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&FE(d,l.filters[y])),!0):!1})(s,e):void de(19439)}function QE(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ho(i.value)}`})(s):s instanceof Fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(QE).join(" ,")+"}"})(s):"Filter"}class dR extends Pt{constructor(e,i,a){super(e,i,a),this.key=me.fromName(a.referenceValue)}matches(e){const i=me.comparator(e.key,this.key);return this.matchesComparison(i)}}class mR extends Pt{constructor(e,i){super(e,"in",i),this.keys=KE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class gR extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=KE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function KE(s,e){return(e.arrayValue?.values||[]).map((i=>me.fromName(i.referenceValue)))}class pR extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return $m(i)&&ql(i.arrayValue,this.value)}}class yR extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ql(this.value.arrayValue,i)}}class _R extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ql(this.value.arrayValue,i)}}class vR extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!$m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ql(this.value.arrayValue,a)))}}class ER{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function H0(s,e=null,i=[],a=[],l=null,c=null,d=null){return new ER(s,e,i,a,l,c,d)}function Jm(s){const e=be(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>vm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),tu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ho(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ho(a))).join(",")),e.Te=i}return e.Te}function Zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!hR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!FE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!q0(s.startAt,e.startAt)&&q0(s.endAt,e.endAt)}function Em(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ih{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function TR(s,e,i,a,l,c,d,y){return new Ih(s,e,i,a,l,c,d,y)}function Ch(s){return new Ih(s)}function G0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bR(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function SR(s){return s.collectionGroup!==null}function Ml(s){const e=be(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new jt(sn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fh(c,a))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new fh(sn.keyField(),a))}return e.Ie}function qi(s){const e=be(s);return e.Ee||(e.Ee=AR(e,Ml(s))),e.Ee}function AR(s,e){if(s.limitType==="F")return H0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new fh(l.field,c)}));const i=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return H0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Tm(s,e,i){return new Ih(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function xh(s,e){return Zm(qi(s),qi(e))&&s.limitType===e.limitType}function YE(s){return`${Jm(qi(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>QE(l))).join(", ")}]`),tu(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ho(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ho(l))).join(",")),`Target(${a})`})(qi(s))}; limitType=${s.limitType})`}function Nh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):me.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Ml(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=B0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Ml(a),l)||a.endAt&&!(function(d,y,g){const _=B0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Ml(a),l))})(s,e)}function wR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function XE(s){return(e,i)=>{let a=!1;for(const l of Ml(s)){const c=RR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function RR(s,e,i){const a=s.field.isKeyField()?me.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?co(g,_):de(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return de(19790,{direction:s.dir})}}class sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}const IR=new pt(me.comparator);function Ts(){return IR}const $E=new pt(me.comparator);function Il(...s){let e=$E;for(const i of s)e=e.insert(i.key,i);return e}function JE(s){let e=$E;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Zr(){return Vl()}function ZE(){return Vl()}function Vl(){return new sa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const CR=new pt(me.comparator),xR=new jt(me.comparator);function Ue(...s){let e=xR;for(const i of s)e=e.add(i);return e}const NR=new jt(Le);function DR(){return NR}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function WE(s){return{integerValue:""+s}}function OR(s,e){return nR(e)?WE(e):Wm(s,e)}class Dh{constructor(){this._=void 0}}function MR(s,e,i){return s instanceof dh?(function(l,c){const d={fields:{[zE]:{stringValue:kE},[UE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Xm(c)&&(c=Rh(c)),c&&(d.fields[LE]=c),{mapValue:d}})(i,e):s instanceof fo?tT(s,e):s instanceof Hl?nT(s,e):(function(l,c){const d=eT(l,c),y=F0(d)+F0(l.Ae);return _m(d)&&_m(l.Ae)?WE(y):Wm(l.serializer,y)})(s,e)}function VR(s,e,i){return s instanceof fo?tT(s,e):s instanceof Hl?nT(s,e):i}function eT(s,e){return s instanceof mh?(function(a){return _m(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class dh extends Dh{}class fo extends Dh{constructor(e){super(),this.elements=e}}function tT(s,e){const i=iT(e);for(const a of s.elements)i.some((l=>Gi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Hl extends Dh{constructor(e){super(),this.elements=e}}function nT(s,e){let i=iT(e);for(const a of s.elements)i=i.filter((l=>!Gi(l,a)));return{arrayValue:{values:i}}}class mh extends Dh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function F0(s){return wt(s.integerValue||s.doubleValue)}function iT(s){return $m(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class kR{constructor(e,i){this.field=e,this.transform=i}}function zR(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof fo&&l instanceof fo||a instanceof Hl&&l instanceof Hl?uo(a.elements,l.elements,Gi):a instanceof mh&&l instanceof mh?Gi(a.Ae,l.Ae):a instanceof dh&&l instanceof dh})(s.transform,e.transform)}class LR{constructor(e,i){this.version=e,this.transformResults=i}}class cn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Oh{}function sT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Mh(s.key,cn.none()):new nu(s.key,s.data,cn.none());{const i=s.data,a=mn.empty();let l=new jt(sn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new br(s.key,a,new Vn(l.toArray()),cn.none())}}function UR(s,e,i){s instanceof nu?(function(l,c,d){const y=l.value.clone(),g=K0(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof br?(function(l,c,d){if(!Jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=K0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(rT(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function kl(s,e,i,a){return s instanceof nu?(function(c,d,y,g){if(!Jc(c.precondition,d))return y;const _=c.value.clone(),b=Y0(c.fieldTransforms,g,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof br?(function(c,d,y,g){if(!Jc(c.precondition,d))return y;const _=Y0(c.fieldTransforms,g,d),b=d.data;return b.setAll(rT(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,y){return Jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function PR(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=eT(a.transform,l||null);c!=null&&(i===null&&(i=mn.empty()),i.set(a.field,c))}return i||null}function Q0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&uo(a,l,((c,d)=>zR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nu extends Oh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class br extends Oh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function K0(s,e,i){const a=new Map;qe(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,VR(d,y,i[l]))}return a}function Y0(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,MR(c,d,e))}return a}class Mh extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aT extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&UR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ZE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=sT(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(ye.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((i,a)=>Q0(i,a)))&&uo(this.baseMutations,e.baseMutations,((i,a)=>Q0(i,a)))}}class eg{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){qe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return CR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new eg(e,i,a,l)}}class BR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qR{constructor(e,i){this.count=e,this.unchangedNames=i}}var zt,Be;function oT(s){switch(s){case $.OK:return de(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return de(15467,{code:s})}}function lT(s){if(s===void 0)return Es("GRPC error has no .code"),$.UNKNOWN;switch(s){case zt.OK:return $.OK;case zt.CANCELLED:return $.CANCELLED;case zt.UNKNOWN:return $.UNKNOWN;case zt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case zt.INTERNAL:return $.INTERNAL;case zt.UNAVAILABLE:return $.UNAVAILABLE;case zt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case zt.NOT_FOUND:return $.NOT_FOUND;case zt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case zt.ABORTED:return $.ABORTED;case zt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case zt.DATA_LOSS:return $.DATA_LOSS;default:return de(39323,{code:s})}}(Be=zt||(zt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function HR(){return new TextEncoder}const GR=new hr([4294967295,4294967295],0);function X0(s){const e=HR().encode(s),i=new SE;return i.update(e),new Uint8Array(i.digest())}function $0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new hr([i,a],0),new hr([l,c],0)]}class tg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(a<0)throw new Cl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=hr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(hr.fromNumber(a)));return l.compare(GR)===1&&(l=new hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=X0(e),[a,l]=$0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new tg(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=X0(e),[a,l]=$0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Vh(ye.min(),l,new pt(Le),Ts(),Ue())}}class iu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new iu(a,i,Ue(),Ue(),Ue())}}class Zc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class uT{constructor(e,i){this.targetId=e,this.Ce=i}}class cT{constructor(e,i,a=an.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class J0{constructor(){this.ve=0,this.Fe=Z0(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),i=Ue(),a=Ue();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:de(38017,{changeType:c})}})),new iu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=Z0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class FR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.He=jc(),this.Je=jc(),this.Ze=new pt(Le)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:de(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Em(c))if(a===0){const d=new me(c.path);this.et(i,d,Qt.newNoDocument(d,ye.min()))}else qe(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=pr(a).toUint8Array()}catch(g){if(g instanceof VE)return lo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new tg(d,l,c)}catch(g){return lo(g instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&Em(y.target)){const g=new me(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Qt.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ue();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Vh(e,i,this.Ze,this.je,a);return this.je=Ts(),this.He=jc(),this.Je=jc(),this.Ze=new pt(Le),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new J0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new jt(Le),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new jt(Le),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new pt(me.comparator)}function Z0(){return new pt(me.comparator)}const QR={asc:"ASCENDING",desc:"DESCENDING"},KR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YR={and:"AND",or:"OR"};class XR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bm(s,e){return s.useProto3Json||tu(e)?e:{value:e}}function gh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function $R(s,e){return gh(s,e.toTimestamp())}function kn(s){return qe(!!s,49232),ye.fromTimestamp((function(i){const a=gr(i);return new dt(a.seconds,a.nanos)})(s))}function ng(s,e){return Sm(s,e).canonicalString()}function Sm(s,e){const i=(function(l){return new ft(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function fT(s){const e=ft.fromString(s);return qe(_T(e),10190,{key:e.toString()}),e}function ph(s,e){return ng(s.databaseId,e.path)}function zl(s,e){const i=fT(e);if(i.get(1)!==s.databaseId.projectId)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new me(mT(i))}function dT(s,e){return ng(s.databaseId,e)}function JR(s){const e=fT(s);return e.length===4?ft.emptyPath():mT(e)}function Am(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mT(s){return qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function W0(s,e,i){return{name:ph(s,e),fields:i.value.mapValue.fields}}function ZR(s,e){return"found"in e?(function(a,l){qe(!!l.found,43571),l.found.name,l.found.updateTime;const c=zl(a,l.found.name),d=kn(l.found.updateTime),y=l.found.createTime?kn(l.found.createTime):ye.min(),g=new mn({mapValue:{fields:l.found.fields}});return Qt.newFoundDocument(c,d,y,g)})(s,e):"missing"in e?(function(a,l){qe(!!l.missing,3894),qe(!!l.readTime,22933);const c=zl(a,l.missing),d=kn(l.readTime);return Qt.newNoDocument(c,d)})(s,e):de(7234,{result:e})}function WR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:de(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(qe(b===void 0||typeof b=="string",58123),an.fromBase64String(b||"")):(qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),an.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:lT(_.code);return new ue(b,_.message||"")})(d);i=new cT(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=zl(s,a.document.name),c=kn(a.document.updateTime),d=a.document.createTime?kn(a.document.createTime):ye.min(),y=new mn({mapValue:{fields:a.document.fields}}),g=Qt.newFoundDocument(l,c,d,y),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Zc(_,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=zl(s,a.document),c=a.readTime?kn(a.readTime):ye.min(),d=Qt.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Zc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=zl(s,a.document),c=a.removedTargetIds||[];i=new Zc([],c,l,null)}else{if(!("filter"in e))return de(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new qR(l,c),y=a.targetId;i=new uT(y,d)}}return i}function gT(s,e){let i;if(e instanceof nu)i={update:W0(s,e.key,e.value)};else if(e instanceof Mh)i={delete:ph(s,e.key)};else if(e instanceof br)i={update:W0(s,e.key,e.data),updateMask:lI(e.fieldMask)};else{if(!(e instanceof aT))return de(16599,{dt:e.type});i={verify:ph(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof dh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Hl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof mh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw de(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:$R(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:de(27497)})(s,e.precondition)),i}function eI(s,e){return s&&s.length>0?(qe(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?kn(l.updateTime):kn(c);return d.isEqual(ye.min())&&(d=kn(c)),new LR(d,l.transformResults||[])})(i,e)))):[]}function tI(s,e){return{documents:[dT(s,e.path)]}}function nI(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=dT(s,l);const c=(function(_){if(_.length!==0)return yT(Fi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(O){return{field:Ja(O.field),direction:rI(O.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=bm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function iI(s){let e=JR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qe(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const O=pT(A);return O instanceof Fi&&GE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((O=>(function(J){return new fh(Za(J.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let O;return O=typeof A=="object"?A.value:A,tu(O)?null:O})(i.limit));let g=null;i.startAt&&(g=(function(A){const O=!!A.before,F=A.values||[];return new hh(F,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const O=!A.before,F=A.values||[];return new hh(F,O)})(i.endAt)),TR(e,l,d,c,y,"F",g,_)}function sI(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function pT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Za(i.unaryFilter.field);return Pt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Za(i.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(Za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fi.create(i.compositeFilter.filters.map((a=>pT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return de(1026)}})(i.compositeFilter.op))})(s):de(30097,{filter:s})}function rI(s){return QR[s]}function aI(s){return KR[s]}function oI(s){return YR[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function Za(s){return sn.fromServerFormat(s.fieldPath)}function yT(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(j0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(P0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(j0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(P0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:aI(i.op),value:i.value}}})(s):s instanceof Fi?(function(i){const a=i.getFilters().map((l=>yT(l)));return a.length===1?a[0]:{compositeFilter:{op:oI(i.op),filters:a}}})(s):de(54877,{filter:s})}function lI(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function _T(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function vT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class or{constructor(e,i,a,l,c=ye.min(),d=ye.min(),y=an.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uI{constructor(e){this.yt=e}}function cI(s){const e=iI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Tm(e,e.limit,"L"):e}class hI{constructor(){this.Sn=new fI}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(mr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class fI{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new jt(ft.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new jt(ft.comparator)).toArray()}}const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ET=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(ET,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class mo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new mo(0)}static ar(){return new mo(-1)}}const tv="LruGarbageCollector",dI=1048576;function nv([s,e],[i,a]){const l=Le(s,i);return l===0?Le(e,a):l}class mI{constructor(e){this.Pr=e,this.buffer=new jt(nv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();nv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gI{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae(tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?ae(tv,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Ar(3e5)}))}}class pI{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(wh.ce);const a=new mI(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(ev)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,y,g,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,y=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Xa()<=ze.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function yI(s,e){return new pI(s,e)}class _I{constructor(){this.changes=new sa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class EI{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&kl(a.mutation,l,Vn.empty(),dt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ue()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ue()){const l=Zr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Il();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Zr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ue())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=Ts();const d=Vl(),y=(function(){return Vl()})();return i.forEach(((g,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof br)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),kl(b.mutation,_,b.mutation.getFieldMask(),dt.now())):d.set(_.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>y.set(_,new vI(b,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Vl();let l=new pt(((d,y)=>d-y)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let b=a.get(g)||Vn.empty();b=y.applyToLocalView(_,b),a.set(g,b);const A=(l.get(y.batchId)||Ue()).add(g);l=l.insert(y.batchId,A)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,b=g.value,A=ZE();b.forEach((O=>{if(!c.has(O)){const F=sT(i.get(O),a.get(O));F!==null&&A.set(O,F),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return bR(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):SR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(Zr());let y=Pl,g=c;return d.next((_=>X.forEach(_,((b,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(e,b).next((O=>{g=g.insert(b,O)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Ue()))).next((b=>({batchId:y,changes:JE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new me(i)).next((a=>{let l=Il();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(e,c).next((y=>X.forEach(y,(g=>{const _=(function(A,O){return new Ih(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((b=>{b.forEach(((A,O)=>{d=d.insert(A,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Qt.newInvalidDocument(b)))}));let y=Il();return d.forEach(((g,_)=>{const b=c.get(g);b!==void 0&&kl(b.mutation,_,Vn.empty(),dt.now()),Nh(i,_)&&(y=y.insert(g,_))})),y}))}}class TI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:kn(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:cI(l.bundledQuery),readTime:kn(l.readTime)}})(i)),X.resolve()}}class bI{constructor(){this.overlays=new pt(me.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Zr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=Zr(),c=i.length+1,d=new me(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new pt(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Zr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const y=Zr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,b)=>y.set(_,b))),!(y.size()>=l)););return X.resolve(y)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new BR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ue(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class SI{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class ig{constructor(){this.kr=new jt(Ft.Kr),this.qr=new jt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Ft(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Ft(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new me(new ft([])),a=new Ft(i,e),l=new Ft(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new me(new ft([])),a=new Ft(i,e),l=new Ft(i,e+1);let c=Ue();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ft(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return me.comparator(e.key,i.key)||Le(e.Hr,i.Hr)}static Ur(e,i){return Le(e.Hr,i.Hr)||me.comparator(e.key,i.key)}}class AI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(Ft.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new Ft(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ym:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ft(i,0),l=new Ft(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new jt(Le);return i.forEach((l=>{const c=new Ft(l,0),d=new Ft(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;me.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new me(c),0);let y=new jt(Le);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){qe(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Ft(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Ft(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class wI{constructor(e){this.ti=e,this.docs=(function(){return new pt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Qt.newInvalidDocument(i))}getEntries(e,i){let a=Ts();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Qt.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Ts();const d=i.path,y=new me(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:b}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Z2(J2(b),a)<=0||(l.has(b.key)||Nh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){de(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new RI(this)}getSize(e){return X.resolve(this.size)}}class RI extends _I{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class II{constructor(e){this.persistence=e,this.ri=new sa((i=>Jm(i)),Zm),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ii=0,this.si=new ig,this.targetCount=0,this.oi=mo._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new mo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class TT{constructor(e,i){this._i={},this.overlays={},this.ai=new wh(0),this.ui=!1,this.ui=!0,this.ci=new SI,this.referenceDelegate=e(this),this.li=new II(this),this.indexManager=new hI,this.remoteDocumentCache=(function(l){return new wI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new uI(i),this.Pi=new TI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new bI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new AI(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const l=new CI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class CI extends eR{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new ig,this.Ai=null}static Vi(e){return new sg(e)}get di(){if(this.Ai)return this.Ai;throw de(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=me.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,ye.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class yh{constructor(e,i){this.persistence=e,this.fi=new sa((a=>iR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=yI(this,i)}static Vi(e,i){return new yh(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,ye.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xc(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=Ue(),l=Ue();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new rg(e,i.fromCache,a,l)}}class xI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class NI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return gS()?8:tR(hn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new xI;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(Xa()<=ze.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",$a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Xa()<=ze.DEBUG&&ae("QueryEngine","Query:",$a(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Xa()<=ze.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",$a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):X.resolve())}gs(e,i){if(G0(i))return X.resolve(null);let a=qi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Tm(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ue(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.bs(i,y);return this.Ss(i,_,d,g.readTime)?this.gs(e,Tm(i,null,"F")):this.Ds(e,_,i,g)}))))})))))}ps(e,i,a,l){return G0(i)||l.isEqual(ye.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Xa()<=ze.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$a(i)),this.Ds(e,d,i,$2(l,Pl)).next((y=>y)))}))}bs(e,i){let a=new jt(XE(e));return i.forEach(((l,c)=>{Nh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return Xa()<=ze.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",$a(i)),this.fs.getDocumentsMatchingQuery(e,i,mr.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ag="LocalStore",DI=3e8;class OI{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new pt(Le),this.Fs=new sa((c=>Jm(c)),Zm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function MI(s,e,i,a){return new OI(s,e,i,a)}async function bT(s,e){const i=be(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Ue();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}for(const _ of c){y.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function VI(s,e){const i=be(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,b){const A=_.batch,O=A.keys();let F=X.resolve();return O.forEach((J=>{F=F.next((()=>b.getEntry(g,J))).next((se=>{const ie=_.docVersions.get(J);qe(ie!==null,48541),se.version.compareTo(ie)<0&&(A.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),b.addEntry(se)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(g,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Ue();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function ST(s){const e=be(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function kI(s,e){const i=be(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];e.targetChanges.forEach(((b,A)=>{const O=l.get(A);if(!O)return;y.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let F=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(an.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),l=l.insert(A,F),(function(se,ie,ge){return se.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=DI?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(O,F,b)&&y.push(i.li.updateTargetData(c,F))}));let g=Ts(),_=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),y.push(zI(c,d,e.documentUpdates).next((b=>{g=b.Bs,_=b.Ls}))),!a.isEqual(ye.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(b)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.vs=l,c)))}function zI(s,e,i){let a=Ue(),l=Ue();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ts();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(ye.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):ae(ag,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{Bs:d,Ls:l}}))}function LI(s,e){const i=be(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ym),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function UI(s,e){const i=be(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new or(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function wm(s,e,i){const a=be(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;ae(ag,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function iv(s,e,i){const a=be(s);let l=ye.min(),c=Ue();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,b){const A=be(g),O=A.Fs.get(b);return O!==void 0?X.resolve(A.vs.get(O)):A.li.getTargetData(_,b)})(a,d,qi(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:ye.min(),i?c:Ue()))).next((y=>(PI(a,wR(e),y),{documents:y,ks:c})))))}function PI(s,e,i){let a=s.Ms.get(e)||ye.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class sv{constructor(){this.activeTargetIds=DR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jI{constructor(){this.vo=new sv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new sv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BI{Mo(e){}shutdown(){}}const rv="ConnectivityMonitor";class av{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(rv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bc=null;function Rm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}const nm="RestConnection",qI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class HI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===uh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=Rm(),y=this.Qo(e,i.toUriEncodedString());ae(nm,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,c);const{host:_}=new URL(y),b=po(_);return this.zo(e,y,g,a,b).then((A=>(ae(nm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw lo(nm,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",a),A}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=qI[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class GI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ln="WebChannelConnection",Al=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class so extends HI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!so.c_){const e=IE();Al(e,RE.STAT_EVENT,(i=>{i.stat===gm.PROXY?ae(ln,"STAT_EVENT: detected buffering proxy"):i.stat===gm.NOPROXY&&ae(ln,"STAT_EVENT: detected no buffering proxy")})),so.c_=!0}}zo(e,i,a,l,c){const d=Rm();return new Promise(((y,g)=>{const _=new AE;_.setWithCredentials(!0),_.listenOnce(wE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Yc.NO_ERROR:const A=_.getResponseJson();ae(ln,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case Yc.TIMEOUT:ae(ln,`RPC '${e}' ${d} timed out`),g(new ue($.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const O=_.getStatus();if(ae(ln,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const se=(function(ge){const Ae=ge.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Ae)>=0?Ae:$.UNKNOWN})(J.status);g(new ue(se,J.message))}else g(new ue($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ue($.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(ln,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);ae(ln,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=Rm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");ae(ln,`Creating RPC '${e}' stream ${l}: ${_}`,y);const b=d.createWebChannel(_,y);this.I_(b);let A=!1,O=!1;const F=new GI({Ho:J=>{O?ae(ln,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(A||(ae(ln,`Opening RPC '${e}' stream ${l} transport.`),b.open(),A=!0),ae(ln,`RPC '${e}' stream ${l} sending:`,J),b.send(J))},Jo:()=>b.close()});return Al(b,Rl.EventType.OPEN,(()=>{O||(ae(ln,`RPC '${e}' stream ${l} transport opened.`),F.i_())})),Al(b,Rl.EventType.CLOSE,(()=>{O||(O=!0,ae(ln,`RPC '${e}' stream ${l} transport closed`),F.o_(),this.E_(b))})),Al(b,Rl.EventType.ERROR,(J=>{O||(O=!0,lo(ln,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),F.o_(new ue($.UNAVAILABLE,"The operation could not be completed")))})),Al(b,Rl.EventType.MESSAGE,(J=>{if(!O){const se=J.data[0];qe(!!se,16349);const ie=se,ge=ie?.error||ie[0]?.error;if(ge){ae(ln,`RPC '${e}' stream ${l} received error:`,ge);const Ae=ge.status;let _e=(function(Me){const x=zt[Me];if(x!==void 0)return lT(x)})(Ae),Xe=ge.message;_e===void 0&&(_e=$.INTERNAL,Xe="Unknown error status: "+Ae+" with message "+ge.message),O=!0,F.o_(new ue(_e,Xe)),b.close()}else ae(ln,`RPC '${e}' stream ${l} received:`,se),F.__(se)}})),so.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CE()}}function FI(s){return new so(s)}function im(){return typeof document<"u"?document:null}function kh(s){return new XR(s,!0)}so.c_=!1;class og{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ov="PersistentStream";class AT{constructor(e,i,a,l,c,d,y,g){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new og(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Es(i.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ue($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QI extends AT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=WR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return ye.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ye.min():d.readTime?kn(d.readTime):ye.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Am(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=Em(g)?{documents:tI(c,g)}:{query:nI(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=hT(c,d.resumeToken);const _=bm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(ye.min())>0){y.readTime=gh(c,d.snapshotVersion.toTimestamp());const _=bm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=sI(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Am(this.serializer),i.removeTarget=e,this.K_(i)}}class KI extends AT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=eI(e.writeResults,e.commitTime),a=kn(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Am(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>gT(this.serializer,a)))};this.K_(i)}}class YI{}class XI extends YI{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Sm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue($.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,Sm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $I(s,e,i,a){return new XI(s,e,i,a)}class JI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class ZI{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(ae(ia,"Restarting streams for network reachability change."),await(async function(g){const _=be(g);_.Ea.add(4),await su(_),_.Va.set("Unknown"),_.Ea.delete(4),await zh(_)})(this))}))})),this.Va=new JI(a,l)}}async function zh(s){if(ra(s))for(const e of s.Ra)await e(!0)}async function su(s){for(const e of s.Ra)await e(!1)}function wT(s,e){const i=be(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hg(i)?cg(i):bo(i).O_()&&ug(i,e))}function lg(s,e){const i=be(s),a=bo(i);i.Ia.delete(e),a.O_()&&RT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Va.set("Unknown"))}function ug(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}bo(s).Z_(e)}function RT(s,e){s.da.$e(e),bo(s).X_(e)}function cg(s){s.da=new FR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),bo(s).start(),s.Va.ua()}function hg(s){return ra(s)&&!bo(s).x_()&&s.Ia.size>0}function ra(s){return be(s).Ea.size===0}function IT(s){s.da=void 0}async function WI(s){s.Va.set("Online")}async function eC(s){s.Ia.forEach(((e,i)=>{ug(s,e)}))}async function tC(s,e){IT(s),hg(s)?(s.Va.ha(e),cg(s)):s.Va.set("Unknown")}async function nC(s,e,i){if(s.Va.set("Online"),e instanceof cT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,e)}catch(a){ae(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await _h(s,a)}else if(e instanceof Zc?s.da.Xe(e):e instanceof uT?s.da.st(e):s.da.tt(e),!i.isEqual(ye.min()))try{const a=await ST(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const b=c.Ia.get(g);if(!b)return;c.Ia.set(g,b.withResumeToken(an.EMPTY_BYTE_STRING,b.snapshotVersion)),RT(c,g);const A=new or(b.target,g,_,b.sequenceNumber);ug(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){ae(ia,"Failed to raise snapshot:",a),await _h(s,a)}}async function _h(s,e,i){if(!To(e))throw e;s.Ea.add(1),await su(s),s.Va.set("Offline"),i||(i=()=>ST(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await zh(s)}))}function CT(s,e){return e().catch((i=>_h(s,i,e)))}async function Lh(s){const e=be(s),i=_r(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;iC(e);)try{const l=await LI(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,sC(e,l)}catch(l){await _h(e,l)}xT(e)&&NT(e)}function iC(s){return ra(s)&&s.Ta.length<10}function sC(s,e){s.Ta.push(e);const i=_r(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function xT(s){return ra(s)&&!_r(s).x_()&&s.Ta.length>0}function NT(s){_r(s).start()}async function rC(s){_r(s).ra()}async function aC(s){const e=_r(s);for(const i of s.Ta)e.ea(i.mutations)}async function oC(s,e,i){const a=s.Ta.shift(),l=eg.from(a,e,i);await CT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Lh(s)}async function lC(s,e){e&&_r(s).Y_&&await(async function(a,l){if((function(d){return oT(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();_r(a).B_(),await CT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Lh(a)}})(s,e),xT(s)&&NT(s)}async function lv(s,e){const i=be(s);i.asyncQueue.verifyOperationInProgress(),ae(ia,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await su(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await zh(i)}async function uC(s,e){const i=be(s);e?(i.Ea.delete(2),await zh(i)):e||(i.Ea.add(2),await su(i),i.Va.set("Unknown"))}function bo(s){return s.ma||(s.ma=(function(i,a,l){const c=be(i);return c.sa(),new QI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:WI.bind(null,s),Yo:eC.bind(null,s),t_:tC.bind(null,s),J_:nC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),hg(s)?cg(s):s.Va.set("Unknown")):(await s.ma.stop(),IT(s))}))),s.ma}function _r(s){return s.fa||(s.fa=(function(i,a,l){const c=be(i);return c.sa(),new KI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rC.bind(null,s),t_:lC.bind(null,s),ta:aC.bind(null,s),na:oC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Lh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new fg(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(s,e){if(Es("AsyncQueue",`${e}: ${s}`),To(s))return new ue($.UNAVAILABLE,`${e}: ${s}`);throw s}class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||me.comparator(i.key,a.key):(i,a)=>me.comparator(i.key,a.key),this.keyedMap=Il(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ro;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class uv{constructor(){this.ga=new pt(me.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):de(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class go{constructor(e,i,a,l,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new go(e,i,ro.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class cC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class hC{constructor(){this.queries=cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=be(i),c=l.queries;l.queries=cv(),c.forEach(((d,y)=>{for(const g of y.ba)g.onError(a)}))})(this,new ue($.ABORTED,"Firestore shutting down"))}}function cv(){return new sa((s=>YE(s)),xh)}async function DT(s,e){const i=be(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new cC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=dg(d,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&mg(i)}async function OT(s,e){const i=be(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function fC(s,e){const i=be(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&mg(i)}function dC(s,e,i){const a=be(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function mg(s){s.Ca.forEach((e=>{e.next()}))}var Im,hv;(hv=Im||(Im={})).Ma="default",hv.Cache="cache";class MT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new go(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Im.Cache}}class VT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class mC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=XE(e),this.tu=new ro(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new uv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const O=l.get(b),F=Nh(this.query,A)?A:null,J=!!O&&this.mutatedKeys.has(O.key),se=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ie=!1;O&&F?O.data.isEqual(F.data)?J!==se&&(a.track({type:3,doc:F}),ie=!0):this.su(O,F)||(a.track({type:2,doc:F}),ie=!0,(g&&this.eu(F,g)>0||_&&this.eu(F,_)<0)&&(y=!0)):!O&&F?(a.track({type:0,doc:F}),ie=!0):O&&!F&&(a.track({type:1,doc:O}),ie=!0,(g||_)&&(y=!0)),ie&&(F?(d=d.add(F),c=se?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(F,J){const se=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Vt:ie})}};return se(F)-se(J)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,_=g!==this.Xa;return this.Xa=g,d.length!==0||_?{snapshot:new go(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new kT(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new VT(a))})),i}cu(e){this.Za=e.ks,this.Ya=Ue();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gg="SyncEngine";class gC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class pC{constructor(e){this.key=e,this.hu=!1}}class yC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((y=>YE(y)),xh),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(me.comparator),this.Au=new Map,this.Vu=new ig,this.du={},this.mu=new Map,this.fu=mo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _C(s,e,i=!0){const a=BT(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await zT(a,e,i,!0),l}async function vC(s,e){const i=BT(s);await zT(i,e,!0,!1)}async function zT(s,e,i,a){const l=await UI(s.localStore,qi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await EC(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&wT(s.remoteStore,l),y}async function EC(s,e,i,a,l){s.pu=(A,O,F)=>(async function(se,ie,ge,Ae){let _e=ie.view.ru(ge);_e.Ss&&(_e=await iv(se.localStore,ie.query,!1).then((({documents:x})=>ie.view.ru(x,_e))));const Xe=Ae&&Ae.targetChanges.get(ie.targetId),$e=Ae&&Ae.targetMismatches.get(ie.targetId)!=null,Me=ie.view.applyChanges(_e,se.isPrimaryClient,Xe,$e);return dv(se,ie.targetId,Me.au),Me.snapshot})(s,A,O,F);const c=await iv(s.localStore,e,!0),d=new mC(e,c.ks),y=d.ru(c.documents),g=iu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,g);dv(s,i,_.au);const b=new gC(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function TC(s,e,i){const a=be(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!xh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await wm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&lg(a.remoteStore,l.targetId),Cm(a,l.targetId)})).catch(Eo)):(Cm(a,l.targetId),await wm(a.localStore,l.targetId,!0))}async function bC(s,e){const i=be(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),lg(i.remoteStore,a.targetId))}async function SC(s,e,i){const a=NC(s);try{const l=await(function(d,y){const g=be(d),_=dt.now(),b=y.reduce(((F,J)=>F.add(J.key)),Ue());let A,O;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=Ts(),se=Ue();return g.xs.getEntries(F,b).next((ie=>{J=ie,J.forEach(((ge,Ae)=>{Ae.isValidDocument()||(se=se.add(ge))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,J))).next((ie=>{A=ie;const ge=[];for(const Ae of y){const _e=PR(Ae,A.get(Ae.key).overlayedDocument);_e!=null&&ge.push(new br(Ae.key,_e,BE(_e.value.mapValue),cn.exists(!0)))}return g.mutationQueue.addMutationBatch(F,_,ge,y)})).next((ie=>{O=ie;const ge=ie.applyToLocalDocumentSet(A,se);return g.documentOverlayCache.saveOverlays(F,ie.batchId,ge)}))})).then((()=>({batchId:O.batchId,changes:JE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.du[d.currentUser.toKey()];_||(_=new pt(Le)),_=_.insert(y,g),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await ru(a,l.changes),await Lh(a.remoteStore)}catch(l){const c=dg(l,"Failed to persist write");i.reject(c)}}async function LT(s,e){const i=be(s);try{const a=await kI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qe(d.hu,14607):l.removedDocuments.size>0&&(qe(d.hu,42227),d.hu=!1))})),await ru(i,a,e)}catch(a){await Eo(a)}}function fv(s,e,i){const a=be(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=be(d);g.onlineState=y;let _=!1;g.queries.forEach(((b,A)=>{for(const O of A.ba)O.va(y)&&(_=!0)})),_&&mg(g)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function AC(s,e,i){const a=be(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new pt(me.comparator);d=d.insert(c,Qt.newNoDocument(c,ye.min()));const y=Ue().add(c),g=new Vh(ye.min(),new Map,new pt(Le),d,y);await LT(a,g),a.Ru=a.Ru.remove(c),a.Au.delete(e),pg(a)}else await wm(a.localStore,e,!1).then((()=>Cm(a,e,i))).catch(Eo)}async function wC(s,e){const i=be(s),a=e.batch.batchId;try{const l=await VI(i.localStore,e);PT(i,a,null),UT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ru(i,l)}catch(l){await Eo(l)}}async function RC(s,e,i){const a=be(s);try{const l=await(function(d,y){const g=be(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return g.mutationQueue.lookupMutationBatch(_,y).next((A=>(qe(A!==null,37113),b=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,b,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>g.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);PT(a,e,i),UT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ru(a,l)}catch(l){await Eo(l)}}function UT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function PT(s,e,i){const a=be(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function Cm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||jT(s,a)}))}function jT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(lg(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),pg(s))}function dv(s,e,i){for(const a of i)a instanceof VT?(s.Vu.addReference(a.key,e),IC(s,a)):a instanceof kT?(ae(gg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||jT(s,a.key)):de(19791,{wu:a})}function IC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ae(gg,"New document in limbo: "+i),s.Eu.add(a),pg(s))}function pg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new me(ft.fromString(e)),a=s.fu.next();s.Au.set(a,new pC(i)),s.Ru=s.Ru.insert(i,a),wT(s.remoteStore,new or(qi(Ch(i.path)),a,"TargetPurposeLimboResolution",wh.ce))}}async function ru(s,e,i){const a=be(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(_){l.push(_);const b=rg.Es(g.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(g,_){const b=be(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(O=>X.forEach(O.Ts,(F=>b.persistence.referenceDelegate.addReference(A,O.targetId,F))).next((()=>X.forEach(O.Is,(F=>b.persistence.referenceDelegate.removeReference(A,O.targetId,F)))))))))}catch(A){if(!To(A))throw A;ae(ag,"Failed to update sequence numbers: "+A)}for(const A of _){const O=A.targetId;if(!A.fromCache){const F=b.vs.get(O),J=F.snapshotVersion,se=F.withLastLimboFreeSnapshotVersion(J);b.vs=b.vs.insert(O,se)}}})(a.localStore,c))}async function CC(s,e){const i=be(s);if(!i.currentUser.isEqual(e)){ae(gg,"User change. New user:",e.toKey());const a=await bT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ue($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ru(i,a.Ns)}}function xC(s,e){const i=be(s),a=i.Au.get(e);if(a&&a.hu)return Ue().add(a.key);{let l=Ue();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function BT(s){const e=be(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.Pu.J_=fC.bind(null,e.eventManager),e.Pu.yu=dC.bind(null,e.eventManager),e}function NC(s){const e=be(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RC.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return MI(this.persistence,new NI,e.initialUser,this.serializer)}Cu(e){return new TT(sg.Vi,this.serializer)}Du(e){return new jI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class DC extends vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){qe(this.persistence.referenceDelegate instanceof yh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new gI(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new TT((a=>yh.Vi(a,i)),this.serializer)}}class xm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>fv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=CC.bind(null,this.syncEngine),await uC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hC})()}createDatastore(e){const i=kh(e.databaseInfo.databaseId),a=FI(e.databaseInfo);return $I(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new ZI(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>fv(this.syncEngine,i,0)),(function(){return av.v()?new av:new BI})())}createSyncEngine(e,i){return(function(l,c,d,y,g,_,b){const A=new yC(l,c,d,y,g,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=be(i);ae(ia,"RemoteStore shutting down."),a.Ea.add(5),await su(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class qT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}let OC=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ue($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=be(l),y={documents:c.map((A=>ph(d.serializer,A)))},g=await d.jo("BatchGetDocuments",d.serializer.databaseId,ft.emptyPath(),y,c.length),_=new Map;g.forEach((A=>{const O=ZR(d.serializer,A);_.set(O.key.toString(),O)}));const b=[];return c.forEach((A=>{const O=_.get(A.toString());qe(!!O,55234,{key:A}),b.push(O)})),b})(this.datastore,e);return i.forEach((a=>this.recordVersion(a))),i}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((i=>{e.delete(i.key.toString())})),e.forEach(((i,a)=>{const l=me.fromPath(a);this.mutations.push(new aT(l,this.precondition(l)))})),await(async function(a,l){const c=be(a),d={writes:l.map((y=>gT(c.serializer,y)))};await c.Wo("Commit",c.serializer.databaseId,ft.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw de(50498,{Gu:e.constructor.name});i=ye.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new ue($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(ye.min())?cn.exists(!1):cn.updateTime(i):cn.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(ye.min()))throw new ue($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(i)}return cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class MC{constructor(e,i,a,l,c){this.asyncQueue=e,this.datastore=i,this.options=a,this.updateFunction=l,this.deferred=c,this.zu=a.maxAttempts,this.M_=new og(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new OC(this.datastore),i=this.Ju(e);i&&i.then((a=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(a)})).catch((l=>{this.Zu(l)}))))})).catch((a=>{this.Zu(a)}))}))}Ju(e){try{const i=this.updateFunction(e);return!tu(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const i=e.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!oT(i)}return!1}}const vr="FirestoreClient";class VC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=dg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function sm(s,e){s.asyncQueue.verifyOperationInProgress(),ae(vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await bT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function mv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await kC(s);ae(vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>lv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>lv(e.remoteStore,l))),s._onlineComponents=e}async function kC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(vr,"Using user provided OfflineComponentProvider");try{await sm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;lo("Error using user provided cache. Falling back to memory cache: "+i),await sm(s,new vh)}}else ae(vr,"Using default OfflineComponentProvider"),await sm(s,new DC(void 0));return s._offlineComponents}async function yg(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(vr,"Using user provided OnlineComponentProvider"),await mv(s,s._uninitializedComponentsProvider._online)):(ae(vr,"Using default OnlineComponentProvider"),await mv(s,new xm))),s._onlineComponents}function zC(s){return yg(s).then((e=>e.syncEngine))}function LC(s){return yg(s).then((e=>e.datastore))}async function Nm(s){const e=await yg(s),i=e.eventManager;return i.onListen=_C.bind(null,e.syncEngine),i.onUnlisten=TC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=vC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=bC.bind(null,e.syncEngine),i}function UC(s,e,i,a){const l=new qT(a),c=new MT(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>DT(await Nm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>OT(await Nm(s),c)))}}function PC(s,e,i={}){const a=new gs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const b=new qT({next:O=>{b.Nu(),d.enqueueAndForget((()=>OT(c,A)));const F=O.docs.has(y);!F&&O.fromCache?_.reject(new ue($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&O.fromCache&&g&&g.source==="server"?_.reject(new ue($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),A=new MT(Ch(y.path),b,{includeMetadataChanges:!0,Ka:!0});return DT(c,A)})(await Nm(s),s.asyncQueue,e,i,a))),a.promise}function jC(s,e){const i=new gs;return s.asyncQueue.enqueueAndForget((async()=>SC(await zC(s),e,i))),i.promise}function BC(s,e,i){const a=new gs;return s.asyncQueue.enqueueAndForget((async()=>{const l=await LC(s);new MC(s.asyncQueue,l,i,e,a).ju()})),a.promise}function HT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const qC="ComponentProvider",gv=new Map;function HC(s,e,i,a,l){return new aR(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,HT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const GT="firestore.googleapis.com",pv=!0;class yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=pv}else this.host=e.host,this.ssl=e.ssl??pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ET;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dI)throw new ue($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _g{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new U2;switch(a.type){case"firstParty":return new q2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=gv.get(i);a&&(ae(qC,"Removing Datastore"),gv.delete(i),a.terminate())})(this),Promise.resolve()}}function GC(s,e,i,a={}){s=Zn(s,_g);const l=po(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;l&&(Uv(`https://${y}`),Pv("Firestore",!0)),c.host!==GT&&c.host!==y&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!dr(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=un.MOCK_USER;else{_=aS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ue($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new un(A)}s._authCredentials=new P2(new NE(_,b))}}class Uh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class Rt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(eu(i,Rt._jsonSchema))return new Rt(e,a||null,new me(ft.fromString(i.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Lt("string",Rt._jsonSchemaVersion),referencePath:Lt("string")};class Gl extends Uh{constructor(e,i,a){super(e,i,Ch(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new me(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function $n(s,e,...i){if(s=rn(s),arguments.length===1&&(e=Qm.newId()),Y2("doc","path",e),s instanceof _g){const a=ft.fromString(e,...i);return D0(a),new Rt(s,null,new me(a))}{if(!(s instanceof Rt||s instanceof Gl))throw new ue($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return D0(a),new Rt(s.firestore,s instanceof Gl?s.converter:null,new me(a))}}const _v="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new og(this,"async_queue_retry"),this._c=()=>{const a=im();a&&ae(_v,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=im();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=im();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ae(_v,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",Ev(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=fg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&de(47125,{Pc:Ev(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Ev(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Er extends _g{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new vv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function FC(s,e){const i=typeof s=="object"?s:Hv(),a=typeof s=="string"?s:uh,l=zm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=sS("firestore");c&&GC(l,...c)}return l}function Ph(s){if(s._terminated)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||QC(s),s._firestoreClient}function QC(s){const e=s._freezeSettings(),i=HC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new VC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(an.fromBase64String(e))}catch(i){throw new ue($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Lt("string",Mn._jsonSchemaVersion),bytes:Lt("string")};class jh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bh{constructor(e){this._methodName=e}}class Hi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(eu(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Lt("string",Hi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new pi(e.vectorValues);throw new ue($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Lt("string",pi._jsonSchemaVersion),vectorValues:Lt("object")};const KC=/^__.*__$/;class YC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new nu(e,this.data,i,this.fieldTransforms)}}class FT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function QT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{dataSource:s})}}class qh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Eh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(QT(this.dataSource)&&KC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class XC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||kh(e)}createContext(e,i,a,l=!1){return new qh({dataSource:e,methodName:i,targetDoc:a,path:sn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vg(s){const e=s._freezeSettings(),i=kh(s._databaseId);return new XC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function KT(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);Tg("Data must be an object, but it was:",d,a);const y=$T(a,d);let g,_;if(c.merge)g=new Vn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const O=Fl(e,A,i);if(!d.contains(O))throw new ue($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);WT(b,O)||b.push(O)}g=new Vn(b),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new YC(new mn(y),g,_)}class Hh extends Bh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function $C(s,e,i){return new qh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Eg extends Bh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=$C(this,e,!0),a=this.Ac.map((c=>au(c,i))),l=new fo(a);return new kR(e.path,l)}isEqual(e){return e instanceof Eg&&dr(this.Ac,e.Ac)}}function YT(s,e,i,a){const l=s.createContext(1,e,i);Tg("Data must be an object, but it was:",l,a);const c=[],d=mn.empty();Tr(a,((g,_)=>{const b=ZT(e,g,i);_=rn(_);const A=l.childContextForFieldPath(b);if(_ instanceof Hh)c.push(b);else{const O=au(_,A);O!=null&&(c.push(b),d.set(b,O))}}));const y=new Vn(c);return new FT(d,y,l.fieldTransforms)}function XT(s,e,i,a,l,c){const d=s.createContext(1,e,i),y=[Fl(e,a,i)],g=[l];if(c.length%2!=0)throw new ue($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)y.push(Fl(e,c[O])),g.push(c[O+1]);const _=[],b=mn.empty();for(let O=y.length-1;O>=0;--O)if(!WT(_,y[O])){const F=y[O];let J=g[O];J=rn(J);const se=d.childContextForFieldPath(F);if(J instanceof Hh)_.push(F);else{const ie=au(J,se);ie!=null&&(_.push(F),b.set(F,ie))}}const A=new Vn(_);return new FT(b,A,d.fieldTransforms)}function au(s,e){if(JT(s=rn(s)))return Tg("Unsupported field value:",e,s),$T(s,e);if(s instanceof Bh)return(function(a,l){if(!QT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=au(y,l.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return OR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=dt.fromDate(a);return{timestampValue:gh(l.serializer,c)}}if(a instanceof dt){const c=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:gh(l.serializer,c)}}if(a instanceof Hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Mn)return{bytesValue:hT(l.serializer,a._byteString)};if(a instanceof Rt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ng(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof pi)return(function(d,y){const g=d instanceof pi?d.toArray():d;return{mapValue:{fields:{[PE]:{stringValue:jE},[ch]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw y.createError("VectorValues must only contain numeric values.");return Wm(y.serializer,b)}))}}}}}})(a,l);if(vT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Km(a)}`)})(s,e)}function $T(s,e){const i={};return ME(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((a,l)=>{const c=au(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function JT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof Hi||s instanceof Mn||s instanceof Rt||s instanceof Bh||s instanceof pi||vT(s))}function Tg(s,e,i){if(!JT(i)||!DE(i)){const a=Km(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Fl(s,e,i){if((e=rn(e))instanceof jh)return e._internalPath;if(typeof e=="string")return ZT(s,e);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const JC=new RegExp("[~\\*/\\[\\]]");function ZT(s,e,i){if(e.search(JC)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new jh(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Eh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new ue($.INVALID_ARGUMENT,y+s+g)}function WT(s,e){return s.some((i=>i.isEqual(e)))}class e1{convertValue(e,i="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Tr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ch].arrayValue?.values?.map((a=>wt(a.doubleValue)));return new pi(i)}convertGeoPoint(e){return new Hi(wt(e.latitude),wt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Rh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=gr(e);return new dt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ft.fromString(e);qe(_T(a),9688,{name:e});const l=new Bl(a.get(1),a.get(3)),c=new me(a.popFirst(5));return l.isEqual(i)||Es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class bg extends e1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,i)}}function qc(...s){return new Eg("arrayUnion",s)}const Tv="@firebase/firestore",bv="4.10.0";function Sv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Th{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Fl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ZC extends Th{data(){return super.data()}}function WC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function t1(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class ex extends e1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,i)}}class eo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fr extends Th{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Fl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=fr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",fr._jsonSchema={type:Lt("string",fr._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Wc extends fr{data(e={}){return super.data(e)}}class ao{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new eo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Wc(this._firestore,this._userDataWriter,a.key,a,new eo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Wc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new eo(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Wc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new eo(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),b=d.indexOf(y.doc.key)),{type:tx(y.type),doc:g,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:s})}}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Lt("string",ao._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};const nx={maxAttempts:5};function xl(s,e){if((s=rn(s)).firestore!==e)throw new ue($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class ix{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=vg(e)}get(e){const i=xl(e,this._firestore),a=new ex(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return de(24041);const c=l[0];if(c.isFoundDocument())return new Th(this._firestore,a,c.key,c,i.converter);if(c.isNoDocument())return new Th(this._firestore,a,i._key,null,i.converter);throw de(18433,{doc:c})}))}set(e,i,a){const l=xl(e,this._firestore),c=t1(l.converter,i,a),d=KT(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,a);return this._transaction.set(l._key,d),this}update(e,i,a,...l){const c=xl(e,this._firestore);let d;return d=typeof(i=rn(i))=="string"||i instanceof jh?XT(this._dataReader,"Transaction.update",c._key,i,a,l):YT(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(e){const i=xl(e,this._firestore);return this._transaction.delete(i._key),this}}class sx extends ix{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=xl(e,this._firestore),a=new bg(this._firestore);return super.get(e).then((l=>new fr(this._firestore,a,i._key,l._document,new eo(!1,!1),i.converter)))}}function rx(s,e,i){s=Zn(s,Er);const a={...nx,...i};(function(d){if(d.maxAttempts<1)throw new ue($.INVALID_ARGUMENT,"Max attempts must be at least 1")})(a);const l=Ph(s);return BC(l,(c=>e(new sx(s,c))),a)}function ax(s){s=Zn(s,Rt);const e=Zn(s.firestore,Er),i=Ph(e);return PC(i,s._key).then((a=>n1(e,s,a)))}function ox(s,e,i){s=Zn(s,Rt);const a=Zn(s.firestore,Er),l=t1(s.converter,e,i),c=vg(a);return Sg(a,[KT(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,cn.none())])}function nr(s,e,i,...a){s=Zn(s,Rt);const l=Zn(s.firestore,Er),c=vg(l);let d;return d=typeof(e=rn(e))=="string"||e instanceof jh?XT(c,"updateDoc",s._key,e,i,a):YT(c,"updateDoc",s._key,e),Sg(l,[d.toMutation(s._key,cn.exists(!0))])}function lx(s){return Sg(Zn(s.firestore,Er),[new Mh(s._key,cn.none())])}function Av(s,...e){s=rn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Sv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Sv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof Rt)d=Zn(s.firestore,Er),y=Ch(s._key.path),c={next:_=>{e[a]&&e[a](n1(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Zn(s,Uh);d=Zn(_.firestore,Er),y=_._query;const b=new bg(d);c={next:A=>{e[a]&&e[a](new ao(d,b,_,A))},error:e[a+1],complete:e[a+2]},WC(s._query)}const g=Ph(d);return UC(g,y,l,c)}function Sg(s,e){const i=Ph(s);return jC(i,e)}function n1(s,e,i){const a=i.docs.get(e._key),l=new bg(s);return new fr(s,l,e._key,a,new eo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){L2(yo),oo(new ea("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new Er(new j2(a.getProvider("auth-internal")),new H2(d,a.getProvider("app-check-internal")),oR(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),cr(Tv,bv,e),cr(Tv,bv,"esm2020")})();const i1=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const ux=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const cx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const wv=s=>{const e=cx(s);return e.charAt(0).toUpperCase()+e.slice(1)};var hx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const dx=ot.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>ot.createElement("svg",{ref:g,...hx,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:i1("lucide",l),...!c&&!fx(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,b])=>ot.createElement(_,b)),...Array.isArray(c)?c:[c]]));const ut=(s,e)=>{const i=ot.forwardRef(({className:a,...l},c)=>ot.createElement(dx,{ref:c,iconNode:e,className:i1(`lucide-${ux(wv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=wv(s),i};const mx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Dm=ut("book-open",mx);const gx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wl=ut("circle-check-big",gx);const px=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yx=ut("copy",px);const _x=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Rv=ut("crown",_x);const vx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],Ex=ut("dice-1",vx);const Tx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M9 15h.01",key:"fzyn71"}]],bx=ut("dice-2",Tx);const Sx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ax=ut("dice-3",Sx);const wx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}]],Rx=ut("dice-4",wx);const Ix=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],Cx=ut("dice-5",Ix);const xx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Nx=ut("dice-6",xx);const Dx=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],Ql=ut("dices",Dx);const Ox=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],Mx=ut("gavel",Ox);const Vx=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],kx=ut("ghost",Vx);const zx=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],Lx=ut("hammer",zx);const Ux=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],s1=ut("history",Ux);const Px=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],r1=ut("house",Px);const jx=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Bx=ut("loader",jx);const qx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Om=ut("log-out",qx);const Hx=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Gx=ut("megaphone",Hx);const Fx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],a1=ut("rotate-ccw",Fx);const Qx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Kx=ut("skull",Qx);const Yx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Iv=ut("sparkles",Yx);const Xx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$x=ut("trash-2",Xx);const Jx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zx=ut("trophy",Jx);const Wx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cv=ut("user",Wx);const eN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],o1=ut("x",eN),tN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:590c84080a05dcfd6aa637"},l1=qv(tN),rm=k2(l1),On=FC(l1),mi=typeof __app_id<"u"?__app_id:"ghost-dice",nN="7",Ka="ghost_dice_roomId",Wr={1:Ex,2:bx,3:Ax,4:Rx,5:Cx,6:Nx},Ya=[{name:"Green",color:"text-green-400",border:"border-green-500",bg:"bg-green-900/20",shadow:"shadow-green-500/20",ring:"ring-green-500"},{name:"Orange",color:"text-orange-400",border:"border-orange-500",bg:"bg-orange-900/20",shadow:"shadow-orange-500/20",ring:"ring-orange-500"},{name:"Cyan",color:"text-cyan-400",border:"border-cyan-500",bg:"bg-cyan-900/20",shadow:"shadow-cyan-500/20",ring:"ring-cyan-500"},{name:"Yellow",color:"text-yellow-400",border:"border-yellow-500",bg:"bg-yellow-900/20",shadow:"shadow-yellow-500/20",ring:"ring-yellow-500"},{name:"Purple",color:"text-purple-400",border:"border-purple-500",bg:"bg-purple-900/20",shadow:"shadow-purple-500/20",ring:"ring-purple-500"},{name:"Rose",color:"text-rose-400",border:"border-rose-500",bg:"bg-rose-900/20",shadow:"shadow-rose-500/20",ring:"ring-rose-500"}],Hc=({isShaking:s})=>S.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-900/40 via-gray-950 to-black"}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(Wr),l=a[i%a.length],c=Wr[l];return S.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:S.jsx(c,{size:32})},i)})}),S.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),am=()=>S.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[S.jsx(Ql,{size:12,className:"text-indigo-400"}),S.jsx("span",{className:"text-[10px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),xv=()=>S.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[S.jsx(Ql,{size:22,className:"text-indigo-400"}),S.jsx("span",{className:"text-[20px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),Nv=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:l})=>S.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Haunt?"}),S.jsx("p",{className:"text-zinc-400 mb-6 text-sm",children:l?"Leaving now will forfeit your soul (and the game).":"Leaving the lobby will disconnect you."}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("button",{onClick:i,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),l&&a&&S.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white",children:[S.jsx(r1,{size:18})," Return Group to Lobby"]}),S.jsxs("button",{onClick:s,className:"bg-red-900/80 hover:bg-red-800 text-red-200 py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 border border-red-900",children:[S.jsx(Om,{size:18})," Leave Game"]})]})]})}),iN=({logs:s,onClose:e})=>S.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:S.jsxs("div",{className:"bg-zinc-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-zinc-700 shadow-2xl",children:[S.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[S.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[S.jsx(s1,{size:18,className:"text-indigo-400"})," Sance Logs"]}),S.jsx("button",{onClick:e,className:"p-2 bg-zinc-800 rounded-full hover:bg-zinc-700",children:S.jsx(o1,{className:"text-zinc-400"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>S.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":i.type==="success"?"bg-green-900/10 border-green-500 text-green-300":i.type==="warning"?"bg-indigo-900/10 border-indigo-500 text-indigo-300":"bg-zinc-800/50 border-zinc-600 text-zinc-400"}`,children:[S.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),Dv=({onClose:s})=>S.jsx("div",{className:"fixed inset-0 bg-black/95 z-100 flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-zinc-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-indigo-500/30 flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[S.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[S.jsx(Dm,{className:"text-indigo-400"})," The Grimoire"]}),S.jsx("button",{onClick:s,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400",children:S.jsx(o1,{})})]}),S.jsx("div",{className:"p-6 overflow-y-auto text-zinc-300 space-y-6",children:S.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[S.jsx("h3",{className:"text-xl font-bold text-indigo-400 mb-2",children:"The Basics"}),S.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[S.jsxs("li",{children:["Everyone starts with ",S.jsx("strong",{children:"5 Dice"}),"."]}),S.jsxs("li",{children:["Only ",S.jsx("strong",{children:"you"})," can see your own dice."]}),S.jsx("li",{children:"Goal: Be the last player with dice remaining."}),S.jsxs("li",{children:[S.jsx("strong",{children:"1s (Aces) are Wild!"})," They count as any number, unless the bid is on 1s."]})]})]}),S.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Bidding & Challenging"}),S.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Bid:"})," Claim a quantity of a specific face value on the ",S.jsx("em",{children:"entire table"}),' (e.g., "Five 4s").']}),S.jsxs("li",{children:[S.jsx("strong",{children:"Raise:"})," You must bid a higher quantity OR the same quantity with a higher face value."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Liar!:"})," If you don't believe the previous bid, challenge it!"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Result:"})," If the bid was valid, Challenger loses a die. If invalid, Bidder loses a die."]})]})]})]})})]})}),sN=({data:s,currentUserId:e,onClose:i})=>{if(!s)return null;const a=e===s.loserId,l=e===s.winnerId;let c="bg-zinc-800/95 border-zinc-500 text-white",d="animate-in fade-in zoom-in slide-in-from-bottom-10",y="bg-zinc-700 hover:bg-zinc-600 text-white border-zinc-500";l?(c="bg-green-900/95 border-green-500 text-green-100 shadow-[0_0_100px_rgba(34,197,94,0.5)]",y="bg-green-600 hover:bg-green-500 text-white border-green-400"):a&&(c="bg-red-900/95 border-red-500 text-red-100 shadow-[0_0_100px_rgba(239,68,68,0.5)]",d+=" animate-shake",y="bg-red-800 hover:bg-red-700 text-white border-red-400");const g=Wr[s.bidFace]||Ql;return S.jsxs("div",{className:"fixed inset-0 z-160 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:[a&&S.jsx("div",{className:"absolute inset-0 bg-red-500/10 z-0"}),l&&S.jsx("div",{className:"absolute inset-0 bg-green-500/10 z-0"}),S.jsxs("div",{className:`
      relative z-10 flex flex-col items-center justify-center p-8 rounded-3xl border-4 
      max-w-xl w-full text-center shadow-2xl duration-300
      ${c} ${d}
    `,children:[S.jsxs("div",{className:"mb-6",children:[S.jsx("h2",{className:"text-3xl font-black uppercase tracking-widest mb-2",children:"LIAR CALLED!"}),S.jsxs("p",{className:"text-lg opacity-80",children:[S.jsx("span",{className:"font-bold border-b border-white/30 pb-0.5",children:s.challengerName})," ","called out"," ",S.jsx("span",{className:"font-bold border-b border-white/30 pb-0.5",children:s.bidderName})]})]}),S.jsxs("div",{className:"bg-black/30 p-6 rounded-xl w-full mb-8 border border-white/10",children:[S.jsxs("div",{className:"flex items-center justify-center gap-8 mb-4",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-xs uppercase tracking-wider opacity-70 mb-1",children:"Bid"}),S.jsxs("div",{className:"text-4xl font-black flex items-center gap-2 justify-center",children:[s.bidQuantity," ",S.jsx("span",{className:"text-sm opacity-50",children:"x"})," ",S.jsx(g,{size:32})]})]}),S.jsx("div",{className:"h-12 w-px bg-white/20"}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-xs uppercase tracking-wider opacity-70 mb-1",children:"Found"}),S.jsx("div",{className:`text-4xl font-black ${s.actualCount>=s.bidQuantity?"text-green-400":"text-red-400"}`,children:s.actualCount})]})]}),S.jsx("p",{className:"text-sm italic opacity-75",children:s.actualCount>=s.bidQuantity?"The bid was truthful!":"The bid was a lie!"})]}),S.jsxs("div",{className:"text-2xl font-bold uppercase tracking-wide bg-black/40 px-6 py-3 rounded-full border border-white/20 mb-8",children:[s.loserName," loses a die!"]}),S.jsx("button",{onClick:i,className:`
            w-full py-4 rounded-xl font-bold text-lg uppercase tracking-widest border-2 shadow-lg
            transition-all transform hover:scale-[1.02] active:scale-[0.98]
            ${y}
          `,children:"Continue"})]})]})},rN=S.jsx("style",{children:`
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
    .animate-shake {
      animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
    }
  `}),aN=({winnerName:s,onReturnToLobby:e,isHost:i})=>S.jsxs("div",{className:"fixed inset-0 z-155 bg-black/95 flex flex-col items-center justify-center animate-in fade-in duration-500",children:[S.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,var(--tw-gradient-stops))] from-indigo-900/40 via-black to-black pointer-events-none"}),S.jsxs("div",{className:"z-10 text-center space-y-8 p-8",children:[S.jsx("div",{className:"mb-4",children:S.jsx(Zx,{size:80,className:"text-yellow-400 mx-auto animate-bounce drop-shadow-[0_0_35px_rgba(250,204,21,0.6)]"})}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h2",{className:"text-2xl text-zinc-400 font-serif tracking-widest uppercase",children:"The Deadliest Ghost"}),S.jsx("h1",{className:"text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-linear-to-b from-yellow-300 to-yellow-600 drop-shadow-2xl",children:s})]}),S.jsx("div",{className:"pt-12",children:i?S.jsx("button",{onClick:e,className:"group relative px-8 py-4 bg-zinc-100 text-black font-black text-xl rounded-full hover:bg-white hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)]",children:S.jsxs("span",{className:"flex items-center gap-3",children:[S.jsx(a1,{className:"group-hover:-rotate-180 transition-transform duration-500"}),"RETURN TO LOBBY"]})}):S.jsx("div",{className:"text-zinc-500 animate-pulse font-mono",children:"Waiting for Host to reset..."})})]})]});function oN(){const[s,e]=ot.useState(null),[i,a]=ot.useState("menu"),[l,c]=ot.useState(()=>localStorage.getItem(Ka)||""),[d,y]=ot.useState(""),[g,_]=ot.useState(null),[b,A]=ot.useState(!1),[O,F]=ot.useState(""),[J,se]=ot.useState(!1),[ie,ge]=ot.useState(!1),[Ae,_e]=ot.useState(!1),[Xe,$e]=ot.useState(!1),[Me,x]=ot.useState(!1),[w,C]=ot.useState(null),[V,N]=ot.useState(1),[z,R]=ot.useState(2),[He,Et]=ot.useState(()=>localStorage.getItem("gameHub_playerName")||"");ot.useEffect(()=>{He&&localStorage.setItem("gameHub_playerName",He)},[He]),ot.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await Tw(rm,__initial_auth_token):await pw(rm))();const Z=Aw(rm,e);return()=>Z()},[]),ot.useEffect(()=>{if(!l||!s)return;const oe=Av($n(On,"artifacts",mi,"public","data","rooms",l),Z=>{if(Z.exists()){const ee=Z.data();if(!ee.players.some(Ee=>Ee.id===s.uid)){c(""),localStorage.removeItem(Ka),a("menu"),F("Connection Terminated.");return}_(ee),ee.status==="lobby"?a("lobby"):a("game"),ee.feedbackTrigger?ee.feedbackTrigger.id!==g?.feedbackTrigger?.id&&C(ee.feedbackTrigger):C(null),ee.currentBid&&!g?.currentBid&&(N(ee.currentBid.quantity),R(ee.currentBid.face))}else c(""),localStorage.removeItem(Ka),a("menu"),F("Room vanished into the ether.")});return()=>oe()},[l,s,g?.feedbackTrigger?.id]),ot.useEffect(()=>{const oe=Av($n(On,"game_hub_settings","config"),Z=>{Z.exists()&&Z.data()[nN]?.maintenance?ge(!0):ge(!1)});return()=>oe()},[]);const H=async()=>{if(!He.trim())return F("Name required.");A(!0);const oe="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let Z="";for(let Ee=0;Ee<6;Ee++)Z+=oe.charAt(Math.floor(Math.random()*oe.length));const ee={roomId:Z,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:He,dice:[],diceCount:5,eliminated:!1,ready:!0}],logs:[],turnIndex:0,currentBid:null,turnState:"IDLE",feedbackTrigger:null,winner:null,roundLoserId:null,revealReadyIds:[]};try{await ox($n(On,"artifacts",mi,"public","data","rooms",Z),ee),c(Z),localStorage.setItem(Ka,Z),a("lobby")}catch{F("Network error.")}A(!1)},ne=async()=>{if(!d||!He)return F("Code and Name required.");A(!0);try{const oe=$n(On,"artifacts",mi,"public","data","rooms",d),Z=await ax(oe);if(!Z.exists())throw new Error("Room not found.");const ee=Z.data();if(ee.status!=="lobby")throw new Error("Game already in progress.");if(ee.players.length>=6)throw new Error("Table full.");ee.players.find(Ee=>Ee.id===s.uid)||await nr(oe,{players:qc({id:s.uid,name:He,dice:[],diceCount:5,eliminated:!1,ready:!0})}),c(d),localStorage.setItem(Ka,d)}catch(oe){F(oe.message)}A(!1)},he=async()=>{if(!l)return;const oe=$n(On,"artifacts",mi,"public","data","rooms",l);if(g.hostId===s.uid)await lx(oe);else{const ee=g.players.filter(Ee=>Ee.id!==s.uid);await nr(oe,{players:ee})}c(""),localStorage.removeItem(Ka),a("menu"),$e(!1)},Pe=async oe=>{if(g.hostId!==s.uid)return;const Z=g.players.filter(ee=>ee.id!==oe);await nr($n(On,"artifacts",mi,"public","data","rooms",l),{players:Z})},Ge=async()=>{if(!g)return;const oe=g.players.map(Z=>Z.id===s.uid?{...Z,ready:!Z.ready}:Z);await nr($n(On,"artifacts",mi,"public","data","rooms",l),{players:oe})},M=oe=>{const Z=[];for(let ee=0;ee<oe;ee++)Z.push(Math.floor(Math.random()*6)+1);return Z.sort()},K=()=>{const oe=g.roomId,Z=()=>{se(!0),setTimeout(()=>se(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",wl)};try{navigator.clipboard.writeText(oe),Z()}catch{const Ee=document.createElement("textarea");Ee.value=oe,document.body.appendChild(Ee),Ee.select(),document.execCommand("copy"),document.body.removeChild(Ee),Z()}},te=async()=>{if(g.players.length<2)return F("Need 2+ Players.");const oe=g.players.map(ee=>({...ee,diceCount:5,dice:M(5),eliminated:!1,ready:!1})),Z=Math.floor(Math.random()*oe.length);await nr($n(On,"artifacts",mi,"public","data","rooms",l),{status:"playing",players:oe,turnIndex:Z,currentBid:null,turnState:"BIDDING",feedbackTrigger:null,winner:null,revealReadyIds:[],roundLoserId:null,logs:[{id:Date.now().toString(),text:"The Haunt Begins. 5 Dice each.",type:"neutral"}]})},re=async()=>{const oe=g.currentBid,Z=g.players.find(Ee=>Ee.id===s.uid);if(oe&&(V<oe.quantity||V===oe.quantity&&z<=oe.face))return;let ee=(g.turnIndex+1)%g.players.length;for(;g.players[ee].eliminated;)ee=(ee+1)%g.players.length;await nr($n(On,"artifacts",mi,"public","data","rooms",l),{currentBid:{quantity:V,face:z,playerId:s.uid,playerName:Z.name},turnIndex:ee,logs:qc({id:Date.now().toString(),text:`${Z.name} bids: ${V}x ${z}s`,type:"neutral"})})},ve=async()=>{const oe=g.currentBid,Z=g.players.find(It=>It.id===s.uid),ee=g.players.find(It=>It.id===oe.playerId);let Ee=0,yt=[];g.players.forEach(It=>{It.eliminated||(yt=[...yt,...It.dice],It.dice.forEach(Qi=>{(Qi===oe.face||Qi===1&&oe.face!==1)&&Ee++}))});const Bt=Ee>=oe.quantity,Kt=Bt?Z.id:ee.id,zn=Bt?ee.id:Z.id,yi=Bt?Z.name:ee.name,xe={id:Date.now(),type:"challenge_result",challengerName:Z.name,bidderName:ee.name,bidQuantity:oe.quantity,bidFace:oe.face,actualCount:Ee,loserId:Kt,winnerId:zn,loserName:yi};let Ze=[{id:Date.now().toString(),text:`${Z.name} called LIAR on ${ee.name}!`,type:"warning"},{id:Date.now()+1,text:`Result: ${Ee} matching dice found (Bid: ${oe.quantity}).`,type:Bt?"success":"danger"},{id:Date.now()+2,text:`${yi} loses a die.`,type:"danger"}];await nr($n(On,"artifacts",mi,"public","data","rooms",l),{turnState:"REVEAL",feedbackTrigger:xe,logs:qc(...Ze),roundLoserId:Kt,revealReadyIds:[]})},we=async()=>{if(!g||!s)return;const oe=$n(On,"artifacts",mi,"public","data","rooms",l);try{await rx(On,async Z=>{const ee=await Z.get(oe);if(!ee.exists())return;const Ee=ee.data();if(Ee.revealReadyIds?.includes(s.uid))return;const yt=[...Ee.revealReadyIds||[],s.uid],Bt=Ee.players.find(xe=>xe.id===Ee.roundLoserId),Kt=Bt&&Bt.diceCount<=1,yi=Ee.players.filter(xe=>!(xe.eliminated||xe.id===Ee.roundLoserId&&Kt)).length;if(yt.length>=yi){const xe=[...Ee.players],Ze=xe.findIndex(Xt=>Xt.id===Ee.roundLoserId);xe[Ze].diceCount-=1;let It="",Qi="BIDDING",Ss=null,Yt=null;xe[Ze].diceCount<=0&&(xe[Ze].eliminated=!0,It=`${xe[Ze].name} has run out of soul. Eliminated.`);const Wn=xe.filter(Xt=>!Xt.eliminated);Wn.length===1?(Qi="FINISHED",Ss=Wn[0].name,Yt=null):xe.forEach(Xt=>{Xt.eliminated?Xt.dice=[]:Xt.dice=M(Xt.diceCount)});let ei=Ze;if(xe[Ze].eliminated)for(ei=(Ze+1)%xe.length;xe[ei].eliminated&&Wn.length>1;)ei=(ei+1)%xe.length;const ti={players:xe,turnState:Qi==="FINISHED"?"IDLE":"BIDDING",currentBid:null,turnIndex:ei,revealReadyIds:[],roundLoserId:null};It&&(ti.logs=qc({id:Date.now().toString(),text:It,type:"danger"})),Ss&&(ti.status="finished",ti.winner=Ss,ti.feedbackTrigger=null),Z.update(oe,ti)}else Z.update(oe,{revealReadyIds:yt})})}catch(Z){console.error("Transaction failed: ",Z)}},Ne=async()=>{const oe=g.players.map(Z=>({...Z,dice:[],diceCount:5,eliminated:!1,ready:!0}));await nr($n(On,"artifacts",mi,"public","data","rooms",l),{status:"lobby",players:oe,logs:[],currentBid:null,turnState:"IDLE",winner:null,feedbackTrigger:null,revealReadyIds:[],roundLoserId:null})},Je=g?.players.find(oe=>oe.id===s?.uid),lt=g?.players[g?.turnIndex]?.id===s?.uid;if(ie)return S.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[S.jsx(xv,{}),S.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[S.jsx(Lx,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),S.jsx("p",{className:"text-gray-400",children:"The spirits are resting. The tavern is closed until dusk."})]}),S.jsx("div",{className:"h-8"}),S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:S.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:S.jsx("div",{className:"text-center pb-12 animate-pulse",children:S.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[S.jsx(Iv,{size:16})," Visit Gamehub...Try our other releases..."," ",S.jsx(Iv,{size:16})]})})})}),S.jsx(am,{})]});if(!s)return S.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-indigo-500 animate-pulse",children:"Summoning souls..."});if(l&&!g&&!O)return S.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[S.jsx(Hc,{}),S.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[S.jsx(Bx,{size:48,className:"text-indigo-500 animate-spin"}),S.jsxs("div",{className:"text-center",children:[S.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),S.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming your session"})]})]})]});if(i==="menu")return S.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[S.jsx(Hc,{}),Ae&&S.jsx(Dv,{onClose:()=>_e(!1)}),S.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[S.jsx(Ql,{size:64,className:"text-indigo-400 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(129,140,248,0.5)]"}),S.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-b from-indigo-300 to-zinc-500 font-serif tracking-widest drop-shadow-md",children:"GHOST DICE"}),S.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Dead Men Tell No Tales"})]}),S.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur border border-indigo-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[O&&S.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:O}),S.jsx("input",{className:"w-full bg-black/50 border border-zinc-600 p-3 rounded mb-4 text-white placeholder-zinc-500 focus:border-indigo-500 outline-none transition-colors",placeholder:"Soul Name",value:He,onChange:oe=>Et(oe.target.value)}),S.jsxs("button",{onClick:H,disabled:b,className:"w-full bg-linear-to-r from-indigo-700 to-zinc-600 hover:from-indigo-600 hover:to-zinc-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-indigo-500/30 shadow-[0_0_15px_rgba(99,102,241,0.2)] transition-all",children:[S.jsx(Rv,{size:20})," Host Sance"]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[S.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-zinc-600 p-3 rounded text-white placeholder-zinc-500 uppercase font-mono tracking-wider focus:border-indigo-500 outline-none",placeholder:"CODE",value:d,onChange:oe=>y(oe.target.value.toUpperCase())}),S.jsx("button",{onClick:ne,disabled:b,className:"w-full sm:w-auto bg-zinc-800 hover:bg-zinc-700 border border-zinc-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),S.jsxs("button",{onClick:()=>_e(!0),className:"w-full text-sm text-zinc-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[S.jsx(Dm,{size:16})," The Grimoire"]})]}),S.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Liar's Dice. A tribute game.",S.jsx("br",{}),"Developed by ",S.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-500 underline hover:text-indigo-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const oe=g.hostId===s.uid;return S.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-6 relative",children:[S.jsx(Hc,{}),S.jsx(xv,{}),Xe&&S.jsx(Nv,{onConfirmLeave:he,onCancel:()=>$e(!1),isHost:oe,inGame:!1}),S.jsxs("div",{className:"z-10 w-full max-w-lg bg-zinc-900/90 backdrop-blur p-8 rounded-2xl border border-indigo-900/50 shadow-2xl mb-4",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-zinc-700 pb-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-lg md:text-xl text-indigo-400 font-bold uppercase",children:"Crypt"}),S.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[S.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white",children:l}),S.jsxs("div",{className:"relative",children:[S.jsx("button",{onClick:K,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:J?S.jsx(wl,{size:16,className:"text-green-500"}):S.jsx(yx,{size:16})}),J&&S.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-indigo-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),S.jsx("button",{onClick:()=>$e(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:S.jsx(Om,{size:16})})]}),S.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-zinc-800",children:[S.jsx("h3",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:S.jsxs("span",{children:["Souls (",g.players.length,")"]})}),S.jsxs("div",{className:"space-y-2",children:[g.players.map((Z,ee)=>{const Ee=Ya[ee%Ya.length];return S.jsxs("div",{className:`flex items-center justify-between p-3 rounded border ${Ee.bg} ${Ee.border}`,children:[S.jsxs("span",{className:`font-bold flex items-center gap-2 ${Ee.color}`,children:[S.jsx(Cv,{size:14})," ",Z.name," ",Z.id===g.hostId&&S.jsx(Rv,{size:14,className:"text-yellow-500"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[S.jsx(wl,{size:12})," Present"]}),oe&&Z.id!==s.uid&&S.jsx("button",{onClick:()=>Pe(Z.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-red-900/20 rounded-full transition-colors",title:"Kick Soul",children:S.jsx($x,{size:14})})]})]},Z.id)}),g.players.length<2&&S.jsx("div",{className:"text-center text-zinc-500 italic text-sm py-2",children:"Waiting for more souls..."})]})]}),oe?S.jsx("button",{onClick:te,disabled:g.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${g.players.length>=2?"bg-indigo-700 hover:bg-indigo-600 text-white shadow-indigo-900/20":"bg-zinc-800 cursor-not-allowed text-zinc-500"}`,children:g.players.length<2?"Need 2+ Players...":"Begin Haunt"}):S.jsx("div",{className:"text-center text-indigo-400/60 animate-pulse font-serif italic",children:"Waiting for Host..."})]}),S.jsx(am,{})]})}if(i==="game"&&g){const oe=g.players.findIndex(ee=>ee.id===s.uid),Z=Ya[oe%Ya.length];return S.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col relative overflow-hidden font-sans",children:[rN," ",S.jsx(Hc,{}),g.status==="finished"&&S.jsx(aN,{winnerName:g.winner,isHost:g.hostId===s.uid,onReturnToLobby:Ne}),w&&g.status!=="finished"&&S.jsx(sN,{data:w,currentUserId:s.uid,onClose:()=>C(null)}),Ae&&S.jsx(Dv,{onClose:()=>_e(!1)}),Me&&S.jsx(iN,{logs:g.logs,onClose:()=>x(!1)}),Xe&&S.jsx(Nv,{onConfirmLeave:he,onCancel:()=>$e(!1),isHost:g.hostId===s.uid,onConfirmLobby:()=>{Ne(),$e(!1)},inGame:!0}),S.jsxs("div",{className:"h-14 bg-zinc-900/80 border-b border-zinc-800 flex items-center justify-between px-4 z-160 backdrop-blur-md sticky top-0",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-serif text-indigo-500 font-bold tracking-wider hidden md:block",children:"GHOST DICE"}),S.jsx("span",{className:"text-xs text-zinc-500 bg-black/50 px-2 py-1 rounded",children:"Graveyard"})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>_e(!0),className:"p-2 hover:bg-zinc-800 rounded text-zinc-400",children:S.jsx(Dm,{size:18})}),S.jsx("button",{onClick:()=>x(!Me),className:`p-2 rounded-full ${Me?"bg-indigo-900 text-indigo-400":"text-gray-400 hover:bg-gray-800"}`,children:S.jsx(s1,{size:18})}),S.jsx("button",{onClick:()=>$e(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:S.jsx(Om,{size:18})})]})]}),S.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-6xl mx-auto w-full gap-4",children:[S.jsxs("div",{className:`w-full max-w-md ${Z.bg} p-6 rounded-2xl border border-indigo-500/20 flex flex-col items-center justify-center min-h-[160px] animate-in fade-in zoom-in`,children:[S.jsx("div",{className:`text-xs ${Z.color} uppercase tracking-widest mb-2`,children:"Current Bid"}),g.currentBid?S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("span",{className:"text-6xl font-black text-white drop-shadow-lg",children:g.currentBid.quantity}),S.jsx("span",{className:"text-4xl text-zinc-500",children:"x"}),kc.createElement(Wr[g.currentBid.face],{size:64,className:`${Z.color} drop-shadow-[0_0_10px_rgba(129,140,248,0.5)]`})]}),S.jsxs("div",{className:"mt-2 text-zinc-400 text-sm",children:["by"," ",S.jsx("span",{className:"text-white font-bold",children:g.currentBid.playerName})]})]}):S.jsx("div",{className:"text-zinc-600 italic",children:"No bids placed..."})]}),S.jsx("div",{className:"flex gap-4 justify-center flex-wrap w-full my-4",children:g.players.map((ee,Ee)=>{if(ee.id===s.uid)return null;const yt=g.turnIndex===Ee,Bt=Ya[Ee%Ya.length];return S.jsxs("div",{className:`
                                relative bg-zinc-900/90 p-4 rounded-xl border-2 w-32 md:w-40 transition-all flex flex-col items-center
                                ${yt?`${Bt.border} ${Bt.shadow} scale-105`:"border-zinc-700"}
                                ${ee.eliminated?"opacity-40 grayscale":""}
                            `,children:[g.turnState==="REVEAL"&&!ee.eliminated&&g.revealReadyIds?.includes(ee.id)&&S.jsx("div",{className:"absolute top-2 left-2",children:S.jsx(wl,{size:16,className:"text-green-500"})}),S.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5",children:[...Array(ee.diceCount)].map((Kt,zn)=>S.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${yt?"bg-white":"bg-zinc-600"}`},zn))}),ee.eliminated?S.jsx(Kx,{size:32,className:"text-red-500 mb-2"}):S.jsx(kx,{size:32,className:`${yt?Bt.color+" animate-bounce":"text-zinc-600"}`}),S.jsx("span",{className:`font-bold text-sm truncate w-full text-center ${yt?Bt.color:"text-zinc-400"}`,children:ee.name}),g.turnState==="REVEAL"&&!ee.eliminated&&S.jsx("div",{className:"absolute inset-0 bg-black/90 rounded-xl flex items-center justify-center z-10 p-2 flex-wrap gap-1",children:ee.dice.map((Kt,zn)=>kc.createElement(Wr[Kt],{key:zn,size:16,className:Kt===g.currentBid?.face||Kt===1?"text-white":"text-zinc-700"}))})]},ee.id)})}),S.jsxs("div",{className:`w-full max-w-2xl bg-zinc-900/95 p-4 rounded-t-3xl border-t-4 ${Z.border} backdrop-blur-md mt-auto shadow-2xl z-20 transition-all ${Je.eliminated&&g.status!=="finished"?"grayscale opacity-50 pointer-events-none":""}`,children:[(()=>{const Ee=g.roundLoserId===s.uid&&Je.diceCount<=1;return g.turnState==="REVEAL"&&!Je.eliminated&&!Ee&&g.status!=="finished"?S.jsx("div",{className:"absolute -top-16 left-0 right-0 flex justify-center z-30",children:g.revealReadyIds?.includes(s.uid)?S.jsxs("div",{className:"bg-zinc-900 px-6 py-2 rounded-full border border-green-500 text-green-500 font-bold flex items-center gap-2",children:[S.jsx(wl,{size:18})," Ready"]}):S.jsxs("button",{onClick:we,className:`
                        px-8 py-3 rounded-full font-black text-lg shadow-xl uppercase tracking-widest flex items-center gap-2 animate-bounce
                        ${Z.bg} ${Z.text} ${Z.border} border-2
                      `,children:[S.jsx(Ql,{size:24})," Roll Dice"]})}):null})(),S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(Cv,{className:Z.color}),S.jsx("span",{className:`font-bold text-xl ${Z.color}`,children:Je.name}),S.jsxs("div",{className:`px-3 py-1 rounded-full text-xs border ${Z.bg} ${Z.color} ${Z.border}`,children:[Je.diceCount," Dice Left"]})]}),S.jsx("div",{className:"flex flex-wrap justify-center gap-2 bg-black/40 p-2 rounded-xl",children:Je.dice.map((ee,Ee)=>S.jsx("div",{className:`
                                    ${Z.bg} rounded-lg p-1 shadow-inner
                                     ${g.currentBid&&(ee===g.currentBid.face||ee===1)?`ring-2 ${Z.ring}`:""}
                                 `,children:kc.createElement(Wr[ee],{size:32,className:Z.color})},Ee))})]}),S.jsx("div",{className:"min-h-[100px]",children:g.status==="finished"?S.jsxs("div",{className:"text-center",children:[S.jsxs("h3",{className:"text-3xl font-black text-indigo-400 mb-4",children:[g.winner," Wins!"]}),S.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:g.players.map(ee=>S.jsxs("div",{className:`px-3 py-1 rounded-full text-[10px] uppercase font-bold border ${ee.ready?"bg-green-900/30 border-green-500 text-green-400":"bg-zinc-800 border-zinc-600 text-zinc-500"}`,children:[ee.name," ",ee.ready&&""]},ee.id))}),g.hostId===s.uid?S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsxs("div",{className:"flex gap-3 justify-center",children:[S.jsxs("button",{onClick:te,disabled:!g.players.every(ee=>ee.ready),className:"bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[S.jsx(a1,{size:18})," Restart"]}),S.jsxs("button",{onClick:Ne,disabled:!g.players.every(ee=>ee.ready),className:"bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[S.jsx(r1,{size:18})," Lobby"]})]}),!g.players.every(ee=>ee.ready)&&S.jsx("div",{className:"text-zinc-500 text-xs animate-pulse mt-2",children:"Waiting for all souls to be ready..."}),!Je.ready&&S.jsx("button",{onClick:Ge,className:"text-xs text-indigo-400 hover:text-indigo-300 underline mt-2",children:"Mark Self Ready"})]}):S.jsxs("div",{className:"w-full max-w-xs mx-auto",children:[S.jsx("button",{onClick:Ge,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg transition-all mb-2 ${Je.ready?"bg-green-900/30 border border-green-500 text-green-400":"bg-indigo-600 hover:bg-indigo-500 text-white"}`,children:Je.ready?"READY":"MARK READY"}),S.jsx("div",{className:"text-zinc-500 text-xs italic",children:"Waiting for Host..."})]})]}):lt&&g.turnState==="BIDDING"?S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[S.jsxs("div",{className:"flex items-center bg-zinc-800 rounded-lg border border-zinc-700",children:[S.jsx("button",{onClick:()=>N(Math.max(1,V-1)),className:"p-3 hover:bg-zinc-700 text-zinc-400",children:"-"}),S.jsx("span",{className:"w-12 text-center font-bold text-xl",children:V}),S.jsx("button",{onClick:()=>N(V+1),className:"p-3 hover:bg-zinc-700 text-white",children:"+"})]}),S.jsx("span",{className:"text-zinc-500",children:"x"}),S.jsx("div",{className:"flex gap-1 bg-zinc-800 p-1 rounded-lg border border-zinc-700 overflow-x-auto",children:[1,2,3,4,5,6].map(ee=>S.jsx("button",{onClick:()=>R(ee),className:`p-2 rounded-md transition-all ${z===ee?`${Z.bg} ${Z.color} shadow-lg`:"hover:bg-zinc-700 text-zinc-500"}`,children:kc.createElement(Wr[ee],{size:24})},ee))})]}),S.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[S.jsxs("button",{onClick:ve,disabled:!g.currentBid,className:"bg-red-900/80 hover:bg-red-800 disabled:opacity-50 disabled:bg-zinc-800 text-red-200 py-4 rounded-xl font-bold text-lg shadow-lg border border-red-700 flex items-center justify-center gap-2",children:[S.jsx(Mx,{size:20})," LIAR!"]}),S.jsxs("button",{onClick:re,disabled:g.currentBid&&(V<g.currentBid.quantity||V===g.currentBid.quantity&&z<=g.currentBid.face),className:`col-span-2 ${Z.bg} border ${Z.border} ${Z.text} hover:opacity-80 disabled:opacity-50 disabled:bg-zinc-800 disabled:border-zinc-700 disabled:text-zinc-500 py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2`,children:[S.jsx(Gx,{size:20})," Place Bid"]})]})]}):S.jsx("div",{className:"text-center text-zinc-500 animate-pulse py-8",children:g.turnState==="REVEAL"?"Waiting for all players to roll the dice...":`Waiting for ${g.players[g.turnIndex]?.name}...`})})]})]}),S.jsx(am,{})]})}return null}Xb.createRoot(document.getElementById("root")).render(S.jsx(ot.StrictMode,{children:S.jsx(oN,{})}));
