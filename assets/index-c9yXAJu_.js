(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Lb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Bd={exports:{}},bl={};var H_;function Ub(){if(H_)return bl;H_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=e,bl.jsx=i,bl.jsxs=i,bl}var G_;function Pb(){return G_||(G_=1,Bd.exports=Ub()),Bd.exports}var w=Pb(),qd={exports:{}},be={};var F_;function jb(){if(F_)return be;F_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,se={};function me(M,K,ie){this.props=M,this.context=K,this.refs=se,this.updater=ie||te}me.prototype.isReactComponent={},me.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},me.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Se(){}Se.prototype=me.prototype;function _e(M,K,ie){this.props=M,this.context=K,this.refs=se,this.updater=ie||te}var Qe=_e.prototype=new Se;Qe.constructor=_e,re(Qe,me.prototype),Qe.isPureReactComponent=!0;var rt=Array.isArray;function Le(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(M,K,ie){var ae=ie.ref;return{$$typeof:s,type:M,key:K,ref:ae!==void 0?ae:null,props:ie}}function V(M,K){return C(M.type,K,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return K[ie]})}var R=/\/+/g;function nt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):K.toString(36)}function yt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Le,Le):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,K,ie,ae,fe){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var Z=!1;if(M===null)Z=!0;else switch(Ae){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(M.$$typeof){case s:case e:Z=!0;break;case b:return Z=M._init,H(Z(M._payload),K,ie,ae,fe)}}if(Z)return fe=fe(M),Z=ae===""?"."+nt(M,0):ae,rt(fe)?(ie="",Z!=null&&(ie=Z.replace(R,"$&/")+"/"),H(fe,K,ie,"",function(Ce){return Ce})):fe!=null&&(N(fe)&&(fe=V(fe,ie+(fe.key==null||M&&M.key===fe.key?"":(""+fe.key).replace(R,"$&/")+"/")+Z)),K.push(fe)),1;Z=0;var W=ae===""?".":ae+":";if(rt(M))for(var J=0;J<M.length;J++)ae=M[J],Ae=W+nt(ae,J),Z+=H(ae,K,ie,Ae,fe);else if(J=F(M),typeof J=="function")for(M=J.call(M),J=0;!(ae=M.next()).done;)ae=ae.value,Ae=W+nt(ae,J++),Z+=H(ae,K,ie,Ae,fe);else if(Ae==="object"){if(typeof M.then=="function")return H(yt(M),K,ie,ae,fe);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Z}function ne(M,K,ie){if(M==null)return M;var ae=[],fe=0;return H(M,ae,"","",function(Ae){return K.call(ie,Ae,fe++)}),ae}function he(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Be={map:ne,forEach:function(M,K,ie){ne(M,function(){K.apply(this,arguments)},ie)},count:function(M){var K=0;return ne(M,function(){K++}),K},toArray:function(M){return ne(M,function(K){return K})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=A,be.Children=Be,be.Component=me,be.Fragment=i,be.Profiler=l,be.PureComponent=_e,be.StrictMode=a,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,K,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=re({},M.props),fe=M.key;if(K!=null)for(Ae in K.key!==void 0&&(fe=""+K.key),K)!S.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(ae[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=ie;else if(1<Ae){for(var Z=Array(Ae),W=0;W<Ae;W++)Z[W]=arguments[W+2];ae.children=Z}return C(M.type,fe,ae)},be.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},be.createElement=function(M,K,ie){var ae,fe={},Ae=null;if(K!=null)for(ae in K.key!==void 0&&(Ae=""+K.key),K)S.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(fe[ae]=K[ae]);var Z=arguments.length-2;if(Z===1)fe.children=ie;else if(1<Z){for(var W=Array(Z),J=0;J<Z;J++)W[J]=arguments[J+2];fe.children=W}if(M&&M.defaultProps)for(ae in Z=M.defaultProps,Z)fe[ae]===void 0&&(fe[ae]=Z[ae]);return C(M,Ae,fe)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:y,render:M}},be.isValidElement=N,be.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:he}},be.memo=function(M,K){return{$$typeof:_,type:M,compare:K===void 0?null:K}},be.startTransition=function(M){var K=x.T,ie={};x.T=ie;try{var ae=M(),fe=x.S;fe!==null&&fe(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Le,De)}catch(Ae){De(Ae)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),x.T=K}},be.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},be.use=function(M){return x.H.use(M)},be.useActionState=function(M,K,ie){return x.H.useActionState(M,K,ie)},be.useCallback=function(M,K){return x.H.useCallback(M,K)},be.useContext=function(M){return x.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,K){return x.H.useDeferredValue(M,K)},be.useEffect=function(M,K){return x.H.useEffect(M,K)},be.useEffectEvent=function(M){return x.H.useEffectEvent(M)},be.useId=function(){return x.H.useId()},be.useImperativeHandle=function(M,K,ie){return x.H.useImperativeHandle(M,K,ie)},be.useInsertionEffect=function(M,K){return x.H.useInsertionEffect(M,K)},be.useLayoutEffect=function(M,K){return x.H.useLayoutEffect(M,K)},be.useMemo=function(M,K){return x.H.useMemo(M,K)},be.useOptimistic=function(M,K){return x.H.useOptimistic(M,K)},be.useReducer=function(M,K,ie){return x.H.useReducer(M,K,ie)},be.useRef=function(M){return x.H.useRef(M)},be.useState=function(M){return x.H.useState(M)},be.useSyncExternalStore=function(M,K,ie){return x.H.useSyncExternalStore(M,K,ie)},be.useTransition=function(){return x.H.useTransition()},be.version="19.2.3",be}var Q_;function Om(){return Q_||(Q_=1,qd.exports=jb()),qd.exports}var st=Om();const Vc=Lb(st);var Hd={exports:{}},Sl={},Gd={exports:{}},Fd={};var K_;function Bb(){return K_||(K_=1,(function(s){function e(H,ne){var he=H.length;H.push(ne);e:for(;0<he;){var De=he-1>>>1,Be=H[De];if(0<l(Be,ne))H[De]=ne,H[he]=Be,he=De;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ne=H[0],he=H.pop();if(he!==ne){H[0]=he;e:for(var De=0,Be=H.length,M=Be>>>1;De<M;){var K=2*(De+1)-1,ie=H[K],ae=K+1,fe=H[ae];if(0>l(ie,he))ae<Be&&0>l(fe,ie)?(H[De]=fe,H[ae]=he,De=ae):(H[De]=ie,H[K]=he,De=K);else if(ae<Be&&0>l(fe,he))H[De]=fe,H[ae]=he,De=ae;else break e}}return ne}function l(H,ne){var he=H.sortIndex-ne.sortIndex;return he!==0?he:H.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var g=[],_=[],b=1,A=null,O=3,F=!1,te=!1,re=!1,se=!1,me=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Qe(H){for(var ne=i(_);ne!==null;){if(ne.callback===null)a(_);else if(ne.startTime<=H)a(_),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=i(_)}}function rt(H){if(re=!1,Qe(H),!te)if(i(g)!==null)te=!0,Le||(Le=!0,k());else{var ne=i(_);ne!==null&&yt(rt,ne.startTime-H)}}var Le=!1,x=-1,S=5,C=-1;function V(){return se?!0:!(s.unstable_now()-C<S)}function N(){if(se=!1,Le){var H=s.unstable_now();C=H;var ne=!0;try{e:{te=!1,re&&(re=!1,Se(x),x=-1),F=!0;var he=O;try{t:{for(Qe(H),A=i(g);A!==null&&!(A.expirationTime>H&&V());){var De=A.callback;if(typeof De=="function"){A.callback=null,O=A.priorityLevel;var Be=De(A.expirationTime<=H);if(H=s.unstable_now(),typeof Be=="function"){A.callback=Be,Qe(H),ne=!0;break t}A===i(g)&&a(g),Qe(H)}else a(g);A=i(g)}if(A!==null)ne=!0;else{var M=i(_);M!==null&&yt(rt,M.startTime-H),ne=!1}}break e}finally{A=null,O=he,F=!1}ne=void 0}}finally{ne?k():Le=!1}}}var k;if(typeof _e=="function")k=function(){_e(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,nt=R.port2;R.port1.onmessage=N,k=function(){nt.postMessage(null)}}else k=function(){me(N,0)};function yt(H,ne){x=me(function(){H(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var ne=3;break;default:ne=O}var he=O;O=ne;try{return H()}finally{O=he}},s.unstable_requestPaint=function(){se=!0},s.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=O;O=H;try{return ne()}finally{O=he}},s.unstable_scheduleCallback=function(H,ne,he){var De=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?De+he:De):he=De,H){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=he+Be,H={id:b++,callback:ne,priorityLevel:H,startTime:he,expirationTime:Be,sortIndex:-1},he>De?(H.sortIndex=he,e(_,H),i(g)===null&&H===i(_)&&(re?(Se(x),x=-1):re=!0,yt(rt,he-De))):(H.sortIndex=Be,e(g,H),te||F||(te=!0,Le||(Le=!0,k()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var ne=O;return function(){var he=O;O=ne;try{return H.apply(this,arguments)}finally{O=he}}}})(Fd)),Fd}var Y_;function qb(){return Y_||(Y_=1,Gd.exports=Bb()),Gd.exports}var Qd={exports:{}},an={};var X_;function Hb(){if(X_)return an;X_=1;var s=Om();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,b)},an.flushSync=function(g){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=b,a.d.f()}},an.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},an.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},an.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var b=_.as,A=y(b,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:F}):b==="script"&&a.d.X(g,{crossOrigin:A,integrity:O,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},an.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},an.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=y(b,_.crossOrigin);a.d.L(g,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},an.preloadModule=function(g,_){if(typeof g=="string")if(_){var b=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},an.requestFormReset=function(g){a.d.r(g)},an.unstable_batchedUpdates=function(g,_){return g(_)},an.useFormState=function(g,_,b){return d.H.useFormState(g,_,b)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var $_;function Gb(){if($_)return Qd.exports;$_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qd.exports=Hb(),Qd.exports}var J_;function Fb(){if(J_)return Sl;J_=1;var s=qb(),e=Om(),i=Gb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),Se=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Qe=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case me:return"Profiler";case se:return"StrictMode";case rt:return"Suspense";case Le:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case _e:return t.displayName||"Context";case Se:return(t._context.displayName||"Context")+".Consumer";case Qe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var yt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},De=[],Be=-1;function M(t){return{current:t}}function K(t){0>Be||(t.current=De[Be],De[Be]=null,Be--)}function ie(t,n){Be++,De[Be]=t.current,t.current=n}var ae=M(null),fe=M(null),Ae=M(null),Z=M(null);function W(t,n){switch(ie(Ae,n),ie(fe,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?f_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=f_(n),t=d_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ae),ie(ae,t)}function J(){K(ae),K(fe),K(Ae)}function Ce(t){t.memoizedState!==null&&ie(Z,t);var n=ae.current,r=d_(n,t.type);n!==r&&(ie(fe,t),ie(ae,r))}function Pt(t){fe.current===t&&(K(ae),K(fe)),Z.current===t&&(K(Z),_l._currentValue=he)}var kt,sn;function Ft(t){if(kt===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);kt=n&&n[1]||"",sn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+t+sn}var di=!1;function et(t,n){if(!t||di)return"";di=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){j=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var G=`
`+I[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{di=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ft(r):""}function hn(t,n){switch(t.tag){case 26:case 27:case 5:return Ft(t.type);case 16:return Ft("Lazy");case 13:return t.child!==n&&n!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return et(t.type,!1);case 11:return et(t.type.render,!1);case 1:return et(t.type,!0);case 31:return Ft("Activity");default:return""}}function Qt(t){try{var n="",r=null;do n+=hn(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,dt=s.unstable_scheduleCallback,mi=s.unstable_cancelCallback,Er=s.unstable_shouldYield,gi=s.unstable_requestPaint,_t=s.unstable_now,rn=s.unstable_getCurrentPriorityLevel,To=s.unstable_ImmediatePriority,bo=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,Hh=s.unstable_LowPriority,au=s.unstable_IdlePriority,ou=s.log,lu=s.unstable_setDisableYieldValue,Zn=null,Kt=null;function zn(t){if(typeof ou=="function"&&lu(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Zn,t)}catch{}}var vt=Math.clz32?Math.clz32:cu,uu=Math.log,sa=Math.LN2;function cu(t){return t>>>=0,t===0?32:31-(uu(t)/sa|0)|0}var pi=256,Tr=262144,wt=4194304;function yi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=yi(o):(p&=E,p!==0?h=yi(p):r||(r=E&~t,r!==0&&(h=yi(r))))):(E=o&~f,E!==0?h=yi(E):p!==0?h=yi(p):r||(r=o&~t,r!==0&&(h=yi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Gh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function vi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function br(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fh(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-vt(r),Y=1<<G;E[G]=0,I[G]=-1;var j=P[G];if(j!==null)for(P[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&Sr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Sr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-vt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function So(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-vt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Ao(t,n){var r=n&-n;return r=(r&42)!==0?1:Ar(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:z_(t.type))}function ei(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var ti=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ti,jt="__reactProps$"+ti,Ei="__reactContainer$"+ti,ra="__reactEvents$"+ti,Qh="__reactListeners$"+ti,du="__reactHandles$"+ti,mu="__reactResources$"+ti,Ti="__reactMarker$"+ti;function aa(t){delete t[Rt],delete t[jt],delete t[ra],delete t[Qh],delete t[du]}function bi(t){var n=t[Rt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ei]||r[Rt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=E_(t);t!==null;){if(r=t[Rt])return r;t=E_(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[Rt]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Sn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function It(t){t[Ti]=!0}var wo=new Set,Ro={};function Ai(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Ro[t]=n,t=0;t<n.length;t++)wo.add(n[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},xo={};function gu(t){return it.call(xo,t)?!0:it.call(Co,t)?!1:Io.test(t)?xo[t]=!0:(Co[t]=!0,!1)}function oa(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function An(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ct(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ts(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ke(t){if(!t._valueTracker){var n=Ts(t)?"checked":"value";t._valueTracker=No(t,n,""+t[n])}}function wr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ts(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function gn(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(t,n,r,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Bt(n)):t.value!==""+Bt(n)&&(t.value=""+Bt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Do(t,p,Bt(n)):r!=null?Do(t,p,Bt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Bt(E):t.removeAttribute("name")}function pu(t,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ke(t);return}r=r!=null?""+Bt(r):"",n=n!=null?""+Bt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Ke(t)}function Do(t,n,r){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function bs(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Bt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,r){if(n!=null&&(n=""+Bt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Bt(r):""}function Ss(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(yt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Bt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Ke(t)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||_u.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Mo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Oo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(t,f,n[f])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return As.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ni(){}var Vo=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ws=null,Ii=null;function Ir(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(la(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[jt]||null;if(!h)throw Error(a(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&wr(o)}break e;case"textarea":yu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&bs(t,!!r.multiple,n,!1)}}}var ha=!1;function Rs(t,n,r){if(ha)return t(n,r);ha=!0;try{var o=t(n);return o}finally{if(ha=!1,(ws!==null||Ii!==null)&&(fc(),ws&&(n=ws,t=Ii,Ii=ws=null,Ir(n),t)))for(n=0;n<t.length;n++)Ir(t[n])}}function ii(t,n){var r=t.stateNode;if(r===null)return null;var o=r[jt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Pn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Cr=!1}var Ci=null,ko=null,xr=null;function zo(){if(xr)return xr;var t,n=ko,r=n.length,o,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return xr=h.slice(t,1<o?1-o:void 0)}function Nr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function si(){return!1}function Yt(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:si,this.isPropagationStopped=si,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Yt(Qi),Is=A({},Qi,{view:0,detail:0}),Lo=Yt(Is),Cs,fa,Ni,da=A({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Cs=t.screenX-Ni.screenX,fa=t.screenY-Ni.screenY):fa=Cs=0,Ni=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),Uo=Yt(da),Dr=A({},da,{dataTransfer:0}),Eu=Yt(Dr),Tu=A({},Is,{relatedTarget:0}),Or=Yt(Tu),Po=A({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Yt(Po),ma=A({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=Yt(ma),Au=A({},Qi,{data:0}),Di=Yt(Au),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function xs(){return Cu}var fn=A({},Is,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=Yt(fn),Nu=A({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Yt(Nu),u=A({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),m=Yt(u),v=A({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Yt(v),L=A({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Yt(L),ee=A({},Qi,{newState:0,oldState:0}),we=Yt(ee),Et=[9,13,27,32],Ge=Pn&&"CompositionEvent"in window,ct=null;Pn&&"documentMode"in document&&(ct=document.documentMode);var jn=Pn&&"TextEvent"in window&&!ct,Oi=Pn&&(!Ge||ct&&8<ct&&11>=ct),ri=" ",ai=!1;function Mr(t,n){switch(t){case"keyup":return Et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function o1(t,n){switch(t){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return t=n.data,t===ri&&ai?null:t;default:return null}}function l1(t,n){if(pa)return t==="compositionend"||!Ge&&Mr(t,n)?(t=zo(),xr=ko=Ci=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!u1[t.type]:n==="textarea"}function Ag(t,n,r,o){ws?Ii?Ii.push(o):Ii=[o]:ws=o,n=vc(n,"onChange"),0<n.length&&(r=new xi("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var jo=null,Bo=null;function c1(t){a_(t,0)}function Du(t){var n=Sn(t);if(wr(n))return t}function wg(t,n){if(t==="change")return n}var Rg=!1;if(Pn){var Kh;if(Pn){var Yh="oninput"in document;if(!Yh){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Yh=typeof Ig.oninput=="function"}Kh=Yh}else Kh=!1;Rg=Kh&&(!document.documentMode||9<document.documentMode)}function Cg(){jo&&(jo.detachEvent("onpropertychange",xg),Bo=jo=null)}function xg(t){if(t.propertyName==="value"&&Du(Bo)){var n=[];Ag(n,Bo,t,Un(t)),Rs(c1,n)}}function h1(t,n,r){t==="focusin"?(Cg(),jo=n,Bo=r,jo.attachEvent("onpropertychange",xg)):t==="focusout"&&Cg()}function f1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Bo)}function d1(t,n){if(t==="click")return Du(n)}function m1(t,n){if(t==="input"||t==="change")return Du(n)}function g1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wn=typeof Object.is=="function"?Object.is:g1;function qo(t,n){if(wn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!it.call(n,h)||!wn(t[h],n[h]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,n){var r=Ng(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ng(r)}}function Og(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Og(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ri(t.document)}return n}function Xh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var p1=Pn&&"documentMode"in document&&11>=document.documentMode,ya=null,$h=null,Ho=null,Jh=!1;function Vg(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jh||ya==null||ya!==Ri(o)||(o=ya,"selectionStart"in o&&Xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=vc($h,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=ya)))}function Vr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var _a={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Zh={},kg={};Pn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function kr(t){if(Zh[t])return Zh[t];if(!_a[t])return t;var n=_a[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in kg)return Zh[t]=n[r];return t}var zg=kr("animationend"),Lg=kr("animationiteration"),Ug=kr("animationstart"),y1=kr("transitionrun"),_1=kr("transitionstart"),v1=kr("transitioncancel"),Pg=kr("transitionend"),jg=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function oi(t,n){jg.set(t,n),Ai(n,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],va=0,ef=0;function Mu(){for(var t=va,n=ef=va=0;n<t;){var r=Bn[n];Bn[n++]=null;var o=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Bg(r,h,f)}}function Vu(t,n,r,o){Bn[va++]=t,Bn[va++]=n,Bn[va++]=r,Bn[va++]=o,ef|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function tf(t,n,r,o){return Vu(t,n,r,o),ku(t)}function zr(t,n){return Vu(t,null,null,n),ku(t)}function Bg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-vt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function ku(t){if(50<hl)throw hl=0,hd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ea={};function E1(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,r,o){return new E1(t,n,r,o)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,n){var r=t.alternate;return r===null?(r=Rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function qg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")nf(t)&&(p=1);else if(typeof t=="string")p=wb(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Rn(31,r,n,h),t.elementType=C,t.lanes=f,t;case re:return Lr(r.children,h,f,n);case se:p=8,h|=24;break;case me:return t=Rn(12,r,n,h|2),t.elementType=me,t.lanes=f,t;case rt:return t=Rn(13,r,n,h),t.elementType=rt,t.lanes=f,t;case Le:return t=Rn(19,r,n,h),t.elementType=Le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:p=10;break e;case Se:p=9;break e;case Qe:p=11;break e;case x:p=14;break e;case S:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Rn(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Lr(t,n,r,o){return t=Rn(7,t,o,n),t.lanes=r,t}function sf(t,n,r){return t=Rn(6,t,null,n),t.lanes=r,t}function Hg(t){var n=Rn(18,null,null,0);return n.stateNode=t,n}function rf(t,n,r){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gg=new WeakMap;function qn(t,n){if(typeof t=="object"&&t!==null){var r=Gg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Qt(n)},Gg.set(t,n),n)}return{value:t,source:n,stack:Qt(n)}}var Ta=[],ba=0,Lu=null,Go=0,Hn=[],Gn=0,Ns=null,Mi=1,Vi="";function Xi(t,n){Ta[ba++]=Go,Ta[ba++]=Lu,Lu=t,Go=n}function Fg(t,n,r){Hn[Gn++]=Mi,Hn[Gn++]=Vi,Hn[Gn++]=Ns,Ns=t;var o=Mi;t=Vi;var h=32-vt(o)-1;o&=~(1<<h),r+=1;var f=32-vt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Mi=1<<32-vt(n)+h|r<<h|o,Vi=f+t}else Mi=1<<f|r<<h|o,Vi=t}function af(t){t.return!==null&&(Xi(t,1),Fg(t,1,0))}function of(t){for(;t===Lu;)Lu=Ta[--ba],Ta[ba]=null,Go=Ta[--ba],Ta[ba]=null;for(;t===Ns;)Ns=Hn[--Gn],Hn[Gn]=null,Vi=Hn[--Gn],Hn[Gn]=null,Mi=Hn[--Gn],Hn[Gn]=null}function Qg(t,n){Hn[Gn++]=Mi,Hn[Gn++]=Vi,Hn[Gn++]=Ns,Mi=n.id,Vi=n.overflow,Ns=t}var Xt=null,at=null,Ue=!1,Ds=null,Fn=!1,lf=Error(a(519));function Os(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(qn(n,t)),lf}function Kg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Rt]=t,n[jt]=o,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(r=0;r<dl.length;r++)Ne(dl[r],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),pu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),Ss(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||c_(n.textContent,r)?(o.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),o.onScroll!=null&&Ne("scroll",n),o.onScrollEnd!=null&&Ne("scrollend",n),o.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Os(t,!0)}function Yg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Xt=Xt.return}}function Sa(t){if(t!==Xt)return!1;if(!Ue)return Yg(t),Ue=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Rd(t.type,t.memoizedProps)),r=!r),r&&at&&Os(t),Yg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=v_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=v_(t)}else n===27?(n=at,Qs(t.type)?(t=Dd,Dd=null,at=t):at=n):at=Xt?Kn(t.stateNode.nextSibling):null;return!0}function Ur(){at=Xt=null,Ue=!1}function uf(){var t=Ds;return t!==null&&(En===null?En=t:En.push.apply(En,t),Ds=null),t}function Fo(t){Ds===null?Ds=[t]:Ds.push(t)}var cf=M(null),Pr=null,$i=null;function Ms(t,n,r){ie(cf,n._currentValue),n._currentValue=r}function Ji(t){t._currentValue=cf.current,K(cf)}function hf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function ff(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),hf(f.return,r,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),hf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Aa(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;wn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Z.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&ff(n,t,r,o),n.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function jr(t){Pr=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Xg(Pr,t)}function Pu(t,n){return Pr===null&&jr(t),Xg(t,n)}function Xg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},$i===null){if(t===null)throw Error(a(308));$i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else $i=$i.next=n;return r}var T1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},b1=s.unstable_scheduleCallback,S1=s.unstable_NormalPriority,xt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new T1,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&b1(S1,function(){t.controller.abort()})}var Ko=null,mf=0,wa=0,Ra=null;function A1(t,n){if(Ko===null){var r=Ko=[];mf=0,wa=yd(),Ra={status:"pending",value:void 0,then:function(o){r.push(o)}}}return mf++,n.then($g,$g),n}function $g(){if(--mf===0&&Ko!==null){Ra!==null&&(Ra.status="fulfilled");var t=Ko;Ko=null,wa=0,Ra=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function w1(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Jg=H.S;H.S=function(t,n){Vy=_t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&A1(t,n),Jg!==null&&Jg(t,n)};var Br=M(null);function gf(){var t=Br.current;return t!==null?t:tt.pooledCache}function ju(t,n){n===null?ie(Br,Br.current):ie(Br,n.pool)}function Zg(){var t=gf();return t===null?null:{parent:xt._currentValue,pool:t}}var Ia=Error(a(460)),pf=Error(a(474)),Bu=Error(a(542)),qu={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ep(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ni,ni),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t;default:if(typeof n.status=="string")n.then(ni,ni);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t}throw Hr=n,Ia}}function qr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Hr=r,Ia):r}}var Hr=null;function tp(){if(Hr===null)throw Error(a(459));var t=Hr;return Hr=null,t}function np(t){if(t===Ia||t===Bu)throw Error(a(483))}var Ca=null,Yo=0;function Hu(t){var n=Yo;return Yo+=1,Ca===null&&(Ca=[]),ep(Ca,t,n)}function Xo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ip(t){function n(z,D){if(t){var U=z.deletions;U===null?(z.deletions=[D],z.flags|=16):U.push(D)}}function r(z,D){if(!t)return null;for(;D!==null;)n(z,D),D=D.sibling;return null}function o(z){for(var D=new Map;z!==null;)z.key!==null?D.set(z.key,z):D.set(z.index,z),z=z.sibling;return D}function h(z,D){return z=Yi(z,D),z.index=0,z.sibling=null,z}function f(z,D,U){return z.index=U,t?(U=z.alternate,U!==null?(U=U.index,U<D?(z.flags|=67108866,D):U):(z.flags|=67108866,D)):(z.flags|=1048576,D)}function p(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,D,U,Q){return D===null||D.tag!==6?(D=sf(U,z.mode,Q),D.return=z,D):(D=h(D,U),D.return=z,D)}function I(z,D,U,Q){var de=U.type;return de===re?G(z,D,U.props.children,Q,U.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&qr(de)===D.type)?(D=h(D,U.props),Xo(D,U),D.return=z,D):(D=zu(U.type,U.key,U.props,null,z.mode,Q),Xo(D,U),D.return=z,D)}function P(z,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=rf(U,z.mode,Q),D.return=z,D):(D=h(D,U.children||[]),D.return=z,D)}function G(z,D,U,Q,de){return D===null||D.tag!==7?(D=Lr(U,z.mode,Q,de),D.return=z,D):(D=h(D,U),D.return=z,D)}function Y(z,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=sf(""+D,z.mode,U),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return U=zu(D.type,D.key,D.props,null,z.mode,U),Xo(U,D),U.return=z,U;case te:return D=rf(D,z.mode,U),D.return=z,D;case S:return D=qr(D),Y(z,D,U)}if(yt(D)||k(D))return D=Lr(D,z.mode,U,null),D.return=z,D;if(typeof D.then=="function")return Y(z,Hu(D),U);if(D.$$typeof===_e)return Y(z,Pu(z,D),U);Gu(z,D)}return null}function j(z,D,U,Q){var de=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:E(z,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return U.key===de?I(z,D,U,Q):null;case te:return U.key===de?P(z,D,U,Q):null;case S:return U=qr(U),j(z,D,U,Q)}if(yt(U)||k(U))return de!==null?null:G(z,D,U,Q,null);if(typeof U.then=="function")return j(z,D,Hu(U),Q);if(U.$$typeof===_e)return j(z,D,Pu(z,U),Q);Gu(z,U)}return null}function q(z,D,U,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(U)||null,E(D,z,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return z=z.get(Q.key===null?U:Q.key)||null,I(D,z,Q,de);case te:return z=z.get(Q.key===null?U:Q.key)||null,P(D,z,Q,de);case S:return Q=qr(Q),q(z,D,U,Q,de)}if(yt(Q)||k(Q))return z=z.get(U)||null,G(D,z,Q,de,null);if(typeof Q.then=="function")return q(z,D,U,Hu(Q),de);if(Q.$$typeof===_e)return q(z,D,U,Pu(D,Q),de);Gu(D,Q)}return null}function le(z,D,U,Q){for(var de=null,qe=null,ce=D,Ie=D=0,Me=null;ce!==null&&Ie<U.length;Ie++){ce.index>Ie?(Me=ce,ce=null):Me=ce.sibling;var He=j(z,ce,U[Ie],Q);if(He===null){ce===null&&(ce=Me);break}t&&ce&&He.alternate===null&&n(z,ce),D=f(He,D,Ie),qe===null?de=He:qe.sibling=He,qe=He,ce=Me}if(Ie===U.length)return r(z,ce),Ue&&Xi(z,Ie),de;if(ce===null){for(;Ie<U.length;Ie++)ce=Y(z,U[Ie],Q),ce!==null&&(D=f(ce,D,Ie),qe===null?de=ce:qe.sibling=ce,qe=ce);return Ue&&Xi(z,Ie),de}for(ce=o(ce);Ie<U.length;Ie++)Me=q(ce,z,Ie,U[Ie],Q),Me!==null&&(t&&Me.alternate!==null&&ce.delete(Me.key===null?Ie:Me.key),D=f(Me,D,Ie),qe===null?de=Me:qe.sibling=Me,qe=Me);return t&&ce.forEach(function(Js){return n(z,Js)}),Ue&&Xi(z,Ie),de}function ye(z,D,U,Q){if(U==null)throw Error(a(151));for(var de=null,qe=null,ce=D,Ie=D=0,Me=null,He=U.next();ce!==null&&!He.done;Ie++,He=U.next()){ce.index>Ie?(Me=ce,ce=null):Me=ce.sibling;var Js=j(z,ce,He.value,Q);if(Js===null){ce===null&&(ce=Me);break}t&&ce&&Js.alternate===null&&n(z,ce),D=f(Js,D,Ie),qe===null?de=Js:qe.sibling=Js,qe=Js,ce=Me}if(He.done)return r(z,ce),Ue&&Xi(z,Ie),de;if(ce===null){for(;!He.done;Ie++,He=U.next())He=Y(z,He.value,Q),He!==null&&(D=f(He,D,Ie),qe===null?de=He:qe.sibling=He,qe=He);return Ue&&Xi(z,Ie),de}for(ce=o(ce);!He.done;Ie++,He=U.next())He=q(ce,z,Ie,He.value,Q),He!==null&&(t&&He.alternate!==null&&ce.delete(He.key===null?Ie:He.key),D=f(He,D,Ie),qe===null?de=He:qe.sibling=He,qe=He);return t&&ce.forEach(function(zb){return n(z,zb)}),Ue&&Xi(z,Ie),de}function We(z,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===re&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case F:e:{for(var de=U.key;D!==null;){if(D.key===de){if(de=U.type,de===re){if(D.tag===7){r(z,D.sibling),Q=h(D,U.props.children),Q.return=z,z=Q;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&qr(de)===D.type){r(z,D.sibling),Q=h(D,U.props),Xo(Q,U),Q.return=z,z=Q;break e}r(z,D);break}else n(z,D);D=D.sibling}U.type===re?(Q=Lr(U.props.children,z.mode,Q,U.key),Q.return=z,z=Q):(Q=zu(U.type,U.key,U.props,null,z.mode,Q),Xo(Q,U),Q.return=z,z=Q)}return p(z);case te:e:{for(de=U.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(z,D.sibling),Q=h(D,U.children||[]),Q.return=z,z=Q;break e}else{r(z,D);break}else n(z,D);D=D.sibling}Q=rf(U,z.mode,Q),Q.return=z,z=Q}return p(z);case S:return U=qr(U),We(z,D,U,Q)}if(yt(U))return le(z,D,U,Q);if(k(U)){if(de=k(U),typeof de!="function")throw Error(a(150));return U=de.call(U),ye(z,D,U,Q)}if(typeof U.then=="function")return We(z,D,Hu(U),Q);if(U.$$typeof===_e)return We(z,D,Pu(z,U),Q);Gu(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(z,D.sibling),Q=h(D,U),Q.return=z,z=Q):(r(z,D),Q=sf(U,z.mode,Q),Q.return=z,z=Q),p(z)):r(z,D)}return function(z,D,U,Q){try{Yo=0;var de=We(z,D,U,Q);return Ca=null,de}catch(ce){if(ce===Ia||ce===Bu)throw ce;var qe=Rn(29,ce,null,z.mode);return qe.lanes=Q,qe.return=z,qe}}}var Gr=ip(!0),sp=ip(!1),Vs=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ku(t),Bg(t,null,r),n}return Vu(t,o,n,r),ku(t)}function $o(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,So(t,r)}}function vf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ef=!1;function Jo(){if(Ef){var t=Ra;if(t!==null)throw t}}function Zo(t,n,r,o){Ef=!1;var h=t.updateQueue;Vs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,p===null?f=P:p.next=P,p=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;p=0,G=P=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Oe&j)===j:(o&j)===j){j!==0&&j===wa&&(Ef=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,ye=E;j=n;var We=r;switch(ye.tag){case 1:if(le=ye.payload,typeof le=="function"){Y=le.call(We,Y,j);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ye.payload,j=typeof le=="function"?le.call(We,Y,j):le,j==null)break e;Y=A({},Y,j);break e;case 2:Vs=!0}}j=E.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,I=Y):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Bs|=p,t.lanes=p,t.memoizedState=Y}}function rp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ap(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)rp(r[t],n)}var xa=M(null),Fu=M(0);function op(t,n){t=as,ie(Fu,t),ie(xa,n),as=t|n.baseLanes}function Tf(){ie(Fu,as),ie(xa,xa.current)}function bf(){as=Fu.current,K(xa),K(Fu)}var In=M(null),Qn=null;function Ls(t){var n=t.alternate;ie(Tt,Tt.current&1),ie(In,t),Qn===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(Qn=t)}function Sf(t){ie(Tt,Tt.current),ie(In,t),Qn===null&&(Qn=t)}function lp(t){t.tag===22?(ie(Tt,Tt.current),ie(In,t),Qn===null&&(Qn=t)):Us()}function Us(){ie(Tt,Tt.current),ie(In,In.current)}function Cn(t){K(In),Qn===t&&(Qn=null),K(Tt)}var Tt=M(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||xd(r)||Nd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Re=null,Je=null,Nt=null,Ku=!1,Na=!1,Fr=!1,Yu=0,Wo=0,Da=null,R1=0;function gt(){throw Error(a(321))}function Af(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!wn(t[r],n[r]))return!1;return!0}function wf(t,n,r,o,h,f){return Zi=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Fp:jf,Fr=!1,f=r(o,h),Fr=!1,Na&&(f=cp(n,r,o,h)),up(t),f}function up(t){H.H=nl;var n=Je!==null&&Je.next!==null;if(Zi=0,Nt=Je=Re=null,Ku=!1,Wo=0,Da=null,n)throw Error(a(300));t===null||Dt||(t=t.dependencies,t!==null&&Uu(t)&&(Dt=!0))}function cp(t,n,r,o){Re=t;var h=0;do{if(Na&&(Da=null),Wo=0,Na=!1,25<=h)throw Error(a(301));if(h+=1,Nt=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Qp,f=n(r,o)}while(Na);return f}function I1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),n}function Rf(){var t=Yu!==0;return Yu=0,t}function If(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Cf(t){if(Ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ku=!1}Zi=0,Nt=Je=Re=null,Na=!1,Wo=Yu=0,Da=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Re.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function bt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=Nt===null?Re.memoizedState:Nt.next;if(n!==null)Nt=n,Je=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Nt===null?Re.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=Wo;return Wo+=1,Da===null&&(Da=[]),t=ep(Da,t,n),n=Re,(Nt===null?n.memoizedState:Nt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Fp:jf),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===_e)return $t(t)}throw Error(a(438,String(t)))}function xf(t){var n=null,r=Re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Xu(),Re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function Wi(t,n){return typeof n=="function"?n(t):n}function Ju(t){var n=bt();return Nf(n,Je,t)}function Nf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,I=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Oe&Y)===Y:(Zi&Y)===Y){var j=P.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===wa&&(G=!0);else if((Zi&j)===j){P=P.next,j===wa&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Y,p=f):I=I.next=Y,Re.lanes|=j,Bs|=j;Y=P.action,Fr&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else j={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,Re.lanes|=Y,Bs|=Y;P=P.next}while(P!==null&&P!==n);if(I===null?p=f:I.next=E,!wn(f,t.memoizedState)&&(Dt=!0,G&&(r=Ra,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Df(t){var n=bt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);wn(f,n.memoizedState)||(Dt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function hp(t,n,r){var o=Re,h=bt(),f=Ue;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!wn((Je||h).memoizedState,r);if(p&&(h.memoizedState=r,Dt=!0),h=h.queue,Vf(mp.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Nt!==null&&Nt.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},dp.bind(null,o,h,r,n),null),tt===null)throw Error(a(349));f||(Zi&127)!==0||fp(o,n,r)}return r}function fp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Re.updateQueue,n===null?(n=Xu(),Re.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function dp(t,n,r,o){n.value=r,n.getSnapshot=o,gp(n)&&pp(t)}function mp(t,n,r){return r(function(){gp(n)&&pp(t)})}function gp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!wn(t,r)}catch{return!0}}function pp(t){var n=zr(t,2);n!==null&&Tn(n,t,2)}function Of(t){var n=dn();if(typeof t=="function"){var r=t;if(t=r(),Fr){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},n}function yp(t,n,r,o){return t.baseState=r,Nf(t,Je,typeof o=="function"?o:Wi)}function C1(t,n,r,o,h){if(ec(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,_p(n,f)):(f.next=r.next,n.pending=r.next=f)}}function _p(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(h,o),I=H.S;I!==null&&I(p,E),vp(t,n,E)}catch(P){Mf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,o),vp(t,n,f)}catch(P){Mf(t,n,P)}}function vp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ep(t,n,o)},function(o){return Mf(t,n,o)}):Ep(t,n,r)}function Ep(t,n,r){n.status="fulfilled",n.value=r,Tp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,_p(t,r)))}function Mf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Tp(n),n=n.next;while(n!==o)}t.action=null}function Tp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bp(t,n){return n}function Sp(t,n){if(Ue){var r=tt.formState;if(r!==null){e:{var o=Re;if(Ue){if(at){t:{for(var h=at,f=Fn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){at=Kn(h.nextSibling),o=h.data==="F!";break e}}Os(o)}o=!1}o&&(n=r[0])}}return r=dn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:n},r.queue=o,r=qp.bind(null,Re,o),o.dispatch=r,o=Of(!1),f=Pf.bind(null,Re,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=C1.bind(null,Re,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Ap(t){var n=bt();return wp(n,Je,t)}function wp(t,n,r){if(n=Nf(t,n,bp)[0],t=Ju(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(p){throw p===Ia?Bu:p}else o=n;n=bt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Re.flags|=2048,Oa(9,{destroy:void 0},x1.bind(null,h,r),null)),[o,f,t]}function x1(t,n){t.action=n}function Rp(t){var n=bt(),r=Je;if(r!==null)return wp(n,r,t);bt(),n=n.memoizedState,r=bt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Oa(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Xu(),Re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Ip(){return bt().memoizedState}function Zu(t,n,r,o){var h=dn();Re.flags|=t,h.memoizedState=Oa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Wu(t,n,r,o){var h=bt();o=o===void 0?null:o;var f=h.memoizedState.inst;Je!==null&&o!==null&&Af(o,Je.memoizedState.deps)?h.memoizedState=Oa(n,f,r,o):(Re.flags|=t,h.memoizedState=Oa(1|n,f,r,o))}function Cp(t,n){Zu(8390656,8,t,n)}function Vf(t,n){Wu(2048,8,t,n)}function N1(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Xu(),Re.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function xp(t){var n=bt().memoizedState;return N1({ref:n,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Np(t,n){return Wu(4,2,t,n)}function Dp(t,n){return Wu(4,4,t,n)}function Op(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mp(t,n,r){r=r!=null?r.concat([t]):null,Wu(4,4,Op.bind(null,n,t),r)}function kf(){}function Vp(t,n){var r=bt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Af(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function kp(t,n){var r=bt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Af(n,o[1]))return o[0];if(o=t(),Fr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[o,n],o}function zf(t,n,r){return r===void 0||(Zi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=zy(),Re.lanes|=t,Bs|=t,r)}function zp(t,n,r,o){return wn(r,n)?r:xa.current!==null?(t=zf(t,r,o),wn(t,n)||(Dt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Oe&261930)===0?(Dt=!0,t.memoizedState=r):(t=zy(),Re.lanes|=t,Bs|=t,n)}function Lp(t,n,r,o,h){var f=ne.p;ne.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Pf(t,!1,n,r);try{var I=h(),P=H.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=w1(I,o);tl(t,n,G,Dn(t))}else tl(t,n,o,Dn(t))}catch(Y){tl(t,n,{then:function(){},status:"rejected",reason:Y},Dn())}finally{ne.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function D1(){}function Lf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Up(t).queue;Lp(t,h,n,he,r===null?D1:function(){return Pp(t),r(o)})}function Up(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:he},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pp(t){var n=Up(t);n.next===null&&(n=t.alternate.memoizedState),tl(t,n.next.queue,{},Dn())}function Uf(){return $t(_l)}function jp(){return bt().memoizedState}function Bp(){return bt().memoizedState}function O1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();t=ks(r);var o=zs(n,t,r);o!==null&&(Tn(o,n,r),$o(o,n,r)),n={cache:df()},t.payload=n;return}n=n.return}}function M1(t,n,r){var o=Dn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ec(t)?Hp(n,r):(r=tf(t,n,r,o),r!==null&&(Tn(r,t,o),Gp(r,n,o)))}function qp(t,n,r){var o=Dn();tl(t,n,r,o)}function tl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ec(t))Hp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,wn(E,p))return Vu(t,n,h,0),tt===null&&Mu(),!1}catch{}if(r=tf(t,n,h,o),r!==null)return Tn(r,t,o),Gp(r,n,o),!0}return!1}function Pf(t,n,r,o){if(o={lane:2,revertLane:yd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(a(479))}else n=tf(t,r,o,2),n!==null&&Tn(n,t,2)}function ec(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Hp(t,n){Na=Ku=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Gp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,So(t,r)}}var nl={readContext:$t,use:$u,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};nl.useEffectEvent=gt;var Fp={readContext:$t,use:$u,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:Cp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Zu(4194308,4,Op.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var r=dn();n=n===void 0?null:n;var o=t();if(Fr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=dn();if(r!==void 0){var h=r(n);if(Fr){zn(!0);try{r(n)}finally{zn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=M1.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=Of(t);var n=t.queue,r=qp.bind(null,Re,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:kf,useDeferredValue:function(t,n){var r=dn();return zf(r,t,n)},useTransition:function(){var t=Of(!1);return t=Lp.bind(null,Re,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Re,h=dn();if(Ue){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),tt===null)throw Error(a(349));(Oe&127)!==0||fp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Cp(mp.bind(null,o,f,t),[t]),o.flags|=2048,Oa(9,{destroy:void 0},dp.bind(null,o,f,r,n),null),r},useId:function(){var t=dn(),n=tt.identifierPrefix;if(Ue){var r=Vi,o=Mi;r=(o&~(1<<32-vt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Yu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=R1++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Sp,useActionState:Sp,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Pf.bind(null,Re,!0,r),r.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return dn().memoizedState=O1.bind(null,Re)},useEffectEvent:function(t){var n=dn(),r={impl:t};return n.memoizedState=r,function(){if((Fe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},jf={readContext:$t,use:$u,useCallback:Vp,useContext:$t,useEffect:Vf,useImperativeHandle:Mp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:kp,useReducer:Ju,useRef:Ip,useState:function(){return Ju(Wi)},useDebugValue:kf,useDeferredValue:function(t,n){var r=bt();return zp(r,Je.memoizedState,t,n)},useTransition:function(){var t=Ju(Wi)[0],n=bt().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:hp,useId:jp,useHostTransitionStatus:Uf,useFormState:Ap,useActionState:Ap,useOptimistic:function(t,n){var r=bt();return yp(r,Je,t,n)},useMemoCache:xf,useCacheRefresh:Bp};jf.useEffectEvent=xp;var Qp={readContext:$t,use:$u,useCallback:Vp,useContext:$t,useEffect:Vf,useImperativeHandle:Mp,useInsertionEffect:Np,useLayoutEffect:Dp,useMemo:kp,useReducer:Df,useRef:Ip,useState:function(){return Df(Wi)},useDebugValue:kf,useDeferredValue:function(t,n){var r=bt();return Je===null?zf(r,t,n):zp(r,Je.memoizedState,t,n)},useTransition:function(){var t=Df(Wi)[0],n=bt().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:hp,useId:jp,useHostTransitionStatus:Uf,useFormState:Rp,useActionState:Rp,useOptimistic:function(t,n){var r=bt();return Je!==null?yp(r,Je,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:xf,useCacheRefresh:Bp};Qp.useEffectEvent=xp;function Bf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Dn(),h=ks(o);h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,o),n!==null&&(Tn(n,t,o),$o(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Dn(),h=ks(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=zs(t,h,o),n!==null&&(Tn(n,t,o),$o(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Dn(),o=ks(r);o.tag=2,n!=null&&(o.callback=n),n=zs(t,o,r),n!==null&&(Tn(n,t,r),$o(n,t,r))}};function Kp(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!qo(r,o)||!qo(h,f):!0}function Yp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&qf.enqueueReplaceState(n,n.state,null)}function Qr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Xp(t){Ou(t)}function $p(t){console.error(t)}function Jp(t){Ou(t)}function tc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Zp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(t,n,r){return r=ks(r),r.tag=3,r.payload={element:null},r.callback=function(){tc(t,n)},r}function Wp(t){return t=ks(t),t.tag=3,t}function ey(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Zp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Zp(n,r,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function V1(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Aa(n,r,h,!0),r=In.current,r!==null){switch(r.tag){case 31:case 13:return Qn===null?dc():r.alternate===null&&pt===0&&(pt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),md(t,o,h)),!1;case 22:return r.flags|=65536,o===qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),md(t,o,h)),!1}throw Error(a(435,r.tag))}return md(t,o,h),dc(),!1}if(Ue)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==lf&&(t=Error(a(422),{cause:o}),Fo(qn(t,r)))):(o!==lf&&(n=Error(a(423),{cause:o}),Fo(qn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=qn(o,r),h=Hf(t.stateNode,o,h),vf(t,h),pt!==4&&(pt=2)),!1;var f=Error(a(520),{cause:o});if(f=qn(f,r),cl===null?cl=[f]:cl.push(f),pt!==4&&(pt=2),n===null)return!0;o=qn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Hf(r.stateNode,o,t),vf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qs===null||!qs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Wp(h),ey(h,t,r,o),vf(r,h),!1}r=r.return}while(r!==null);return!1}var Gf=Error(a(461)),Dt=!1;function Jt(t,n,r,o){n.child=t===null?sp(n,null,r,o):Gr(n,t.child,r,o)}function ty(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return jr(n),o=wf(t,n,r,p,f,h),E=Rf(),t!==null&&!Dt?(If(t,n,h),es(t,n,h)):(Ue&&E&&af(n),n.flags|=1,Jt(t,n,o,h),n.child)}function ny(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,iy(t,n,f,o,h)):(t=zu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Zf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:qo,r(p,o)&&t.ref===n.ref)return es(t,n,h)}return n.flags|=1,t=Yi(f,o),t.ref=n.ref,t.return=n,n.child=t}function iy(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(qo(f,o)&&t.ref===n.ref)if(Dt=!1,n.pendingProps=o=f,Zf(t,h))(t.flags&131072)!==0&&(Dt=!0);else return n.lanes=t.lanes,es(t,n,h)}return Ff(t,n,r,o,h)}function sy(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ry(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?op(n,f):Tf(),lp(n);else return o=n.lanes=536870912,ry(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(ju(n,f.cachePool),op(n,f),Us(),n.memoizedState=null):(t!==null&&ju(n,null),Tf(),Us());return Jt(t,n,h,r),n.child}function il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ry(t,n,r,o,h){var f=gf();return f=f===null?null:{parent:xt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&ju(n,null),Tf(),lp(n),t!==null&&Aa(t,n,o,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ay(t,n,r){return Gr(n,t.child,null,r),t=nc(n,n.pendingProps),t.flags|=2,Cn(n),n.memoizedState=null,t}function k1(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ue){if(o.mode==="hidden")return t=nc(n,o),n.lanes=536870912,il(null,t);if(Sf(n),(t=at)?(t=__(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Hg(t),r.return=n,n.child=r,Xt=n,at=null)):t=null,t===null)throw Os(n);return n.lanes=536870912,null}return nc(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Sf(n),h)if(n.flags&256)n.flags&=-257,n=ay(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Dt||Aa(t,n,r,!1),h=(r&t.childLanes)!==0,Dt||h){if(o=tt,o!==null&&(p=Ao(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,zr(t,p),Tn(o,t,p),Gf;dc(),n=ay(t,n,r)}else t=f.treeContext,at=Kn(p.nextSibling),Xt=n,Ue=!0,Ds=null,Fn=!1,t!==null&&Qg(n,t),n=nc(n,o),n.flags|=4096;return n}return t=Yi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ff(t,n,r,o,h){return jr(n),r=wf(t,n,r,o,void 0,h),o=Rf(),t!==null&&!Dt?(If(t,n,h),es(t,n,h)):(Ue&&o&&af(n),n.flags|=1,Jt(t,n,r,h),n.child)}function oy(t,n,r,o,h,f){return jr(n),n.updateQueue=null,r=cp(n,o,r,h),up(t),o=Rf(),t!==null&&!Dt?(If(t,n,f),es(t,n,f)):(Ue&&o&&af(n),n.flags|=1,Jt(t,n,r,f),n.child)}function ly(t,n,r,o,h){if(jr(n),n.stateNode===null){var f=Ea,p=r.contextType;typeof p=="object"&&p!==null&&(f=$t(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},yf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?$t(p):Ea,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Bf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&qf.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Qr(r,E);f.props=I;var P=f.context,G=r.contextType;p=Ea,typeof G=="object"&&G!==null&&(p=$t(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Yp(n,f,o,p),Vs=!1;var j=n.memoizedState;f.state=j,Zo(n,o,f,h),Jo(),P=n.memoizedState,E||j!==P||Vs?(typeof Y=="function"&&(Bf(n,r,Y,o),P=n.memoizedState),(I=Vs||Kp(n,r,I,o,j,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,_f(t,n),p=n.memoizedProps,G=Qr(r,p),f.props=G,Y=n.pendingProps,j=f.context,P=r.contextType,I=Ea,typeof P=="object"&&P!==null&&(I=$t(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==I)&&Yp(n,f,o,I),Vs=!1,j=n.memoizedState,f.state=j,Zo(n,o,f,h),Jo();var q=n.memoizedState;p!==Y||j!==q||Vs||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof E=="function"&&(Bf(n,r,E,o),q=n.memoizedState),(G=Vs||Kp(n,r,G,o,j,q,I)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ic(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Gr(n,t.child,null,h),n.child=Gr(n,null,r,h)):Jt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=es(t,n,h),t}function uy(t,n,r,o){return Ur(),n.flags|=256,Jt(t,n,r,o),n.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:Zg()}}function Yf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function cy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ue){if(h?Ls(n):Us(),(t=at)?(t=__(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Hg(t),r.return=n,n.child=r,Xt=n,at=null)):t=null,t===null)throw Os(n);return Nd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=sc({mode:"hidden",children:E},h),o=Lr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Kf(r),o.childLanes=Yf(t,p,r),n.memoizedState=Qf,il(null,o)):(Ls(n),Xf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ls(n),n.flags&=-257,n=$f(t,n,r)):n.memoizedState!==null?(Us(),n.child=t.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),E=Lr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Gr(n,t.child,null,r),o=n.child,o.memoizedState=Kf(r),o.childLanes=Yf(t,p,r),n.memoizedState=Qf,n=il(null,o));else if(Ls(n),Nd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Fo({value:o,source:null,stack:null}),n=$f(t,n,r)}else if(Dt||Aa(t,n,r,!1),p=(r&t.childLanes)!==0,Dt||p){if(p=tt,p!==null&&(o=Ao(p,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,zr(t,o),Tn(p,t,o),Gf;xd(E)||dc(),n=$f(t,n,r)}else xd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,at=Kn(E.nextSibling),Xt=n,Ue=!0,Ds=null,Fn=!1,t!==null&&Qg(n,t),n=Xf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,I=t.child,P=I.sibling,o=Yi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Yi(P,E):(E=Lr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Kf(r):(h=E.cachePool,h!==null?(I=xt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Zg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Yf(t,p,r),n.memoizedState=Qf,il(t.child,o)):(Ls(n),r=t.child,t=r.sibling,r=Yi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Xf(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=Rn(22,t,null,n),t.lanes=0,t}function $f(t,n,r){return Gr(n,t.child,null,r),t=Xf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),hf(t.return,n,r)}function Jf(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function fy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Tt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ie(Tt,p),Jt(t,n,o,r),o=Ue?Go:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hy(t,r,n);else if(t.tag===19)hy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Jf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Jf(n,!0,r,null,f,o);break;case"together":Jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function es(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Bs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Aa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Zf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function z1(t,n,r){switch(n.tag){case 3:W(n,n.stateNode.containerInfo),Ms(n,xt,t.memoizedState.cache),Ur();break;case 27:case 5:Ce(n);break;case 4:W(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ls(n),n.flags|=128,null):(r&n.child.childLanes)!==0?cy(t,n,r):(Ls(n),t=es(t,n,r),t!==null?t.sibling:null);Ls(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Aa(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return fy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Tt,Tt.current),o)break;return null;case 22:return n.lanes=0,sy(t,n,r,n.pendingProps);case 24:Ms(n,xt,t.memoizedState.cache)}return es(t,n,r)}function dy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Dt=!0;else{if(!Zf(t,r)&&(n.flags&128)===0)return Dt=!1,z1(t,n,r);Dt=(t.flags&131072)!==0}else Dt=!1,Ue&&(n.flags&1048576)!==0&&Fg(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=qr(n.elementType),n.type=t,typeof t=="function")nf(t)?(o=Qr(t,o),n.tag=1,n=ly(null,n,t,o,r)):(n.tag=0,n=Ff(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===Qe){n.tag=11,n=ty(null,n,t,o,r);break e}else if(h===x){n.tag=14,n=ny(null,n,t,o,r);break e}}throw n=nt(t)||t,Error(a(306,n,""))}}return n;case 0:return Ff(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Qr(o,n.pendingProps),ly(t,n,o,h,r);case 3:e:{if(W(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,_f(t,n),Zo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Ms(n,xt,o),o!==f.cache&&ff(n,[xt],r,!0),Jo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uy(t,n,o,r);break e}else if(o!==h){h=qn(Error(a(424)),n),Fo(h),n=uy(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=Kn(t.firstChild),Xt=n,Ue=!0,Ds=null,Fn=!0,r=sp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ur(),o===h){n=es(t,n,r);break e}Jt(t,n,o,r)}n=n.child}return n;case 26:return ic(t,n),t===null?(r=A_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ue||(r=n.type,t=n.pendingProps,o=Ec(Ae.current).createElement(r),o[Rt]=n,o[jt]=t,Zt(o,r,t),It(o),n.stateNode=o):n.memoizedState=A_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ce(n),t===null&&Ue&&(o=n.stateNode=T_(n.type,n.pendingProps,Ae.current),Xt=n,Fn=!0,h=at,Qs(n.type)?(Dd=h,at=Kn(o.firstChild)):at=h),Jt(t,n,n.pendingProps.children,r),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ue&&((h=o=at)&&(o=fb(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,Xt=n,at=Kn(o.firstChild),Fn=!1,h=!0):h=!1),h||Os(n)),Ce(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Rd(h,f)?o=null:p!==null&&Rd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=wf(t,n,I1,null,null,r),_l._currentValue=h),ic(t,n),Jt(t,n,o,r),n.child;case 6:return t===null&&Ue&&((t=r=at)&&(r=db(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Xt=n,at=null,t=!0):t=!1),t||Os(n)),null;case 13:return cy(t,n,r);case 4:return W(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Gr(n,null,o,r):Jt(t,n,o,r),n.child;case 11:return ty(t,n,n.type,n.pendingProps,r);case 7:return Jt(t,n,n.pendingProps,r),n.child;case 8:return Jt(t,n,n.pendingProps.children,r),n.child;case 12:return Jt(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ms(n,n.type,o.value),Jt(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=$t(h),o=o(h),n.flags|=1,Jt(t,n,o,r),n.child;case 14:return ny(t,n,n.type,n.pendingProps,r);case 15:return iy(t,n,n.type,n.pendingProps,r);case 19:return fy(t,n,r);case 31:return k1(t,n,r);case 22:return sy(t,n,r,n.pendingProps);case 24:return jr(n),o=$t(xt),t===null?(h=gf(),h===null&&(h=tt,f=df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},yf(n),Ms(n,xt,h)):((t.lanes&r)!==0&&(_f(t,n),Zo(n,null,null,r),Jo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ms(n,xt,o)):(o=f.cache,Ms(n,xt,o),o!==h.cache&&ff(n,[xt],r,!0))),Jt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(t){t.flags|=4}function Wf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(jy())t.flags|=8192;else throw Hr=qu,pf}else t.flags&=-16777217}function my(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(n))if(jy())t.flags|=8192;else throw Hr=qu,pf}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?hu():536870912,t.lanes|=n,za|=n)}function sl(t,n){if(!Ue)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ot(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function L1(t,n,r){var o=n.pendingProps;switch(of(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(n),null;case 1:return ot(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ji(xt),J(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sa(n)?ts(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),ot(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ts(n),f!==null?(ot(n),my(n,f)):(ot(n),Wf(n,h,null,o,r))):f?f!==t.memoizedState?(ts(n),ot(n),my(n,f)):(ot(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ts(n),ot(n),Wf(n,h,t,o,r)),null;case 27:if(Pt(n),r=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ot(n),null}t=ae.current,Sa(n)?Kg(n):(t=T_(h,o,r),n.stateNode=t,ts(n))}return ot(n),null;case 5:if(Pt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ot(n),null}if(f=ae.current,Sa(n))Kg(n);else{var p=Ec(Ae.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Rt]=n,f[jt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Zt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ts(n)}}return ot(n),Wf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,Sa(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Rt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||c_(t.nodeValue,r)),t||Os(n,!0)}else t=Ec(t).createTextNode(o),t[Rt]=n,n.stateNode=t}return ot(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Sa(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Rt]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),t=!1}else r=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ot(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Sa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Rt]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),h=!1}else h=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),rc(n,n.updateQueue),ot(n),null);case 4:return J(),t===null&&Td(n.stateNode.containerInfo),ot(n),null;case 10:return Ji(n.type),ot(n),null;case 19:if(K(Tt),o=n.memoizedState,o===null)return ot(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,sl(o,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)qg(r,t),r=r.sibling;return ie(Tt,Tt.current&1|2),Ue&&Xi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&_t()>cc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ue)return ot(n),null}else 2*_t()-o.renderingStartTime>cc&&r!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=_t(),t.sibling=null,r=Tt.current,ie(Tt,h?r&1|2:r&1),Ue&&Xi(n,o.treeForkCount),t):(ot(n),null);case 22:case 23:return Cn(n),bf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ot(n),n.subtreeFlags&6&&(n.flags|=8192)):ot(n),r=n.updateQueue,r!==null&&rc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&K(Br),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ji(xt),ot(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function U1(t,n){switch(of(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ji(xt),J(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Pt(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Tt),null;case 4:return J(),null;case 10:return Ji(n.type),null;case 22:case 23:return Cn(n),bf(),t!==null&&K(Br),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ji(xt),null;case 25:return null;default:return null}}function gy(t,n){switch(of(n),n.tag){case 3:Ji(xt),J();break;case 26:case 27:case 5:Pt(n);break;case 4:J();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:K(Tt);break;case 10:Ji(n.type);break;case 22:case 23:Cn(n),bf(),t!==null&&K(Br);break;case 24:Ji(xt)}}function rl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Xe(n,n.return,E)}}function Ps(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=r,P=E;try{P()}catch(G){Xe(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Xe(n,n.return,G)}}function py(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ap(n,r)}catch(o){Xe(t,t.return,o)}}}function yy(t,n,r){r.props=Qr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Xe(t,n,o)}}function al(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){Xe(t,n,h)}}function ki(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xe(t,n,h)}else r.current=null}function _y(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Xe(t,t.return,h)}}function ed(t,n,r){try{var o=t.stateNode;ab(o,t.type,r,n),o[jt]=n}catch(h){Xe(t,t.return,h)}}function vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ni));else if(o!==4&&(o===27&&Qs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(nd(t,n,r),t=t.sibling;t!==null;)nd(t,n,r),t=t.sibling}function ac(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Qs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ac(t,n,r),t=t.sibling;t!==null;)ac(t,n,r),t=t.sibling}function Ey(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Zt(n,o,r),n[Rt]=t,n[jt]=r}catch(f){Xe(t,t.return,f)}}var ns=!1,Ot=!1,id=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,qt=null;function P1(t,n){if(t=t.containerInfo,Ad=Ic,t=Mg(t),Xh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,I=-1,P=0,G=0,Y=t,j=null;t:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(I=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===t)break t;if(j===r&&++P===h&&(E=p),j===f&&++G===o&&(I=p),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(wd={focusedElem:t,selectionRange:r},Ic=!1,qt=n;qt!==null;)if(n=qt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,qt=t;else for(;qt!==null;){switch(n=qt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var le=Qr(r.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Xe(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Cd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,qt=t;break}qt=n.return}}function by(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ss(t,r),o&4&&rl(5,r);break;case 1:if(ss(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){Xe(r,r.return,p)}else{var h=Qr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Xe(r,r.return,p)}}o&64&&py(r),o&512&&al(r,r.return);break;case 3:if(ss(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ap(t,n)}catch(p){Xe(r,r.return,p)}}break;case 27:n===null&&o&4&&Ey(r);case 26:case 5:ss(t,r),n===null&&o&4&&_y(r),o&512&&al(r,r.return);break;case 12:ss(t,r);break;case 31:ss(t,r),o&4&&wy(t,r);break;case 13:ss(t,r),o&4&&Ry(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Y1.bind(null,r),mb(t,r))));break;case 22:if(o=r.memoizedState!==null||ns,!o){n=n!==null&&n.memoizedState!==null||Ot,h=ns;var f=Ot;ns=o,(Ot=n)&&!f?rs(t,r,(r.subtreeFlags&8772)!==0):ss(t,r),ns=h,Ot=f}break;case 30:break;default:ss(t,r)}}function Sy(t){var n=t.alternate;n!==null&&(t.alternate=null,Sy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,yn=!1;function is(t,n,r){for(r=r.child;r!==null;)Ay(t,n,r),r=r.sibling}function Ay(t,n,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Zn,r)}catch{}switch(r.tag){case 26:Ot||ki(r,n),is(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ot||ki(r,n);var o=ht,h=yn;Qs(r.type)&&(ht=r.stateNode,yn=!1),is(t,n,r),gl(r.stateNode),ht=o,yn=h;break;case 5:Ot||ki(r,n);case 6:if(o=ht,h=yn,ht=null,is(t,n,r),ht=o,yn=h,ht!==null)if(yn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(r.stateNode)}catch(f){Xe(r,n,f)}else try{ht.removeChild(r.stateNode)}catch(f){Xe(r,n,f)}break;case 18:ht!==null&&(yn?(t=ht,p_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ga(t)):p_(ht,r.stateNode));break;case 4:o=ht,h=yn,ht=r.stateNode.containerInfo,yn=!0,is(t,n,r),ht=o,yn=h;break;case 0:case 11:case 14:case 15:Ps(2,r,n),Ot||Ps(4,r,n),is(t,n,r);break;case 1:Ot||(ki(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&yy(r,n,o)),is(t,n,r);break;case 21:is(t,n,r);break;case 22:Ot=(o=Ot)||r.memoizedState!==null,is(t,n,r),Ot=o;break;default:is(t,n,r)}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ga(t)}catch(r){Xe(n,n.return,r)}}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ga(t)}catch(r){Xe(n,n.return,r)}}function j1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ty),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ty),n;default:throw Error(a(435,t.tag))}}function oc(t,n){var r=j1(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=X1.bind(null,t,o);o.then(h,h)}})}function _n(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Qs(E.type)){ht=E.stateNode,yn=!1;break e}break;case 5:ht=E.stateNode,yn=!1;break e;case 3:case 4:ht=E.stateNode.containerInfo,yn=!0;break e}E=E.return}if(ht===null)throw Error(a(160));Ay(f,p,h),ht=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Iy(n,t),n=n.sibling}var li=null;function Iy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(n,t),vn(t),o&4&&(Ps(3,t,t.return),rl(3,t),Ps(5,t,t.return));break;case 1:_n(n,t),vn(t),o&512&&(Ot||r===null||ki(r,r.return)),o&64&&ns&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=li;if(_n(n,t),vn(t),o&512&&(Ot||r===null||ki(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Zt(f,o,r),f[Rt]=t,It(f),o=f;break e;case"link":var p=I_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),Zt(f,o,r),h.head.appendChild(f);break;case"meta":if(p=I_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(o),Zt(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Rt]=t,It(f),o=f}t.stateNode=o}else C_(h,t.type,t.stateNode);else t.stateNode=R_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?C_(h,t.type,t.stateNode):R_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ed(t,t.memoizedProps,r.memoizedProps)}break;case 27:_n(n,t),vn(t),o&512&&(Ot||r===null||ki(r,r.return)),r!==null&&o&4&&ed(t,t.memoizedProps,r.memoizedProps);break;case 5:if(_n(n,t),vn(t),o&512&&(Ot||r===null||ki(r,r.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(le){Xe(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,r!==null?r.memoizedProps:h)),o&1024&&(id=!0);break;case 6:if(_n(n,t),vn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(le){Xe(t,t.return,le)}}break;case 3:if(Sc=null,h=li,li=Tc(n.containerInfo),_n(n,t),li=h,vn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(le){Xe(t,t.return,le)}id&&(id=!1,Cy(t));break;case 4:o=li,li=Tc(t.stateNode.containerInfo),_n(n,t),vn(t),li=o;break;case 12:_n(n,t),vn(t);break;case 31:_n(n,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 13:_n(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(uc=_t()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=ns,G=Ot;if(ns=P||h,Ot=G||I,_n(n,t),Ot=G,ns=P,vn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||ns||Ot||Kr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(le){Xe(I,I.return,le)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(le){Xe(I,I.return,le)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;h?y_(q,!0):y_(I.stateNode,!1)}catch(le){Xe(I,I.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,oc(t,r))));break;case 19:_n(n,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 30:break;case 21:break;default:_n(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(vy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=td(t);ac(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(pn(p,""),r.flags&=-33);var E=td(t);ac(t,E,p);break;case 3:case 4:var I=r.stateNode.containerInfo,P=td(t);nd(t,P,I);break;default:throw Error(a(161))}}catch(G){Xe(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Cy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ss(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(t,n.alternate,n),n=n.sibling}function Kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),Kr(n);break;case 1:ki(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&yy(n,n.return,r),Kr(n);break;case 27:gl(n.stateNode);case 26:case 5:ki(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}t=t.sibling}}function rs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:rs(h,f,r),rl(4,f);break;case 1:if(rs(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xe(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)rp(I[h],E)}catch(P){Xe(o,o.return,P)}}r&&p&64&&py(f),al(f,f.return);break;case 27:Ey(f);case 26:case 5:rs(h,f,r),r&&o===null&&p&4&&_y(f),al(f,f.return);break;case 12:rs(h,f,r);break;case 31:rs(h,f,r),r&&p&4&&wy(h,f);break;case 13:rs(h,f,r),r&&p&4&&Ry(h,f);break;case 22:f.memoizedState===null&&rs(h,f,r),al(f,f.return);break;case 30:break;default:rs(h,f,r)}n=n.sibling}}function sd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Qo(r))}function rd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qo(t))}function ui(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(t,n,r,o),n=n.sibling}function xy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n,r,o),h&2048&&rl(9,n);break;case 1:ui(t,n,r,o);break;case 3:ui(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){ui(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(n,n.return,I)}}else ui(t,n,r,o);break;case 31:ui(t,n,r,o);break;case 13:ui(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ui(t,n,r,o):ol(t,n):f._visibility&2?ui(t,n,r,o):(f._visibility|=2,Ma(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&sd(p,n);break;case 24:ui(t,n,r,o),h&2048&&rd(n.alternate,n);break;default:ui(t,n,r,o)}}function Ma(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,I=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ma(f,p,E,I,h),rl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ma(f,p,E,I,h):ol(f,p):(G._visibility|=2,Ma(f,p,E,I,h)),h&&P&2048&&sd(p.alternate,p);break;case 24:Ma(f,p,E,I,h),h&&P&2048&&rd(p.alternate,p);break;default:Ma(f,p,E,I,h)}n=n.sibling}}function ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:ol(r,o),h&2048&&sd(o.alternate,o);break;case 24:ol(r,o),h&2048&&rd(o.alternate,o);break;default:ol(r,o)}n=n.sibling}}var ll=8192;function Va(t,n,r){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)Ny(t,n,r),t=t.sibling}function Ny(t,n,r){switch(t.tag){case 26:Va(t,n,r),t.flags&ll&&t.memoizedState!==null&&Rb(r,li,t.memoizedState,t.memoizedProps);break;case 5:Va(t,n,r);break;case 3:case 4:var o=li;li=Tc(t.stateNode.containerInfo),Va(t,n,r),li=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,Va(t,n,r),ll=o):Va(t,n,r));break;default:Va(t,n,r)}}function Dy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];qt=o,My(o,t)}Dy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lc(t)):ul(t);break;default:ul(t)}}function lc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];qt=o,My(o,t)}Dy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),lc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lc(n));break;default:lc(n)}t=t.sibling}}function My(t,n){for(;qt!==null;){var r=qt;switch(r.tag){case 0:case 11:case 15:Ps(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,qt=o;else e:for(r=t;qt!==null;){o=qt;var h=o.sibling,f=o.return;if(Sy(o),o===r){qt=null;break e}if(h!==null){h.return=f,qt=h;break e}qt=f}}}var B1={getCacheForType:function(t){var n=$t(xt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return $t(xt).controller.signal}},q1=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,xe=null,Oe=0,Ye=0,xn=null,js=!1,ka=!1,ad=!1,as=0,pt=0,Bs=0,Yr=0,od=0,Nn=0,za=0,cl=null,En=null,ld=!1,uc=0,Vy=0,cc=1/0,hc=null,qs=null,zt=0,Hs=null,La=null,os=0,ud=0,cd=null,ky=null,hl=0,hd=null;function Dn(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:H.T!==null?yd():fu()}function zy(){if(Nn===0)if((Oe&536870912)===0||Ue){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Nn=t}else Nn=536870912;return t=In.current,t!==null&&(t.flags|=32),Nn}function Tn(t,n,r){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),Gs(t,Oe,Nn,!1)),br(t,r),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(Yr|=r),pt===4&&Gs(t,Oe,Nn,!1)),zi(t))}function Ly(t,n,r){if((Fe&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Wn(t,n),h=o?F1(t,n):dd(t,n,!0),f=o;do{if(h===0){ka&&!o&&Gs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!H1(r)){h=dd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=cl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ua(E,p).flags|=256),p=dd(E,p,!1),p!==2){if(ad&&!I){E.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break e}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ua(t,0),Gs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,Nn,!js);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=uc+300-_t(),10<h)){if(Gs(o,n,Nn,!js),_i(o,0,!0)!==0)break e;os=n,o.timeoutHandle=m_(Uy.bind(null,o,r,En,hc,ld,n,Nn,Yr,za,js,f,"Throttled",-0,0),h);break e}Uy(o,r,En,hc,ld,n,Nn,Yr,za,js,f,null,-0,0)}}break}while(!0);zi(t)}function Uy(t,n,r,o,h,f,p,E,I,P,G,Y,j,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},Ny(n,f,Y);var le=(f&62914560)===f?uc-_t():(f&4194048)===f?Vy-_t():0;if(le=Ib(Y,le),le!==null){os=f,t.cancelPendingCommit=le(Qy.bind(null,t,n,f,r,o,h,p,E,I,G,Y,null,j,q)),Gs(t,f,p,!P);return}}Qy(t,n,f,r,o,h,p,E,I)}function H1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(t,n,r,o){n&=~od,n&=~Yr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-vt(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&Sr(t,r,n)}function fc(){return(Fe&6)===0?(fl(0),!1):!0}function fd(){if(xe!==null){if(Ye===0)var t=xe.return;else t=xe,$i=Pr=null,Cf(t),Ca=null,Yo=0,t=xe;for(;t!==null;)gy(t.alternate,t),t=t.return;xe=null}}function Ua(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ub(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),os=0,fd(),tt=t,xe=r=Yi(t.current,null),Oe=n,Ye=0,xn=null,js=!1,ka=Wn(t,n),ad=!1,za=Nn=od=Yr=Bs=pt=0,En=cl=null,ld=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-vt(o),f=1<<h;n|=t[h],o&=~f}return as=n,Mu(),r}function Py(t,n){Re=null,H.H=nl,n===Ia||n===Bu?(n=tp(),Ye=3):n===pf?(n=tp(),Ye=4):Ye=n===Gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,xe===null&&(pt=1,tc(t,qn(n,t.current)))}function jy(){var t=In.current;return t===null?!0:(Oe&4194048)===Oe?Qn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Qn:!1}function By(){var t=H.H;return H.H=nl,t===null?nl:t}function qy(){var t=H.A;return H.A=B1,t}function dc(){pt=4,js||(Oe&4194048)!==Oe&&In.current!==null||(ka=!0),(Bs&134217727)===0&&(Yr&134217727)===0||tt===null||Gs(tt,Oe,Nn,!1)}function dd(t,n,r){var o=Fe;Fe|=2;var h=By(),f=qy();(tt!==t||Oe!==n)&&(hc=null,Ua(t,n)),n=!1;var p=pt;e:do try{if(Ye!==0&&xe!==null){var E=xe,I=xn;switch(Ye){case 8:fd(),p=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var P=Ye;if(Ye=0,xn=null,Pa(t,E,I,P),r&&ka){p=0;break e}break;default:P=Ye,Ye=0,xn=null,Pa(t,E,I,P)}}G1(),p=pt;break}catch(G){Py(t,G)}while(!0);return n&&t.shellSuspendCounter++,$i=Pr=null,Fe=o,H.H=h,H.A=f,xe===null&&(tt=null,Oe=0,Mu()),p}function G1(){for(;xe!==null;)Hy(xe)}function F1(t,n){var r=Fe;Fe|=2;var o=By(),h=qy();tt!==t||Oe!==n?(hc=null,cc=_t()+500,Ua(t,n)):ka=Wn(t,n);e:do try{if(Ye!==0&&xe!==null){n=xe;var f=xn;t:switch(Ye){case 1:Ye=0,xn=null,Pa(t,n,f,1);break;case 2:case 9:if(Wg(f)){Ye=0,xn=null,Gy(n);break}n=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),zi(t)},f.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Wg(f)?(Ye=0,xn=null,Gy(n)):(Ye=0,xn=null,Pa(t,n,f,7));break;case 5:var p=null;switch(xe.tag){case 26:p=xe.memoizedState;case 5:case 27:var E=xe;if(p?x_(p):E.stateNode.complete){Ye=0,xn=null;var I=E.sibling;if(I!==null)xe=I;else{var P=E.return;P!==null?(xe=P,mc(P)):xe=null}break t}}Ye=0,xn=null,Pa(t,n,f,5);break;case 6:Ye=0,xn=null,Pa(t,n,f,6);break;case 8:fd(),pt=6;break e;default:throw Error(a(462))}}Q1();break}catch(G){Py(t,G)}while(!0);return $i=Pr=null,H.H=o,H.A=h,Fe=r,xe!==null?0:(tt=null,Oe=0,Mu(),pt)}function Q1(){for(;xe!==null&&!Er();)Hy(xe)}function Hy(t){var n=dy(t.alternate,t,as);t.memoizedProps=t.pendingProps,n===null?mc(t):xe=n}function Gy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=oy(r,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=oy(r,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:Cf(n);default:gy(r,n),n=xe=qg(n,as),n=dy(r,n,as)}t.memoizedProps=t.pendingProps,n===null?mc(t):xe=n}function Pa(t,n,r,o){$i=Pr=null,Cf(n),Ca=null,Yo=0;var h=n.return;try{if(V1(t,h,n,r,Oe)){pt=1,tc(t,qn(r,t.current)),xe=null;return}}catch(f){if(h!==null)throw xe=h,f;pt=1,tc(t,qn(r,t.current)),xe=null;return}n.flags&32768?(Ue||o===1?t=!0:ka||(Oe&536870912)!==0?t=!1:(js=t=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,js);return}t=n.return;var r=L1(n.alternate,n,as);if(r!==null){xe=r;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=t}while(n!==null);pt===0&&(pt=5)}function Fy(t,n){do{var r=U1(t.alternate,t);if(r!==null){r.flags&=32767,xe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){xe=t;return}xe=t=r}while(t!==null);pt=6,xe=null}function Qy(t,n,r,o,h,f,p,E,I){t.cancelPendingCommit=null;do gc();while(zt!==0);if((Fe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=ef,Fh(t,r,f,p,E,I),t===tt&&(xe=tt=null,Oe=0),La=n,Hs=t,os=r,ud=f,cd=h,ky=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$1(Es,function(){return Jy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=ne.p,ne.p=2,p=Fe,Fe|=4;try{P1(t,n,r)}finally{Fe=p,ne.p=h,H.T=o}}zt=1,Ky(),Yy(),Xy()}}function Ky(){if(zt===1){zt=0;var t=Hs,n=La,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=ne.p;ne.p=2;var h=Fe;Fe|=4;try{Iy(n,t);var f=wd,p=Mg(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Og(E.ownerDocument.documentElement,E)){if(I!==null&&Xh(E)){var P=I.start,G=I.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),le=E.textContent.length,ye=Math.min(I.start,le),We=I.end===void 0?ye:Math.min(I.end,le);!q.extend&&ye>We&&(p=We,We=ye,ye=p);var z=Dg(E,ye),D=Dg(E,We);if(z&&D&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var U=Y.createRange();U.setStart(z.node,z.offset),q.removeAllRanges(),ye>We?(q.addRange(U),q.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),q.addRange(U))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ic=!!Ad,wd=Ad=null}finally{Fe=h,ne.p=o,H.T=r}}t.current=n,zt=2}}function Yy(){if(zt===2){zt=0;var t=Hs,n=La,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=ne.p;ne.p=2;var h=Fe;Fe|=4;try{by(t,n.alternate,n)}finally{Fe=h,ne.p=o,H.T=r}}zt=3}}function Xy(){if(zt===4||zt===3){zt=0,gi();var t=Hs,n=La,r=os,o=ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zt=5:(zt=0,La=Hs=null,$y(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qs=null),Gi(r),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=ne.p,ne.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,ne.p=h}}(os&3)!==0&&gc(),zi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===hd?hl++:(hl=0,hd=t):hl=0,fl(0)}}function $y(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Qo(n)))}function gc(){return Ky(),Yy(),Xy(),Jy()}function Jy(){if(zt!==5)return!1;var t=Hs,n=ud;ud=0;var r=Gi(os),o=H.T,h=ne.p;try{ne.p=32>r?32:r,H.T=null,r=cd,cd=null;var f=Hs,p=os;if(zt=0,La=Hs=null,os=0,(Fe&6)!==0)throw Error(a(331));var E=Fe;if(Fe|=4,Oy(f.current),xy(f,f.current,p,r),Fe=E,fl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Zn,f)}catch{}return!0}finally{ne.p=h,H.T=o,$y(t,n)}}function Zy(t,n,r){n=qn(r,n),n=Hf(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(br(t,2),zi(t))}function Xe(t,n,r){if(t.tag===3)Zy(t,t,r);else for(;n!==null;){if(n.tag===3){Zy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){t=qn(r,t),r=Wp(2),o=zs(n,r,2),o!==null&&(ey(r,o,n,t),br(o,2),zi(o));break}}n=n.return}}function md(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new q1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(ad=!0,h.add(r),t=K1.bind(null,t,n,r),n.then(t,t))}function K1(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,tt===t&&(Oe&r)===r&&(pt===4||pt===3&&(Oe&62914560)===Oe&&300>_t()-uc?(Fe&2)===0&&Ua(t,0):od|=r,za===Oe&&(za=0)),zi(t)}function Wy(t,n){n===0&&(n=hu()),t=zr(t,n),t!==null&&(br(t,n),zi(t))}function Y1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wy(t,r)}function X1(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Wy(t,r)}function $1(t,n){return dt(t,n)}var pc=null,ja=null,gd=!1,yc=!1,pd=!1,Fs=0;function zi(t){t!==ja&&t.next===null&&(ja===null?pc=ja=t:ja=ja.next=t),yc=!0,gd||(gd=!0,Z1())}function fl(t,n){if(!pd&&yc){pd=!0;do for(var r=!1,o=pc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-vt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,i_(o,f))}else f=Oe,f=_i(o,o===tt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wn(o,f)||(r=!0,i_(o,f));o=o.next}while(r);pd=!1}}function J1(){e_()}function e_(){yc=gd=!1;var t=0;Fs!==0&&lb()&&(t=Fs);for(var n=_t(),r=null,o=pc;o!==null;){var h=o.next,f=t_(o,n);f===0?(o.next=null,r===null?pc=h:r.next=h,h===null&&(ja=r)):(r=o,(t!==0||(f&3)!==0)&&(yc=!0)),o=h}zt!==0&&zt!==5||fl(t),Fs!==0&&(Fs=0)}function t_(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-vt(f),E=1<<p,I=h[p];I===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Gh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=tt,r=Oe,r=_i(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&mi(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Wn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&mi(o),Gi(r)){case 2:case 8:r=bo;break;case 32:r=Es;break;case 268435456:r=au;break;default:r=Es}return o=n_.bind(null,t),r=dt(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&mi(o),t.callbackPriority=2,t.callbackNode=null,2}function n_(t,n){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gc()&&t.callbackNode!==r)return null;var o=Oe;return o=_i(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ly(t,o,n),t_(t,_t()),t.callbackNode!=null&&t.callbackNode===r?n_.bind(null,t):null)}function i_(t,n){if(gc())return null;Ly(t,n,!0)}function Z1(){cb(function(){(Fe&6)!==0?dt(To,J1):e_()})}function yd(){if(Fs===0){var t=wa;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Fs=t}return Fs}function s_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function r_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function W1(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=s_((h[jt]||null).action),p=o.submitter;p&&(n=(n=p[jt]||null)?s_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new xi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var I=p?r_(h,p):new FormData(h);Lf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?r_(h,p):new FormData(h),Lf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],eb=vd.toLowerCase(),tb=vd[0].toUpperCase()+vd.slice(1);oi(eb,"on"+tb)}oi(zg,"onAnimationEnd"),oi(Lg,"onAnimationIteration"),oi(Ug,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(y1,"onTransitionRun"),oi(_1,"onTransitionStart"),oi(v1,"onTransitionCancel"),oi(Pg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function a_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=I}}}}function Ne(t,n){var r=n[ra];r===void 0&&(r=n[ra]=new Set);var o=t+"__bubble";r.has(o)||(o_(n,t,2,!1),r.add(o))}function Ed(t,n,r){var o=0;n&&(o|=4),o_(r,t,o,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[_c]){t[_c]=!0,wo.forEach(function(r){r!=="selectionchange"&&(nb.has(r)||Ed(r,!1,t),Ed(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,Ed("selectionchange",!1,n))}}function o_(t,n,r,o){switch(z_(n)){case 2:var h=Nb;break;case 8:h=Db;break;default:h=zd}r=h.bind(null,n,r,t),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function bd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=bi(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Rs(function(){var P=f,G=Un(r),Y=[];e:{var j=jg.get(t);if(j!==void 0){var q=xi,le=t;switch(t){case"keypress":if(Nr(r)===0)break e;case"keydown":case"keyup":q=xu;break;case"focusin":le="focus",q=Or;break;case"focusout":le="blur",q=Or;break;case"beforeblur":case"afterblur":q=Or;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case zg:case Lg:case Ug:q=bu;break;case Pg:q=T;break;case"scroll":case"scrollend":q=Lo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ki;break;case"toggle":case"beforetoggle":q=we}var ye=(n&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),z=ye?j!==null?j+"Capture":null:j;ye=[];for(var D=P,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||z===null||(Q=ii(D,z),Q!=null&&ye.push(ml(D,Q,U))),We)break;D=D.return}0<ye.length&&(j=new q(j,le,null,r,G),Y.push({event:j,listeners:ye}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&r!==Vo&&(le=r.relatedTarget||r.fromElement)&&(bi(le)||le[Ei]))break e;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(le=r.relatedTarget||r.toElement,q=P,le=le?bi(le):null,le!==null&&(We=c(le),ye=le.tag,le!==We||ye!==5&&ye!==27&&ye!==6)&&(le=null)):(q=null,le=P),q!==le)){if(ye=Uo,Q="onMouseLeave",z="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ki,Q="onPointerLeave",z="onPointerEnter",D="pointer"),We=q==null?j:Sn(q),U=le==null?j:Sn(le),j=new ye(Q,D+"leave",q,r,G),j.target=We,j.relatedTarget=U,Q=null,bi(G)===P&&(ye=new ye(z,D+"enter",le,r,G),ye.target=U,ye.relatedTarget=We,Q=ye),We=Q,q&&le)t:{for(ye=ib,z=q,D=le,U=0,Q=z;Q;Q=ye(Q))U++;Q=0;for(var de=D;de;de=ye(de))Q++;for(;0<U-Q;)z=ye(z),U--;for(;0<Q-U;)D=ye(D),Q--;for(;U--;){if(z===D||D!==null&&z===D.alternate){ye=z;break t}z=ye(z),D=ye(D)}ye=null}else ye=null;q!==null&&l_(Y,j,q,ye,!1),le!==null&&We!==null&&l_(Y,We,le,ye,!0)}}e:{if(j=P?Sn(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var qe=wg;else if(Sg(j))if(Rg)qe=m1;else{qe=f1;var ce=h1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&ua(P.elementType)&&(qe=wg):qe=d1;if(qe&&(qe=qe(t,P))){Ag(Y,qe,r,G);break e}ce&&ce(t,j,P),t==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(ce=P?Sn(P):window,t){case"focusin":(Sg(ce)||ce.contentEditable==="true")&&(ya=ce,$h=P,Ho=null);break;case"focusout":Ho=$h=ya=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Vg(Y,r,G);break;case"selectionchange":if(p1)break;case"keydown":case"keyup":Vg(Y,r,G)}var Ie;if(Ge)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else pa?Mr(t,r)&&(Me="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Me="onCompositionStart");Me&&(Oi&&r.locale!=="ko"&&(pa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&pa&&(Ie=zo()):(Ci=G,ko="value"in Ci?Ci.value:Ci.textContent,pa=!0)),ce=vc(P,Me),0<ce.length&&(Me=new Di(Me,t,null,r,G),Y.push({event:Me,listeners:ce}),Ie?Me.data=Ie:(Ie=ga(r),Ie!==null&&(Me.data=Ie)))),(Ie=jn?o1(t,r):l1(t,r))&&(Me=vc(P,"onBeforeInput"),0<Me.length&&(ce=new Di("onBeforeInput","beforeinput",null,r,G),Y.push({event:ce,listeners:Me}),ce.data=Ie)),W1(Y,t,P,r,G)}a_(Y,n)})}function ml(t,n,r){return{instance:t,listener:n,currentTarget:r}}function vc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(t,r),h!=null&&o.unshift(ml(t,h,f)),h=ii(t,n),h!=null&&o.push(ml(t,h,f))),t.tag===3)return o;t=t.return}return[]}function ib(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l_(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=ii(r,f),P!=null&&p.unshift(ml(r,P,I))):h||(P=ii(r,f),P!=null&&p.push(ml(r,P,I)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var sb=/\r\n?/g,rb=/\u0000|\uFFFD/g;function u_(t){return(typeof t=="string"?t:""+t).replace(sb,`
`).replace(rb,"")}function c_(t,n){return n=u_(n),u_(t)===n}function Ze(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(t,""+o);break;case"className":An(t,"class",o);break;case"tabIndex":An(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,r,o);break;case"style":Mo(t,o,f);break;case"data":if(n!=="object"){An(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ca(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ze(t,n,"name",h.name,h,null),Ze(t,n,"formEncType",h.formEncType,h,null),Ze(t,n,"formMethod",h.formMethod,h,null),Ze(t,n,"formTarget",h.formTarget,h,null)):(Ze(t,n,"encType",h.encType,h,null),Ze(t,n,"method",h.method,h,null),Ze(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ca(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ni);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),oa(t,"popover",o);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vu.get(r)||r,oa(t,r,o))}}function Sd(t,n,r,o,h,f){switch(r){case"style":Mo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?pn(t,o):(typeof o=="number"||typeof o=="bigint")&&pn(t,""+o);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[jt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):oa(t,r,o)}}}function Zt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ze(t,n,f,p,r,null)}}h&&Ze(t,n,"srcSet",r.srcSet,r,null),o&&Ze(t,n,"src",r.src,r,null);return;case"input":Ne("invalid",t);var E=f=p=h=null,I=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ze(t,n,o,G,r,null)}}pu(t,f,E,I,P,p,h,!1);return;case"select":Ne("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Ze(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!o,n!=null?bs(t,!!o,n,!1):r!=null&&bs(t,!!o,r,!0);return;case"textarea":Ne("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ze(t,n,p,E,r,null)}Ss(t,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Ze(t,n,I,o,r,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(o=0;o<dl.length;o++)Ne(dl[o],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ze(t,n,P,o,r,null)}return;default:if(ua(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&Sd(t,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Ze(t,n,E,o,r,null))}function ab(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,P=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(q)||Ze(t,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Ze(t,n,j,q,o,Y)}}la(t,p,E,I,P,G,f,h);return;case"select":q=p=E=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Ze(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&Ze(t,n,h,f,o,I)}n=E,r=p,o=q,j!=null?bs(t,!!r,j,!1):!!o!=!!r&&(n!=null?bs(t,!!r,n,!0):bs(t,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ze(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Ze(t,n,p,h,o,f)}yu(t,j,q);return;case"option":for(var le in r)j=r[le],r.hasOwnProperty(le)&&j!=null&&!o.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:Ze(t,n,le,null,o,j));for(I in o)j=o[I],q=r[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?t.selected=j&&typeof j!="function"&&typeof j!="symbol":Ze(t,n,I,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)j=r[ye],r.hasOwnProperty(ye)&&j!=null&&!o.hasOwnProperty(ye)&&Ze(t,n,ye,null,o,j);for(P in o)if(j=o[P],q=r[P],o.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Ze(t,n,P,j,o,q)}return;default:if(ua(n)){for(var We in r)j=r[We],r.hasOwnProperty(We)&&j!==void 0&&!o.hasOwnProperty(We)&&Sd(t,n,We,void 0,o,j);for(G in o)j=o[G],q=r[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||Sd(t,n,G,j,o,q);return}}for(var z in r)j=r[z],r.hasOwnProperty(z)&&j!=null&&!o.hasOwnProperty(z)&&Ze(t,n,z,null,o,j);for(Y in o)j=o[Y],q=r[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||Ze(t,n,Y,j,o,q)}function h_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ob(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&h_(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],P=I.startTime;if(P>E)break;var G=I.transferSize,Y=I.initiatorType;G&&h_(Y)&&(I=I.responseEnd,p+=G*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ad=null,wd=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function f_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Id=null;function lb(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(t){return g_.resolve(null).then(t).catch(hb)}:m_;function hb(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function p_(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Ga(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")gl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,gl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&gl(t.ownerDocument.body);r=h}while(r);Ga(n)}function y_(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Cd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Cd(r),aa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function fb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function db(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kn(t.nextSibling),t===null))return null;return t}function __(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kn(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Dd=null;function v_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Kn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function E_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function T_(t,n,r){switch(n=Ec(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function gl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);aa(t)}var Yn=new Map,b_=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ls=ne.d;ne.d={f:gb,r:pb,D:yb,C:_b,L:vb,m:Eb,X:bb,S:Tb,M:Sb};function gb(){var t=ls.f(),n=fc();return t||n}function pb(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Pp(n):ls.r(t)}var Ba=typeof document>"u"?null:document;function S_(t,n,r){var o=Ba;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),b_.has(h)||(b_.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Zt(n,"link",t),It(n),o.head.appendChild(n)))}}function yb(t){ls.D(t),S_("dns-prefetch",t,null)}function _b(t,n){ls.C(t,n),S_("preconnect",t,n)}function vb(t,n,r){ls.L(t,n,r);var o=Ba;if(o&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+gn(r.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=qa(t);break;case"script":f=Ha(t)}Yn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Yn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),Zt(n,"link",t),It(n),o.head.appendChild(n)))}}function Eb(t,n){ls.m(t,n);var r=Ba;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(t)}if(!Yn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Yn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(yl(f)))return}o=r.createElement("link"),Zt(o,"link",t),It(o),r.head.appendChild(o)}}}function Tb(t,n,r){ls.S(t,n,r);var o=Ba;if(o&&t){var h=Si(o).hoistableStyles,f=qa(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(pl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Yn.get(f))&&Od(t,r);var I=p=o.createElement("link");It(I),Zt(I,"link",t),I._p=new Promise(function(P,G){I.onload=P,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function bb(t,n){ls.X(t,n);var r=Ba;if(r&&t){var o=Si(r).hoistableScripts,h=Ha(t),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(t=A({src:t,async:!0},n),(n=Yn.get(h))&&Md(t,n),f=r.createElement("script"),It(f),Zt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Sb(t,n){ls.M(t,n);var r=Ba;if(r&&t){var o=Si(r).hoistableScripts,h=Ha(t),f=o.get(h);f||(f=r.querySelector(yl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Yn.get(h))&&Md(t,n),f=r.createElement("script"),It(f),Zt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function A_(t,n,r,o){var h=(h=Ae.current)?Tc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=qa(r.href),r=Si(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=qa(r.href);var f=Si(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(pl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Yn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Yn.set(t,r),f||Ab(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(r),r=Si(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function qa(t){return'href="'+gn(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function w_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Ab(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Zt(n,"link",r),It(n),t.head.appendChild(n))}function Ha(t){return'[src="'+gn(t)+'"]'}function yl(t){return"script[async]"+t}function R_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+gn(r.href)+'"]');if(o)return n.instance=o,It(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),It(o),Zt(o,"style",h),bc(o,r.precedence,t),n.instance=o;case"stylesheet":h=qa(r.href);var f=t.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,It(f),f;o=w_(r),(h=Yn.get(h))&&Od(o,h),f=(t.ownerDocument||t).createElement("link"),It(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Zt(f,"link",o),n.state.loading|=4,bc(f,r.precedence,t),n.instance=f;case"script":return f=Ha(r.src),(h=t.querySelector(yl(f)))?(n.instance=h,It(h),h):(o=r,(h=Yn.get(f))&&(o=A({},r),Md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),Zt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,bc(o,r.precedence,t));return n.instance}function bc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function I_(t,n,r){if(Sc===null){var o=new Map,h=Sc=new Map;h.set(r,o)}else h=Sc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ti]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function C_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function wb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Rb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=qa(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ac.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,It(f);return}f=n.ownerDocument||n,o=w_(o),(h=Yn.get(h))&&Od(o,h),f=f.createElement("link"),It(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Zt(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ac.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Vd=0;function Ib(t,n){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Vd===0&&(Vd=62500*ob());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function Rc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(Cb,t),wc=null,Ac.call(t))}function Cb(t,n){if(!(n.state.loading&4)){var r=wc.get(t);if(r)var o=r.get(null);else{r=new Map,wc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=Ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _l={$$typeof:_e,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function xb(t,n,r,o,h,f,p,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function N_(t,n,r,o,h,f,p,E,I,P,G,Y){return t=new xb(t,n,r,p,I,P,G,Y,E),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),t.current=f,f.stateNode=t,n=df(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},yf(f),t}function D_(t){return t?(t=Ea,t):Ea}function O_(t,n,r,o,h,f){h=D_(h),o.context===null?o.context=h:o.pendingContext=h,o=ks(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=zs(t,o,n),r!==null&&(Tn(r,t,n),$o(r,t,n))}function M_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function kd(t,n){M_(t,n),(t=t.alternate)&&M_(t,n)}function V_(t){if(t.tag===13||t.tag===31){var n=zr(t,67108864);n!==null&&Tn(n,t,67108864),kd(t,67108864)}}function k_(t){if(t.tag===13||t.tag===31){var n=Dn();n=Ar(n);var r=zr(t,n);r!==null&&Tn(r,t,n),kd(t,n)}}var Ic=!0;function Nb(t,n,r,o){var h=H.T;H.T=null;var f=ne.p;try{ne.p=2,zd(t,n,r,o)}finally{ne.p=f,H.T=h}}function Db(t,n,r,o){var h=H.T;H.T=null;var f=ne.p;try{ne.p=8,zd(t,n,r,o)}finally{ne.p=f,H.T=h}}function zd(t,n,r,o){if(Ic){var h=Ld(o);if(h===null)bd(t,n,o,Cc,r),L_(t,o);else if(Mb(h,t,n,r,o))o.stopPropagation();else if(L_(t,o),n&4&&-1<Ob.indexOf(t)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=yi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-vt(p);E.entanglements[1]|=I,p&=~I}zi(f),(Fe&6)===0&&(cc=_t()+500,fl(0))}}break;case 31:case 13:E=zr(f,2),E!==null&&Tn(E,f,2),fc(),kd(f,2)}if(f=Ld(o),f===null&&bd(t,n,o,Cc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else bd(t,n,o,null,r)}}function Ld(t){return t=Un(t),Ud(t)}var Cc=null;function Ud(t){if(Cc=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case To:return 2;case bo:return 8;case Es:case Hh:return 32;case au:return 268435456;default:return 32}default:return 32}}var Pd=!1,Ks=null,Ys=null,Xs=null,vl=new Map,El=new Map,$s=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(t,n){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&V_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Mb(t,n,r,o,h){switch(n){case"focusin":return Ks=Tl(Ks,t,n,r,o,h),!0;case"dragenter":return Ys=Tl(Ys,t,n,r,o,h),!0;case"mouseover":return Xs=Tl(Xs,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,t,n,r,o,h)),!0}return!1}function U_(t){var n=bi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ei(t.priority,function(){k_(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,ei(t.priority,function(){k_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ld(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Vo=o,r.target.dispatchEvent(o),Vo=null}else return n=Ln(r),n!==null&&V_(n),t.blockedOn=r,!1;n.shift()}return!0}function P_(t,n,r){xc(t)&&r.delete(n)}function Vb(){Pd=!1,Ks!==null&&xc(Ks)&&(Ks=null),Ys!==null&&xc(Ys)&&(Ys=null),Xs!==null&&xc(Xs)&&(Xs=null),vl.forEach(P_),El.forEach(P_)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,Pd||(Pd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vb)))}var Dc=null;function j_(t){Dc!==t&&(Dc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ud(o||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,Lf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ga(t){function n(I){return Nc(I,t)}Ks!==null&&Nc(Ks,t),Ys!==null&&Nc(Ys,t),Xs!==null&&Nc(Xs,t),vl.forEach(n),El.forEach(n);for(var r=0;r<$s.length;r++){var o=$s[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<$s.length&&(r=$s[0],r.blockedOn===null);)U_(r),r.blockedOn===null&&$s.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[jt]||null;if(typeof f=="function")p||j_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[jt]||null)E=p.formAction;else if(Ud(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),j_(r)}}}function B_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(t){this._internalRoot=t}Oc.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Dn();O_(r,o,t,n,null,null)},Oc.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;O_(t.current,2,null,t,null,null),fc(),n[Ei]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=fu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<$s.length&&n!==0&&n<$s[r].priority;r++);$s.splice(r,0,t),r===0&&U_(t)}};var q_=e.version;if(q_!=="19.2.3")throw Error(a(527,q_,"19.2.3"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var kb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Zn=Mc.inject(kb),Kt=Mc}catch{}}return Sl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Xp,f=$p,p=Jp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=N_(t,1,!1,null,null,r,o,null,h,f,p,B_),t[Ei]=n.current,Td(t),new jd(n)},Sl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Xp,p=$p,E=Jp,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=N_(t,1,!0,n,r??null,o,h,I,f,p,E,B_),n.context=D_(null),r=n.current,o=Dn(),o=Ar(o),h=ks(o),h.callback=null,zs(r,h,o),r=o,n.current.lanes=r,br(n,r),zi(n),t[Ei]=n.current,Td(t),new Oc(n)},Sl.version="19.2.3",Sl}var Z_;function Qb(){if(Z_)return Hd.exports;Z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=Fb(),Hd.exports}var Kb=Qb();const Yb=()=>{};var W_={};const Nv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Xb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,b=c>>2,A=(c&3)<<4|y>>4;let O=(y&15)<<2|_>>6,F=_&63;g||(F=64,d||(O=64)),a.push(i[b],i[A],i[O],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Nv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Xb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||A==null)throw new $b;const O=c<<2|y>>4;if(a.push(O),_!==64){const F=y<<4&240|_>>2;if(a.push(F),A!==64){const te=_<<6&192|A;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jb=function(s){const e=Nv(s);return Dv.encodeByteArray(e,!0)},Wc=function(s){return Jb(s).replace(/\./g,"")},Ov=function(s){try{return Dv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Wb=()=>Zb().__FIREBASE_DEFAULTS__,eS=()=>{if(typeof process>"u"||typeof W_>"u")return;const s=W_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Ov(s[1]);return e&&JSON.parse(e)},Th=()=>{try{return Yb()||Wb()||eS()||tS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Mv=s=>Th()?.emulatorHosts?.[s],nS=s=>{const e=Mv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Vv=()=>Th()?.config,kv=s=>Th()?.[`_${s}`];class iS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function mo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zv(s){return(await fetch(s,{credentials:"include"})).ok}function sS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const xl={};function rS(){const s={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?s.emulator.push(e):s.prod.push(e);return s}function aS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let e0=!1;function Lv(s,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||xl[s]===e||xl[s]||e0)return;xl[s]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=rS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function g(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{e0=!0,d()},O}function b(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=aS(a),F=i("text"),te=document.getElementById(F)||document.createElement("span"),re=i("learnmore"),se=document.getElementById(re)||document.createElement("a"),me=i("preprendIcon"),Se=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const _e=O.element;y(_e),b(se,re);const Qe=_();g(Se,me),_e.append(Se,te,se,Qe),document.body.appendChild(_e)}c?(te.innerText="Preview backend disconnected.",Se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function lS(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function hS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fS(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dS(){return!lS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const pS="FirebaseError";class vs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=pS,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?yS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new vs(l,y,a)}}function yS(s,e){return s.replace(_S,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const _S=/\{\$([^}]+)}/g;function vS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function cr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(t0(c)&&t0(d)){if(!cr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function t0(s){return s!==null&&typeof s=="object"}function Kl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function ES(s,e){const i=new TS(s,e);return i.subscribe.bind(i)}class TS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");bS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Kd),l.error===void 0&&(l.error=Kd),l.complete===void 0&&(l.complete=Kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Kd(){}function tn(s){return s&&s._delegate?s._delegate:s}class Zr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class SS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new iS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wS(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(s){return s===Xr?void 0:s}function wS(s){return s.instantiationMode==="EAGER"}class RS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new SS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const IS={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},CS=Ve.INFO,xS={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},NS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=xS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=CS,this._logHandler=NS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const DS=(s,e)=>e.some(i=>s instanceof i);let n0,i0;function OS(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MS(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,am=new WeakMap,Pv=new WeakMap,Yd=new WeakMap,Vm=new WeakMap;function VS(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(rr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uv.set(i,s)}).catch(()=>{}),Vm.set(e,s),e}function kS(s){if(am.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});am.set(s,e)}let om={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return am.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Pv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function zS(s){om=s(om)}function LS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Xd(this),e,...i);return Pv.set(a,e.sort?e.sort():[e]),rr(a)}:MS().includes(s)?function(...e){return s.apply(Xd(this),e),rr(Uv.get(this))}:function(...e){return rr(s.apply(Xd(this),e))}}function US(s){return typeof s=="function"?LS(s):(s instanceof IDBTransaction&&kS(s),DS(s,OS())?new Proxy(s,om):s)}function rr(s){if(s instanceof IDBRequest)return VS(s);if(Yd.has(s))return Yd.get(s);const e=US(s);return e!==s&&(Yd.set(s,e),Vm.set(e,s)),e}const Xd=s=>Vm.get(s);function PS(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),y=rr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(rr(d.result),g.oldVersion,g.newVersion,rr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const jS=["get","getKey","getAll","getAllKeys","count"],BS=["put","add","delete","clear"],$d=new Map;function s0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=BS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||jS.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return $d.set(e,c),c}zS(s=>({...s,get:(e,i,a)=>s0(e,i)||s.get(e,i,a),has:(e,i)=>!!s0(e,i)||s.has(e,i)}));class qS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function HS(s){return s.getComponent()?.type==="VERSION"}const lm="@firebase/app",r0="0.14.7";const ds=new Mm("@firebase/app"),GS="@firebase/app-compat",FS="@firebase/analytics-compat",QS="@firebase/analytics",KS="@firebase/app-check-compat",YS="@firebase/app-check",XS="@firebase/auth",$S="@firebase/auth-compat",JS="@firebase/database",ZS="@firebase/data-connect",WS="@firebase/database-compat",eA="@firebase/functions",tA="@firebase/functions-compat",nA="@firebase/installations",iA="@firebase/installations-compat",sA="@firebase/messaging",rA="@firebase/messaging-compat",aA="@firebase/performance",oA="@firebase/performance-compat",lA="@firebase/remote-config",uA="@firebase/remote-config-compat",cA="@firebase/storage",hA="@firebase/storage-compat",fA="@firebase/firestore",dA="@firebase/ai",mA="@firebase/firestore-compat",gA="firebase",pA="12.8.0";const um="[DEFAULT]",yA={[lm]:"fire-core",[GS]:"fire-core-compat",[QS]:"fire-analytics",[FS]:"fire-analytics-compat",[YS]:"fire-app-check",[KS]:"fire-app-check-compat",[XS]:"fire-auth",[$S]:"fire-auth-compat",[JS]:"fire-rtdb",[ZS]:"fire-data-connect",[WS]:"fire-rtdb-compat",[eA]:"fire-fn",[tA]:"fire-fn-compat",[nA]:"fire-iid",[iA]:"fire-iid-compat",[sA]:"fire-fcm",[rA]:"fire-fcm-compat",[aA]:"fire-perf",[oA]:"fire-perf-compat",[lA]:"fire-rc",[uA]:"fire-rc-compat",[cA]:"fire-gcs",[hA]:"fire-gcs-compat",[fA]:"fire-fst",[mA]:"fire-fst-compat",[dA]:"fire-vertex","fire-js":"fire-js",[gA]:"fire-js-all"};const eh=new Map,_A=new Map,cm=new Map;function a0(s,e){try{s.container.addComponent(e)}catch(i){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ro(s){const e=s.name;if(cm.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,s);for(const i of eh.values())a0(i,s);for(const i of _A.values())a0(i,s);return!0}function km(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function $n(s){return s==null?!1:s.settings!==void 0}const vA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Ql("app","Firebase",vA);class EA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const go=pA;function jv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:um,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(i||(i=Vv()),!i)throw ar.create("no-options");const c=eh.get(l);if(c){if(cr(i,c.options)&&cr(a,c.config))return c;throw ar.create("duplicate-app",{appName:l})}const d=new RS(l);for(const g of cm.values())d.addComponent(g);const y=new EA(i,a,d);return eh.set(l,y),y}function Bv(s=um){const e=eh.get(s);if(!e&&s===um&&Vv())return jv();if(!e)throw ar.create("no-app",{appName:s});return e}function or(s,e,i){let a=yA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}ro(new Zr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const TA="firebase-heartbeat-database",bA=1,zl="firebase-heartbeat-store";let Jd=null;function qv(){return Jd||(Jd=PS(TA,bA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function SA(s){try{const i=(await qv()).transaction(zl),a=await i.objectStore(zl).get(Hv(s));return await i.done,a}catch(e){if(e instanceof vs)ds.warn(e.message);else{const i=ar.create("idb-get",{originalErrorMessage:e?.message});ds.warn(i.message)}}}async function o0(s,e){try{const a=(await qv()).transaction(zl,"readwrite");await a.objectStore(zl).put(e,Hv(s)),await a.done}catch(i){if(i instanceof vs)ds.warn(i.message);else{const a=ar.create("idb-set",{originalErrorMessage:i?.message});ds.warn(a.message)}}}function Hv(s){return`${s.name}!${s.options.appId}`}const AA=1024,wA=30;class RA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=l0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>wA){const l=xA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ds.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l0(),{heartbeatsToSend:i,unsentEntries:a}=IA(this._heartbeatsCache.heartbeats),l=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ds.warn(e),""}}}function l0(){return new Date().toISOString().substring(0,10)}function IA(s,e=AA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),u0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),u0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class CA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await SA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function u0(s){return Wc(JSON.stringify({version:2,heartbeats:s})).length}function xA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function NA(s){ro(new Zr("platform-logger",e=>new qS(e),"PRIVATE")),ro(new Zr("heartbeat",e=>new RA(e),"PRIVATE")),or(lm,r0,s),or(lm,r0,"esm2020"),or("fire-js","")}NA("");var DA="firebase",OA="12.8.0";or(DA,OA,"app");function Gv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MA=Gv,Fv=new Ql("auth","Firebase",Gv());const th=new Mm("@firebase/auth");function VA(s,...e){th.logLevel<=Ve.WARN&&th.warn(`Auth (${go}): ${s}`,...e)}function Hc(s,...e){th.logLevel<=Ve.ERROR&&th.error(`Auth (${go}): ${s}`,...e)}function ms(s,...e){throw zm(s,...e)}function Ui(s,...e){return zm(s,...e)}function Qv(s,e,i){const a={...MA(),[e]:i};return new Ql("auth","Firebase",a).create(e,{appName:s.name})}function hs(s){return Qv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Fv.create(s,...e)}function Ee(s,e,...i){if(!s)throw zm(e,...i)}function us(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function gs(s,e){s||us(e)}function hm(){return typeof self<"u"&&self.location?.href||""}function kA(){return c0()==="http:"||c0()==="https:"}function c0(){return typeof self<"u"&&self.location?.protocol||null}function zA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kA()||cS()||"connection"in navigator)?navigator.onLine:!0}function LA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Yl{constructor(e,i){this.shortDelay=e,this.longDelay=i,gs(i>e,"Short delay should be less than long delay!"),this.isMobile=oS()||hS()}get(){return zA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){gs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Kv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const PA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jA=new Yl(3e4,6e4);function Xl(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function po(s,e,i,a,l={}){return Yv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Kl({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return uS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&mo(s.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(await Xv(s,s.config.apiHost,i,y),_)})}async function Yv(s,e,i){s._canInitEmulator=!1;const a={...UA,...e};try{const l=new BA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw kc(s,"user-disabled",d);const b=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Qv(s,b,_);ms(s,b)}}catch(l){if(l instanceof vs)throw l;ms(s,"network-request-failed",{message:String(l)})}}async function Um(s,e,i,a,l={}){const c=await po(s,e,i,a,l);return"mfaPendingCredential"in c&&ms(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Xv(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Lm(s.config,l):`${s.config.apiScheme}://${l}`;return PA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class BA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ui(this.auth,"network-request-failed")),jA.get())})}}function kc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ui(s,e,a);return l.customData._tokenResponse=i,l}async function qA(s,e){return po(s,"POST","/v1/accounts:delete",e)}async function nh(s,e){return po(s,"POST","/v1/accounts:lookup",e)}function Nl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HA(s,e=!1){const i=tn(s),a=await i.getIdToken(e),l=Pm(a);Ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Nl(Zd(l.auth_time)),issuedAtTime:Nl(Zd(l.iat)),expirationTime:Nl(Zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Zd(s){return Number(s)*1e3}function Pm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Ov(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function h0(s){const e=Pm(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ll(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof vs&&GA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function GA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class FA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const e=s.auth,i=await s.getIdToken(),a=await Ll(s,nh(e,{idToken:i}));Ee(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?$v(l.providerUserInfo):[],d=KA(s.providerData,c),y=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=y?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function QA(s){const e=tn(s);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KA(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function $v(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function YA(s,e){const i=await Yv(s,{},async()=>{const a=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Xv(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return s.emulatorConfig&&mo(s.emulatorConfig.host)&&(g.credentials="include"),Kv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function XA(s,e){return po(s,"POST","/v2/accounts:revokeToken",Xl(s,e))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=h0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await YA(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Wa;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ee(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return us("not implemented")}}function Zs(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new FA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return HA(this,e)}reload(){return QA(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await Ll(this,qA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:F,providerData:te,stsTokenManager:re}=i;Ee(A&&re,e,"internal-error");const se=Wa.fromJSON(this.name,re);Ee(typeof A=="string",e,"internal-error"),Zs(a,e.name),Zs(l,e.name),Ee(typeof O=="boolean",e,"internal-error"),Ee(typeof F=="boolean",e,"internal-error"),Zs(c,e.name),Zs(d,e.name),Zs(y,e.name),Zs(g,e.name),Zs(_,e.name),Zs(b,e.name);const me=new hi({uid:A,auth:e,email:l,emailVerified:O,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:se,createdAt:_,lastLoginAt:b});return te&&Array.isArray(te)&&(me.providerData=te.map(Se=>({...Se}))),g&&(me._redirectEventId=g),me}static async _fromIdTokenResponse(e,i,a=!1){const l=new Wa;l.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?$v(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new Wa;y.updateFromIdToken(a);const g=new hi({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const f0=new Map;function cs(s){gs(s instanceof Function,"Expected a class definition");let e=f0.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,f0.set(s,e),e)}class Jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Jv.type="NONE";const d0=Jv;function Gc(s,e,i){return`firebase:${s}:${e}:${i}`}class eo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Gc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await nh(this.auth,{idToken:e}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new eo(cs(d0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||cs(d0);const d=Gc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const O=await nh(e,{idToken:b}).catch(()=>{});if(!O)break;A=await hi._fromGetAccountInfoResponse(e,O,b)}else A=hi._fromJSON(e,b);_!==c&&(y=A),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new eo(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new eo(c,e,a))}}function m0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iE(e))return"Blackberry";if(sE(e))return"Webos";if(Wv(e))return"Safari";if((e.includes("chrome/")||eE(e))&&!e.includes("edge/"))return"Chrome";if(nE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Zv(s=cn()){return/firefox\//i.test(s)}function Wv(s=cn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eE(s=cn()){return/crios\//i.test(s)}function tE(s=cn()){return/iemobile/i.test(s)}function nE(s=cn()){return/android/i.test(s)}function iE(s=cn()){return/blackberry/i.test(s)}function sE(s=cn()){return/webos/i.test(s)}function jm(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function $A(s=cn()){return jm(s)&&!!window.navigator?.standalone}function JA(){return fS()&&document.documentMode===10}function rE(s=cn()){return jm(s)||nE(s)||sE(s)||iE(s)||/windows phone/i.test(s)||tE(s)}function aE(s,e=[]){let i;switch(s){case"Browser":i=m0(cn());break;case"Worker":i=`${m0(cn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${go}/${a}`}class ZA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function WA(s,e={}){return po(s,"GET","/v2/passwordPolicy",Xl(s,e))}const ew=6;class tw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ew,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class nw{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new ZA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await nh(this,{idToken:e}),a=await hi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(hs(this));const i=e?tn(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WA(this),i=new tw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await XA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&cs(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $l(s){return tn(s)}class g0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ES(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iw(s){Bm=s}function sw(s){return Bm.loadJS(s)}function rw(){return Bm.gapiScript}function aw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function ow(s,e){const i=km(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(cr(c,e??{}))return l;ms(l,"already-initialized")}return i.initialize({options:e})}function lw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(cs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function uw(s,e,i){const a=$l(s);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=oE(e),{host:d,port:y}=cw(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},b=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(cr(_,a.config.emulator)&&cr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,mo(d)?(zv(`${c}//${d}${g}`),Lv("Auth",!0)):hw()}function oE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function cw(s){const e=oE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:p0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:p0(d)}}}function p0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function hw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class lE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,i){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}async function to(s,e){return Um(s,"POST","/v1/accounts:signInWithIdp",Xl(s,e))}const fw="http://localhost";class Wr extends lE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Wr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ms("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Wr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return to(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,to(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,to(e,i)}buildRequest(){const e={requestUri:fw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Kl(i)}return e}}class uE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jl extends uE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class er extends Jl{constructor(){super("facebook.com")}static credential(e){return Wr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class tr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Wr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class nr extends Jl{constructor(){super("github.com")}static credential(e){return Wr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends Jl{constructor(){super("twitter.com")}static credential(e,i){return Wr._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";async function dw(s,e){return Um(s,"POST","/v1/accounts:signUp",Xl(s,e))}class ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await hi._fromIdTokenResponse(e,a,l),d=y0(a);return new ps({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=y0(a);return new ps({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function y0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function mw(s){if($n(s.app))return Promise.reject(hs(s));const e=$l(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ps({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await dw(e,{returnSecureToken:!0}),a=await ps._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class sh extends vs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new sh(e,i,a,l)}}function cE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,e,a):c})}async function gw(s,e,i=!1){const a=await Ll(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ps._forOperation(s,"link",a)}async function pw(s,e,i=!1){const{auth:a}=s;if($n(a.app))return Promise.reject(hs(a));const l="reauthenticate";try{const c=await Ll(s,cE(a,l,e,s),i);Ee(c.idToken,a,"internal-error");const d=Pm(c.idToken);Ee(d,a,"internal-error");const{sub:y}=d;return Ee(s.uid===y,a,"user-mismatch"),ps._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ms(a,"user-mismatch"),c}}async function yw(s,e,i=!1){if($n(s.app))return Promise.reject(hs(s));const a="signIn",l=await cE(s,a,e),c=await ps._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function _w(s,e){return Um(s,"POST","/v1/accounts:signInWithCustomToken",Xl(s,e))}async function vw(s,e){if($n(s.app))return Promise.reject(hs(s));const i=$l(s),a=await _w(i,{token:e,returnSecureToken:!0}),l=await ps._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Ew(s,e,i,a){return tn(s).onIdTokenChanged(e,i,a)}function Tw(s,e,i){return tn(s).beforeAuthStateChanged(e,i)}function bw(s,e,i,a){return tn(s).onAuthStateChanged(e,i,a)}const rh="__sak";class hE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sw=1e3,Aw=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);JA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Aw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}fE.type="LOCAL";const ww=fE;class dE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}dE.type="SESSION";const mE=dE;function Rw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new bh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await Rw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function qm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Iw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=qm("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const O=A;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(O.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function Cw(s){Pi().location.href=s}function gE(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function xw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nw(){return navigator?.serviceWorker?.controller||null}function Dw(){return gE()?self:null}const pE="firebaseLocalStorageDb",Ow=1,ah="firebaseLocalStorage",yE="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(s,e){return s.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function Mw(){const s=indexedDB.deleteDatabase(pE);return new Zl(s).toPromise()}function dm(){const s=indexedDB.open(pE,Ow);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ah,{keyPath:yE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ah)?e(a):(a.close(),await Mw(),e(await dm()))})})}async function _0(s,e,i){const a=Sh(s,!0).put({[yE]:e,value:i});return new Zl(a).toPromise()}async function Vw(s,e){const i=Sh(s,!1).get(e),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function v0(s,e){const i=Sh(s,!0).delete(e);return new Zl(i).toPromise()}const kw=800,zw=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>zw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(Dw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xw(),!this.activeServiceWorker)return;this.sender=new Iw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Nw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await _0(e,rh,"1"),await v0(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>_0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Vw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>v0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Sh(l,!1).getAll();return new Zl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const Lw=_E;new Yl(3e4,6e4);function Uw(s,e){return e?cs(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Hm extends lE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,i){return to(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Pw(s){return yw(s.auth,new Hm(s),s.bypassAuthState)}function jw(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),pw(i,new Hm(s),s.bypassAuthState)}async function Bw(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),gw(i,new Hm(s),s.bypassAuthState)}class vE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pw;case"linkViaPopup":case"linkViaRedirect":return Bw;case"reauthViaPopup":case"reauthViaRedirect":return jw;default:ms(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qw=new Yl(2e3,1e4);class Ja extends vE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qw.get())};e()}}Ja.currentPopupAction=null;const Hw="pendingRedirect",Fc=new Map;class Gw extends vE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const a=await Fw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fw(s,e){const i=Yw(e),a=Kw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Qw(s,e){Fc.set(s._key(),e)}function Kw(s){return cs(s._redirectPersistence)}function Yw(s){return Gc(Hw,s.config.apiKey,s.name)}async function Xw(s,e,i=!1){if($n(s.app))return Promise.reject(hs(s));const a=$l(s),l=Uw(a,e),d=await new Gw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const $w=600*1e3;class Jw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!EE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ui(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$w&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(e))}saveEventToCache(e){this.cachedEventUids.add(E0(e)),this.lastProcessedEventTime=Date.now()}}function E0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function EE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Zw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EE(s);default:return!1}}async function Ww(s,e={}){return po(s,"GET","/v1/projects",e)}const e2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t2=/^https?/;async function n2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Ww(s);for(const i of e)try{if(i2(i))return}catch{}ms(s,"unauthorized-domain")}function i2(s){const e=hm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!t2.test(i))return!1;if(e2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const s2=new Yl(3e4,6e4);function T0(){const s=Pi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function r2(s){return new Promise((e,i)=>{function a(){T0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T0(),i(Ui(s,"network-request-failed"))},timeout:s2.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)a();else{const l=aw("iframefcb");return Pi()[l]=()=>{gapi.load?a():i(Ui(s,"network-request-failed"))},sw(`${rw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function a2(s){return Qc=Qc||r2(s),Qc}const o2=new Yl(5e3,15e3),l2="__/auth/iframe",u2="emulator/auth/iframe",c2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f2(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,u2):`https://${s.config.authDomain}/${l2}`,a={apiKey:e.apiKey,appName:s.name,v:go},l=h2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Kl(a).slice(1)}`}async function d2(s){const e=await a2(s),i=Pi().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:f2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ui(s,"network-request-failed"),y=Pi().setTimeout(()=>{c(d)},o2.get());function g(){Pi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const m2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g2=500,p2=600,y2="_blank",_2="http://localhost";class b0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v2(s,e,i,a=g2,l=p2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...m2,width:a.toString(),height:l.toString(),top:c,left:d},_=cn().toLowerCase();i&&(y=eE(_)?y2:i),Zv(_)&&(e=e||_2,g.scrollbars="yes");const b=Object.entries(g).reduce((O,[F,te])=>`${O}${F}=${te},`,"");if($A(_)&&y!=="_self")return E2(e||"",y),new b0(null);const A=window.open(e||"",y,b);Ee(A,s,"popup-blocked");try{A.focus()}catch{}return new b0(A)}function E2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const T2="__/auth/handler",b2="emulator/auth/handler",S2=encodeURIComponent("fac");async function S0(s,e,i,a,l,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:go,eventId:l};if(e instanceof uE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",vS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof Jl){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const b of Object.keys(y))y[b]===void 0&&delete y[b];const g=await s._getAppCheckToken(),_=g?`#${S2}=${encodeURIComponent(g)}`:"";return`${A2(s)}?${Kl(y).slice(1)}${_}`}function A2({config:s}){return s.emulator?Lm(s,b2):`https://${s.authDomain}/${T2}`}const Wd="webStorageSupport";class w2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mE,this._completeRedirectFn=Xw,this._overrideRedirectResult=Qw}async _openPopup(e,i,a,l){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await S0(e,i,a,hm(),l);return v2(e,c,qm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await S0(e,i,a,hm(),l);return Cw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(gs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await d2(e),a=new Jw(e);return i.register("authEvent",l=>(Ee(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Wd,{type:Wd},l=>{const c=l?.[0]?.[Wd];c!==void 0&&i(!!c),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=n2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return rE()||Wv()||jm()}}const R2=w2;var A0="@firebase/auth",w0="1.12.0";class I2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function C2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x2(s){ro(new Zr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(s)},_=new nw(a,l,c,g);return lw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ro(new Zr("auth-internal",e=>{const i=$l(e.getProvider("auth").getImmediate());return(a=>new I2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(A0,w0,C2(s)),or(A0,w0,"esm2020")}const N2=300,D2=kv("authIdTokenMaxAge")||N2;let R0=null;const O2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>D2)return;const l=i?.token;R0!==l&&(R0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function M2(s=Bv()){const e=km(s,"auth");if(e.isInitialized())return e.getImmediate();const i=ow(s,{popupRedirectResolver:R2,persistence:[Lw,ww,mE]}),a=kv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=O2(c.toString());Tw(i,d,()=>d(i.currentUser)),Ew(i,y=>d(y))}}const l=Mv("auth");return l&&uw(i,`http://${l}`),i}function V2(){return document.getElementsByTagName("head")?.[0]??document}iw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Ui("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",V2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x2("Browser");var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,TE;(function(){var s;function e(x,S){function C(){}C.prototype=S.prototype,x.F=S.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,N,k){for(var R=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)R[nt-2]=arguments[nt];return S.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=x.g[0],C=x.g[1],N=x.g[2];let k=x.g[3],R;R=S+(k^C&(N^k))+V[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+V[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+V[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(k^C&(N^k))+V[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+V[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+V[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(k^C&(N^k))+V[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+V[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+V[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(k^C&(N^k))+V[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+V[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+V[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(N^k&(C^N))+V[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+V[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+V[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^k&(C^N))+V[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+V[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+V[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^k&(C^N))+V[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+V[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+V[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^k&(C^N))+V[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+V[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+V[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(C^N^k)+V[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+V[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+V[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^k)+V[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+V[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+V[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^k)+V[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+V[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+V[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^k)+V[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+V[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+V[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(N^(C|~k))+V[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+V[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+V[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~k))+V[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+V[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+V[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~k))+V[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+V[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+V[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~k))+V[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+V[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+V[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+k&4294967295}a.prototype.v=function(x,S){S===void 0&&(S=x.length);const C=S-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<S;){if(N==0)for(;k<=C;)l(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<S;)if(V[N++]=x.charCodeAt(k++),N==this.blockSize){l(this,V),N=0;break}}else for(;k<S;)if(V[N++]=x[k++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[S++]=this.g[C]>>>V&255;return x};function c(x,S){var C=y;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=S(x)}function d(x,S){this.h=S;const C=[];let V=!0;for(let N=x.length-1;N>=0;N--){const k=x[N]|0;V&&k==S||(C[N]=k,V=!1)}this.g=C}var y={};function g(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return se(_(-x));const S=[];let C=1;for(let V=0;x>=C;V++)S[V]=x/C|0,C*=4294967296;return new d(S,0)}function b(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return se(b(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let V=A;for(let k=0;k<x.length;k+=8){var N=Math.min(8,x.length-k);const R=parseInt(x.substring(k,k+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(R))):(V=V.j(C),V=V.add(_(R)))}return V}var A=g(0),O=g(1),F=g(16777216);s=d.prototype,s.m=function(){if(re(this))return-se(this).m();let x=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*S,S*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(te(this))return"0";if(re(this))return"-"+se(this).toString(x);const S=_(Math.pow(x,6));var C=this;let V="";for(;;){const N=Qe(C,S).g;C=me(C,N.j(S));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=N,te(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function te(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function re(x){return x.h==-1}s.l=function(x){return x=me(this,x),re(x)?-1:te(x)?0:1};function se(x){const S=x.g.length,C=[];for(let V=0;V<S;V++)C[V]=~x.g[V];return new d(C,~x.h).add(O)}s.abs=function(){return re(this)?se(this):this},s.add=function(x){const S=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let N=0;N<=S;N++){let k=V+(this.i(N)&65535)+(x.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,k&=65535,R&=65535,C[N]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function me(x,S){return x.add(se(S))}s.j=function(x){if(te(this)||te(x))return A;if(re(this))return re(x)?se(this).j(se(x)):se(se(this).j(x));if(re(x))return se(this.j(se(x)));if(this.l(F)<0&&x.l(F)<0)return _(this.m()*x.m());const S=this.g.length+x.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const k=this.i(V)>>>16,R=this.i(V)&65535,nt=x.i(N)>>>16,yt=x.i(N)&65535;C[2*V+2*N]+=R*yt,Se(C,2*V+2*N),C[2*V+2*N+1]+=k*yt,Se(C,2*V+2*N+1),C[2*V+2*N+1]+=R*nt,Se(C,2*V+2*N+1),C[2*V+2*N+2]+=k*nt,Se(C,2*V+2*N+2)}for(x=0;x<S;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=S;x<2*S;x++)C[x]=0;return new d(C,0)};function Se(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function _e(x,S){this.g=x,this.h=S}function Qe(x,S){if(te(S))throw Error("division by zero");if(te(x))return new _e(A,A);if(re(x))return S=Qe(se(x),S),new _e(se(S.g),se(S.h));if(re(S))return S=Qe(x,se(S)),new _e(se(S.g),S.h);if(x.g.length>30){if(re(x)||re(S))throw Error("slowDivide_ only works with positive integers.");for(var C=O,V=S;V.l(x)<=0;)C=rt(C),V=rt(V);var N=Le(C,1),k=Le(V,1);for(V=Le(V,2),C=Le(C,2);!te(V);){var R=k.add(V);R.l(x)<=0&&(N=N.add(C),k=R),V=Le(V,1),C=Le(C,1)}return S=me(x,N.j(S)),new _e(N,S)}for(N=A;x.l(S)>=0;){for(C=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(C),R=k.j(S);re(R)||R.l(x)>0;)C-=V,k=_(C),R=k.j(S);te(k)&&(k=O),N=N.add(k),x=me(x,R)}return new _e(N,x)}s.B=function(x){return Qe(this,x).h},s.and=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&x.i(V);return new d(C,this.h&x.h)},s.or=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|x.i(V);return new d(C,this.h|x.h)},s.xor=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^x.i(V);return new d(C,this.h^x.h)};function rt(x){const S=x.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(C,x.h)}function Le(x,S){const C=S>>5;S%=32;const V=x.g.length-C,N=[];for(let k=0;k<V;k++)N[k]=S>0?x.i(k+C)>>>S|x.i(k+C+1)<<32-S:x.i(k+C);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,TE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,lr=d}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bE,wl,SE,Kc,mm,AE,wE,RE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var ee=Array(arguments.length-2),we=2;we<arguments.length;we++)ee[we-2]=arguments[we];return m.prototype[L].apply(T,ee)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function te(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ee=0;ee<B;ee++)u[v+ee]=L[ee]}else u.push(L)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){d.setTimeout(()=>{throw u},0)}function me(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Se{constructor(){this.h=this.g=null}add(m,v){const T=_e.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _e=new re(()=>new Qe,u=>u.reset());class Qe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,Le=!1,x=new Se,S=()=>{const u=Promise.resolve(void 0);rt=()=>{u.then(C)}};function C(){for(var u;u=me();){try{u.h.call(u.g)}catch(v){se(v)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Le=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(nt,N),nt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),H=0;function ne(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function De(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Be(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Ae(u,m,T,L);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function fe(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(he(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Z="closure_lm_"+(Math.random()*1e6|0),W={};function J(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)J(u,m[B],v,T,L);return null}return v=Qt(v),u&&u[yt]?u.J(m,v,y(T)?!!T.capture:!1,L):Ce(u,m,v,!1,T,L)}function Ce(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const ee=y(L)?!!L.capture:!!L;let we=et(u);if(we||(u[Z]=we=new ae(u)),v=we.add(m,v,T,ee,B),v.proxy)return v;if(T=Pt(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=ee),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Ft(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pt(){function u(v){return m.call(u.src,u.listener,v)}const m=di;return u}function kt(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)kt(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=Qt(v),u&&u[yt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ae(m,v,T,L),v>-1&&(he(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=et(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,T,L)),(v=u>-1?m[u]:null)&&sn(v))}function sn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[yt])fe(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Ft(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=et(m))?(fe(v,u),v.h==0&&(v.src=null,m[Z]=null)):he(u)}}}function Ft(u){return u in W?W[u]:W[u]="on"+u}function di(u,m){if(u.da)u=!0;else{m=new nt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&sn(u),u=v.call(T,m)}return u}function et(u){return u=u[Z],u instanceof ae?u:null}var hn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qt(u){return typeof u=="function"?u:(u[hn]||(u[hn]=function(m){return u.handleEvent(m)}),u[hn])}function it(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}A(it,V),it.prototype[yt]=!0,it.prototype.removeEventListener=function(u,m,v,T){kt(this,u,m,v,T)};function dt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),ie(m,L)}L=!0;let B,ee;if(v)for(ee=v.length-1;ee>=0;ee--)B=m.g=v[ee],L=mi(B,T,!0,m)&&L;if(B=m.g=u,L=mi(B,T,!0,m)&&L,L=mi(B,T,!1,m)&&L,v)for(ee=0;ee<v.length;ee++)B=m.g=v[ee],L=mi(B,T,!1,m)&&L}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)he(v[T]);delete u.g[m],u.h--}}this.G=null},it.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},it.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function mi(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==v){const we=ee.listener,Et=ee.ha||ee.src;ee.fa&&fe(u.i,ee),L=we.call(Et,T)!==!1&&L}}return L&&!T.defaultPrevented}function Er(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function gi(u){u.g=Er(()=>{u.g=null,u.i&&(u.i=!1,gi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _t extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:gi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(u){V.call(this),this.h=u,this.g={}}A(rn,V);var To=[];function bo(u){De(u.g,function(m,v){this.g.hasOwnProperty(v)&&sn(m)},u),u.g={}}rn.prototype.N=function(){rn.Z.N.call(this),bo(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=d.JSON.stringify,Hh=d.JSON.parse,au=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ou(){}function lu(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){N.call(this,"d")}A(Kt,N);function zn(){N.call(this,"c")}A(zn,N);var vt={},uu=null;function sa(){return uu=uu||new it}vt.Ia="serverreachability";function cu(u){N.call(this,vt.Ia,u)}A(cu,N);function pi(u){const m=sa();dt(m,new cu(m))}vt.STAT_EVENT="statevent";function Tr(u,m){N.call(this,vt.STAT_EVENT,u),this.stat=m}A(Tr,N);function wt(u){const m=sa();dt(m,new Tr(m,u))}vt.Ja="timingevent";function yi(u,m){N.call(this,vt.Ja,u),this.size=m}A(yi,N);function _i(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Gh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var ee="",we=B.split("&");for(let Ge=0;Ge<we.length;Ge++){var Et=we[Ge].split("=");if(Et.length>1){const ct=Et[0];Et=Et[1];const jn=ct.split("_");ee=jn.length>=2&&jn[1]=="type"?ee+(ct+"="+Et+"&"):ee+(ct+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+ee})}function hu(u,m,v,T,L,B,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ee})}function vi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fh(u,v)+(T?" "+T:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function Fh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<T.length;ee++)T[ee]=""}}}}return Es(B)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function Ar(){}A(Ar,ou),Ar.prototype.g=function(){return new XMLHttpRequest},Ao=new Ar;function Gi(u){return encodeURIComponent(String(u))}function fu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ei(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Rt={},jt={};function Ei(u,m,v){u.M=1,u.A=wr(Ct(m)),u.u=v,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),Ti(u),u.B=Ct(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ua(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ti,u.g=Iu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new _t(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(To[0]=L.toString()),L=To);for(let B=0;B<L.length;B++){const ee=J(v,L[B],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pi(),Gh(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)e:{const we=si(this.g),Et=this.g.ya(),Ge=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||we!=4||Et==7||(Et==8||Ge<=0?pi(3):pi(2)),bi(this);var m=this.g.ca();this.X=m;var v=Qh(this);if(this.o=m==200,hu(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(u=B)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,wt(12),Sn(this),Ln(this);break e}}if(this.R){u=!0;let ct;for(;!this.K&&this.C<v.length;)if(ct=mu(this,v),ct==jt){we==4&&(this.m=4,wt(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Rt){this.m=4,wt(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,ct,null),Si(this,ct);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,wt(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(ee),ee.P=!0,wt(11))}}else vi(this.i,this.l,v,null),Si(this,v);we==4&&Sn(this),this.o&&!this.K&&(we==4?Su(this.j,this):(this.o=!1,Ti(this)))}else Qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Sn(this),Ln(this)}}}catch{}};function Qh(u){if(!du(u))return u.g.la();const m=Yt(u.g);if(m==="")return"";let v="";const T=m.length,L=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?jt:(v=Number(m.substring(v,T)),isNaN(v)?Rt:(T+=1,T+v>m.length?jt:(m=m.slice(T,T+v),u.C=T+v,m)))}ei.prototype.cancel=function(){this.K=!0,Sn(this)};function Ti(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(_(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(pi(),wt(17)),Sn(this),this.m=2,Ln(this)):aa(this,this.T-u)};function Ln(u){u.j.I==0||u.K||Su(u.j,u)}function Sn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,bo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),Cs(v);else break e;Or(v),wt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(_(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&ma(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ge=L[m];const ct=Ge[0];if(!(ct<=v.K))if(v.K=ct,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const jn=Ge[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Oi=Ge[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const ri=Ge[5];ri!=null&&typeof ri=="number"&&ri>0&&(T=1.5*ri,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ai=u.g;if(ai){const Mr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var B=T.h;B.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Io(B,B.h),B.h=null))}if(T.G){const ga=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(T.wa=ga,Ke(T.J,T.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ee=u;if(T.na=Ru(T,T.L?T.ba:null,T.W),ee.L){Co(T.h,ee);var we=ee,Et=T.O;Et&&(we.H=Et),we.D&&(bi(we),Ti(we)),T.g=ee}else Tu(T);v.i.length>0&&Ni(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Di(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Di(v,7):Lo(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}pi(4)}catch{}}var It=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Bt(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,No(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Bt(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),Ts(this,m[4]),this.h=Ri(m[5]||"",!0),No(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,la,!0),"@"),u.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Do:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,yu)),u.join("")},An.prototype.resolve=function(u){const m=Ct(this);let v=!!u.j;v?Bt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ts(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ee=0;ee<L.length;){const we=L[ee++];we=="."?T&&ee==L.length&&B.push(""):we==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&ee==L.length&&B.push("")):(B.push(we),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?No(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ct(u){return new An(u)}function Bt(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof Ss?(u.i=m,ca(u.i,u.l)):(v||(m=Rr(m,bs)),u.i=new Ss(m,u.l))}function Ke(u,m,v){u.i.set(m,v)}function wr(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,pu=/[#\?:]/g,Do=/[#\?]/g,bs=/[#\?@]/g,yu=/#/g;function Ss(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(u,m){pn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){pn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return pn(u),m=As(u,m),u.g.has(m)}s.forEach=function(u,m){pn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Mo(u,m){pn(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return pn(this),this.i=null,u=As(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Gi(v);v=Mo(this,v);for(let B=0;B<v.length;B++){let ee=L;v[B]!==""&&(ee+="="+Gi(v[B])),u.push(ee)}}return this.i=u.join("&")};function vu(u){const m=new Ss;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(_u(this,T),ua(this,L,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const T=new Image;T.onload=b(Un,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Un,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Un,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Un,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vo(u,m){const v=new Wn,T=new AbortController,L=setTimeout(()=>{T.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ws(){this.g=new au}function Ii(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ii,ou),Ii.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(u,m){it.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ir,it),s=Ir.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Rs(this):ii(this),this.readyState==3&&ha(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},s.Na=function(u){this.g&&(this.response=u,Rs(this))},s.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return De(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Cr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Pn(v),typeof u=="string"?v!=null&&Gi(v):Ke(u,m,v))}function $e(u){it.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($e,it);var Ci=/^https?$/i,ko=["POST","PUT"];s=$e.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){xr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of v)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){xr(this,B)}};function xr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zo(u),Fi(u)}function zo(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,dt(this,"complete"),dt(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),$e.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(dt(u,"readystatechange"),si(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let ee=String(u.D).match(gu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),T=!Ci.test(ee?ee.toLowerCase():"")}v=T}if(v)dt(u,"complete"),dt(u,"success");else{u.o=6;try{var L=si(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",zo(u)}}finally{Fi(u)}}}}function Fi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||dt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hh(m)}};function Yt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=fu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Be(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){wt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Ru(this,null,this.W),Ni(this)};function Lo(u){if(fa(u),u.I==3){var m=u.V++,v=Ct(u.J);if(Ke(v,"SID",u.M),Ke(v,"RID",m),Ke(v,"TYPE","terminate"),Dr(u,v),m=new ei(u,u.j,m),m.M=2,m.A=wr(Ct(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}wu(u)}function Cs(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function fa(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;rt||S(),Le||(rt(),Le=!0),x.add(m,u),u.D=0}}function da(u,m){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(_(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ei(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Eu(this,L,m),v=Ct(this.J),Ke(v,"RID",u),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Dr(this,v),B&&(this.R?m="headers="+Gi(Pn(B))+"&"+m:this.u&&Cr(v,this.u,B)),Io(this.h,L),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",m),Ke(v,"SID","null"),L.U=!0,Ei(L,v,null)):Ei(L,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||Ro(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const T=Ct(u.J);Ke(T,"SID",u.M),Ke(T,"RID",v),Ke(T,"AID",u.K),Dr(u,T),u.u&&u.o&&Cr(T,u.u,u.o),v=new ei(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,v),Ei(v,T,m)}function Dr(u,m){u.H&&De(u.H,function(v,T){Ke(m,T,v)}),u.l&&De({},function(v,T){Ke(m,T,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let we=-1;for(;;){const Et=["count="+v];we==-1?v>0?(we=L[0].g,Et.push("ofs="+we)):we=0:Et.push("ofs="+we);let Ge=!0;for(let ct=0;ct<v;ct++){var B=L[ct].g;const jn=L[ct].map;if(B-=we,B<0)we=Math.max(0,L[ct].g-100),Ge=!1;else try{B="req"+B+"_"||"";try{var ee=jn instanceof Map?jn:Object.entries(jn);for(const[Oi,ri]of ee){let ai=ri;y(ri)&&(ai=Es(ri)),Et.push(B+Oi+"="+encodeURIComponent(ai))}}catch(Oi){throw Et.push(B+"type="+encodeURIComponent("_badmap")),Oi}}catch{T&&T(jn)}}if(Ge){ee=Et.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;rt||S(),Le||(rt(),Le=!0),x.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(_(u.Da,u),Au(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Cs(this),bu(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ct(u.na);Ke(m,"RID","rpc"),Ke(m,"SID",u.M),Ke(m,"AID",u.K),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(m,"TO",u.ia),Ke(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(Ct(m)),v.u=null,v.R=!0,ra(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),Or(this),wt(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){ma(u),Po(u),u.g=null;var T=2}else if(wi(u.h,m))v=m.G,Co(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=sa(),dt(T,new yi(T,v)),Ni(u)}else Tu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&da(u,m)||T==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new An(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Bt(T,"https"),wr(T),L?ni(T.toString(),v):Vo(T.toString(),v)}else wt(2);u.I=0,u.l&&u.l.pa(m),wu(u),fa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,v){var T=v instanceof An?Ct(v):new An(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ts(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);T&&Bt(B,T),m&&(B.g=m),L&&Ts(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ke(T,v,m),Ke(T,"VER",u.ka),Dr(u,T),T}function Iu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $e(new Ii({ab:v})):new $e(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function xs(){}xs.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){it.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ki(this)}A(fn,it),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Lo(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Es(u),u=v);m.i.push(new It(m.Ya++,u)),m.I==3&&Ni(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,fn.Z.N.call(this)};function xu(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(xu,Kt);function Nu(){zn.call(this),this.status=1}A(Nu,zn);function Ki(u){this.g=u}A(Ki,Cu),Ki.prototype.ra=function(){dt(this.g,"a")},Ki.prototype.qa=function(u){dt(this.g,new xu(u))},Ki.prototype.pa=function(u){dt(this.g,new Nu)},Ki.prototype.oa=function(){dt(this.g,"b")},xs.prototype.createWebChannel=xs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,RE=function(){return new xs},wE=function(){return sa()},AE=vt,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Kc=Sr,So.COMPLETE="complete",SE=So,lu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",it.prototype.listen=it.prototype.J,wl=lu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,bE=$e}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let yo="12.8.0";function k2(s){yo=s}const ea=new Mm("@firebase/firestore");function Ka(){return ea.logLevel}function oe(s,...e){if(ea.logLevel<=Ve.DEBUG){const i=e.map(Gm);ea.debug(`Firestore (${yo}): ${s}`,...i)}}function ys(s,...e){if(ea.logLevel<=Ve.ERROR){const i=e.map(Gm);ea.error(`Firestore (${yo}): ${s}`,...i)}}function ao(s,...e){if(ea.logLevel<=Ve.WARN){const i=e.map(Gm);ea.warn(`Firestore (${yo}): ${s}`,...i)}}function Gm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ge(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,IE(s,a,i)}function IE(s,e,i){let a=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ys(a),new Error(a)}function je(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||IE(e,l,a)}function Te(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class CE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class L2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class U2{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){je(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fs,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(je(typeof a.accessToken=="string",31837,{l:a}),new CE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class P2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class j2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new P2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){je(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new C0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=q2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function ke(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return em(l)===em(c)?ke(l,c):em(l)?1:-1}return ke(s.length,e.length)}const H2=55296,G2=57343;function em(s){const e=s.charCodeAt(0);return e>=H2&&e<=G2}function oo(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const x0="__name__";class Li{constructor(e,i,a){i===void 0?i=0:i>e.length&&ge(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ge(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Li.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return ke(e.length,i.length)}static compareSegments(e,i){const a=Li.isNumericId(e),l=Li.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Li.extractNumericId(e).compare(Li.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class lt extends Li{construct(e,i,a){return new lt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new lt(i)}static emptyPath(){return new lt([])}}const F2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Li{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return F2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new en([x0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new ue($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ue($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(lt.fromString(e))}static fromName(e){return new pe(lt.fromString(e).popFirst(5))}static empty(){return new pe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return lt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new lt(e.slice()))}}function Q2(s,e,i){if(!i)throw new ue($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function K2(s,e,i,a){if(e===!0&&a===!0)throw new ue($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function N0(s){if(!pe.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ge(12329,{type:typeof s})}function Jn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Qm(s);throw new ue($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Vt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Wl(s,e){if(!xE(s))throw new ue($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ue($.INVALID_ARGUMENT,i);return!0}const D0=-62135596800,O0=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*O0);return new ut(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<D0)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Vt("string",ut._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new ut(0,0))}static max(){return new ve(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function Y2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(a===1e9?new ut(i+1,0):new ut(i,a));return new hr(l,pe.empty(),e)}function X2(s){return new hr(s.readTime,s.key,Ul)}class hr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new hr(ve.min(),pe.empty(),Ul)}static max(){return new hr(ve.max(),pe.empty(),Ul)}}function $2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:ke(s.largestBatchId,e.largestBatchId))}const J2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _o(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==J2)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((b=>{d[_]=b,++y,y===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function W2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vo(s){return s.name==="IndexedDbTransactionError"}class Ah{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;const Km=-1;function eu(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function eR(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const NE="";function tR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=M0(e)),e=nR(s.get(i),e);return M0(e)}function nR(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case NE:i+="";break;default:i+=c}}return i}function M0(s){return s+NE+""}function V0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function _r(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function DE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class mt{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new mt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Wt.RED,this.left=l??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Wt(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ut(this.comparator);return i.data=e,i}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Vn([])}unionWith(e){let i=new Ut(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new OE("Invalid base64 string: "+c):c}})(e);return new nn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new nn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const iR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(je(!!s,39018),typeof s=="string"){let e=0;const i=iR.exec(s);if(je(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:St(s.seconds),nanos:St(s.nanos)}}function St(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const ME="server_timestamp",VE="__type__",kE="__previous_value__",zE="__local_write_time__";function Ym(s){return(s?.mapValue?.fields||{})[VE]?.stringValue===ME}function wh(s){const e=s.mapValue.fields[kE];return Ym(e)?wh(e):e}function Pl(s){const e=fr(s.mapValue.fields[zE].timestampValue);return new ut(e.seconds,e.nanos)}class sR{constructor(e,i,a,l,c,d,y,g,_,b,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=A}}const lh="(default)";class jl{constructor(e,i){this.projectId=e,this.database=i||lh}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}function rR(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ue($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(s.options.projectId,e)}const LE="__type__",aR="__max__",Uc={mapValue:{}},UE="__vector__",uh="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ym(s)?4:lR(s)?9007199254740991:oR(s)?10:11:ge(28295,{value:s})}function qi(s,e){if(s===e)return!0;const i=mr(s);if(i!==mr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Pl(s).isEqual(Pl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=fr(l.timestampValue),y=fr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return dr(l.bytesValue).isEqual(dr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return St(l.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(l.geoPointValue.longitude)===St(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return St(l.integerValue)===St(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=St(l.doubleValue),y=St(c.doubleValue);return d===y?oh(d)===oh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return oo(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(V0(d)!==V0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!qi(d[g],y[g])))return!1;return!0})(s,e);default:return ge(52216,{left:s})}}function Bl(s,e){return(s.values||[]).find((i=>qi(i,e)))!==void 0}function lo(s,e){if(s===e)return 0;const i=mr(s),a=mr(e);if(i!==a)return ke(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=St(c.integerValue||c.doubleValue),g=St(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(s,e);case 3:return z0(s.timestampValue,e.timestampValue);case 4:return z0(Pl(s),Pl(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=dr(c),g=dr(d);return y.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const b=ke(y[_],g[_]);if(b!==0)return b}return ke(y.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=ke(St(c.latitude),St(d.latitude));return y!==0?y:ke(St(c.longitude),St(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return L0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[uh]?.arrayValue,b=g[uh]?.arrayValue,A=ke(_?.values?.length||0,b?.values?.length||0);return A!==0?A:L0(_,b)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},b=Object.keys(_);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const O=gm(g[A],b[A]);if(O!==0)return O;const F=lo(y[g[A]],_[b[A]]);if(F!==0)return F}return ke(g.length,b.length)})(s.mapValue,e.mapValue);default:throw ge(23264,{he:i})}}function z0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const i=fr(s),a=fr(e),l=ke(i.seconds,a.seconds);return l!==0?l:ke(i.nanos,a.nanos)}function L0(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=lo(i[l],a[l]);if(c)return c}return ke(i.length,a.length)}function uo(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=fr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=pm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${pm(i.fields[d])}`;return l+"}"})(s.mapValue):ge(61005,{value:s})}function Yc(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(s);return e?16+Yc(e):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Yc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return _r(a.fields,((c,d)=>{l+=c.length+Yc(d)})),l})(s.mapValue);default:throw ge(13486,{value:s})}}function ym(s){return!!s&&"integerValue"in s}function Xm(s){return!!s&&"arrayValue"in s}function U0(s){return!!s&&"nullValue"in s}function P0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function oR(s){return(s?.mapValue?.fields||{})[LE]?.stringValue===UE}function Dl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return _r(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Dl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Dl(s.arrayValue.values[i]);return e}return{...s}}function lR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===aR}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Xc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(i)}setAll(e){let i=en.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Dl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){_r(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new mn(Dl(this.value))}}function PE(s){const e=[];return _r(s.fields,((i,a)=>{const l=new en([i]);if(Xc(a)){const c=PE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Vn(e)}class Gt{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Gt(e,0,ve.min(),ve.min(),ve.min(),mn.empty(),0)}static newFoundDocument(e,i,a,l){return new Gt(e,1,i,ve.min(),a,l,0)}static newNoDocument(e,i){return new Gt(e,2,i,ve.min(),ve.min(),mn.empty(),0)}static newUnknownDocument(e,i){return new Gt(e,3,i,ve.min(),ve.min(),mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function j0(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=lo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function B0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],e.position[i]))return!1;return!0}class hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function uR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class jE{}class Lt extends jE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new hR(e,i,a):i==="array-contains"?new mR(e,a):i==="in"?new gR(e,a):i==="not-in"?new pR(e,a):i==="array-contains-any"?new yR(e,a):new Lt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new fR(e,a):new dR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(lo(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(lo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends jE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Hi(e,i)}matches(e){return BE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(s){return s.op==="and"}function qE(s){return cR(s)&&BE(s)}function cR(s){for(const e of s.filters)if(e instanceof Hi)return!1;return!0}function _m(s){if(s instanceof Lt)return s.field.canonicalString()+s.op.toString()+uo(s.value);if(qE(s))return s.filters.map((e=>_m(e))).join(",");{const e=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${e})`}}function HE(s,e){return s instanceof Lt?(function(a,l){return l instanceof Lt&&a.op===l.op&&a.field.isEqual(l.field)&&qi(a.value,l.value)})(s,e):s instanceof Hi?(function(a,l){return l instanceof Hi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&HE(d,l.filters[y])),!0):!1})(s,e):void ge(19439)}function GE(s){return s instanceof Lt?(function(i){return`${i.field.canonicalString()} ${i.op} ${uo(i.value)}`})(s):s instanceof Hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(GE).join(" ,")+"}"})(s):"Filter"}class hR extends Lt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class fR extends Lt{constructor(e,i){super(e,"in",i),this.keys=FE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class dR extends Lt{constructor(e,i){super(e,"not-in",i),this.keys=FE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function FE(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class mR extends Lt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xm(i)&&Bl(i.arrayValue,this.value)}}class gR extends Lt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class pR extends Lt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class yR extends Lt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bl(this.value.arrayValue,a)))}}class _R{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function q0(s,e=null,i=[],a=[],l=null,c=null,d=null){return new _R(s,e,i,a,l,c,d)}function $m(s){const e=Te(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>_m(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),eu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>uo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>uo(a))).join(",")),e.Te=i}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!uR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!HE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!B0(s.startAt,e.startAt)&&B0(s.endAt,e.endAt)}function vm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Rh{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vR(s,e,i,a,l,c,d,y){return new Rh(s,e,i,a,l,c,d,y)}function Ih(s){return new Rh(s)}function H0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ER(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function TR(s){return s.collectionGroup!==null}function Ol(s){const e=Te(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ut(en.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hh(c,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new hh(en.keyField(),a))}return e.Ie}function ji(s){const e=Te(s);return e.Ee||(e.Ee=bR(e,Ol(s))),e.Ee}function bR(s,e){if(s.limitType==="F")return q0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new hh(l.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return q0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Em(s,e,i){return new Rh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ch(s,e){return Jm(ji(s),ji(e))&&s.limitType===e.limitType}function QE(s){return`${$m(ji(s))}|lt:${s.limitType}`}function Ya(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>GE(l))).join(", ")}]`),eu(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>uo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>uo(l))).join(",")),`Target(${a})`})(ji(s))}; limitType=${s.limitType})`}function xh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Ol(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=j0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Ol(a),l)||a.endAt&&!(function(d,y,g){const _=j0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Ol(a),l))})(s,e)}function SR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function KE(s){return(e,i)=>{let a=!1;for(const l of Ol(s)){const c=AR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function AR(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?lo(g,_):ge(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ge(19790,{direction:s.dir})}}class na{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}const wR=new mt(pe.comparator);function _s(){return wR}const YE=new mt(pe.comparator);function Rl(...s){let e=YE;for(const i of s)e=e.insert(i.key,i);return e}function XE(s){let e=YE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function $r(){return Ml()}function $E(){return Ml()}function Ml(){return new na((s=>s.toString()),((s,e)=>s.isEqual(e)))}const RR=new mt(pe.comparator),IR=new Ut(pe.comparator);function ze(...s){let e=IR;for(const i of s)e=e.add(i);return e}const CR=new Ut(ke);function xR(){return CR}function Zm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function JE(s){return{integerValue:""+s}}function NR(s,e){return eR(e)?JE(e):Zm(s,e)}class Nh{constructor(){this._=void 0}}function DR(s,e,i){return s instanceof fh?(function(l,c){const d={fields:{[VE]:{stringValue:ME},[zE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ym(c)&&(c=wh(c)),c&&(d.fields[kE]=c),{mapValue:d}})(i,e):s instanceof co?WE(s,e):s instanceof ql?eT(s,e):(function(l,c){const d=ZE(l,c),y=G0(d)+G0(l.Ae);return ym(d)&&ym(l.Ae)?JE(y):Zm(l.serializer,y)})(s,e)}function OR(s,e,i){return s instanceof co?WE(s,e):s instanceof ql?eT(s,e):i}function ZE(s,e){return s instanceof dh?(function(a){return ym(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class fh extends Nh{}class co extends Nh{constructor(e){super(),this.elements=e}}function WE(s,e){const i=tT(e);for(const a of s.elements)i.some((l=>qi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ql extends Nh{constructor(e){super(),this.elements=e}}function eT(s,e){let i=tT(e);for(const a of s.elements)i=i.filter((l=>!qi(l,a)));return{arrayValue:{values:i}}}class dh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function G0(s){return St(s.integerValue||s.doubleValue)}function tT(s){return Xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class MR{constructor(e,i){this.field=e,this.transform=i}}function VR(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof co&&l instanceof co||a instanceof ql&&l instanceof ql?oo(a.elements,l.elements,qi):a instanceof dh&&l instanceof dh?qi(a.Ae,l.Ae):a instanceof fh&&l instanceof fh})(s.transform,e.transform)}class kR{constructor(e,i){this.version=e,this.transformResults=i}}class un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function nT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Oh(s.key,un.none()):new tu(s.key,s.data,un.none());{const i=s.data,a=mn.empty();let l=new Ut(en.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new vr(s.key,a,new Vn(l.toArray()),un.none())}}function zR(s,e,i){s instanceof tu?(function(l,c,d){const y=l.value.clone(),g=Q0(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof vr?(function(l,c,d){if(!$c(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=Q0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(iT(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Vl(s,e,i,a){return s instanceof tu?(function(c,d,y,g){if(!$c(c.precondition,d))return y;const _=c.value.clone(),b=K0(c.fieldTransforms,g,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof vr?(function(c,d,y,g){if(!$c(c.precondition,d))return y;const _=K0(c.fieldTransforms,g,d),b=d.data;return b.setAll(iT(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,y){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function LR(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=ZE(a.transform,l||null);c!=null&&(i===null&&(i=mn.empty()),i.set(a.field,c))}return i||null}function F0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&oo(a,l,((c,d)=>VR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tu extends Dh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vr extends Dh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function iT(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Q0(s,e,i){const a=new Map;je(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,OR(d,y,i[l]))}return a}function K0(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,DR(c,d,e))}return a}class Oh extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sT extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&zR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Vl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Vl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=$E();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=nT(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(ve.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((i,a)=>F0(i,a)))&&oo(this.baseMutations,e.baseMutations,((i,a)=>F0(i,a)))}}class Wm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){je(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return RR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Wm(e,i,a,l)}}class PR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Mt,Pe;function rT(s){switch(s){case $.OK:return ge(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ge(15467,{code:s})}}function aT(s){if(s===void 0)return ys("GRPC error has no .code"),$.UNKNOWN;switch(s){case Mt.OK:return $.OK;case Mt.CANCELLED:return $.CANCELLED;case Mt.UNKNOWN:return $.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return $.INTERNAL;case Mt.UNAVAILABLE:return $.UNAVAILABLE;case Mt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Mt.NOT_FOUND:return $.NOT_FOUND;case Mt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Mt.ABORTED:return $.ABORTED;case Mt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Mt.DATA_LOSS:return $.DATA_LOSS;default:return ge(39323,{code:s})}}(Pe=Mt||(Mt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function BR(){return new TextEncoder}const qR=new lr([4294967295,4294967295],0);function Y0(s){const e=BR().encode(s),i=new TE;return i.update(e),new Uint8Array(i.digest())}function X0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new lr([i,a],0),new lr([l,c],0)]}class eg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(a<0)throw new Il(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=lr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(lr.fromNumber(a)));return l.compare(qR)===1&&(l=new lr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Y0(e),[a,l]=X0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new eg(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Y0(e),[a,l]=X0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Mh(ve.min(),l,new mt(ke),_s(),ze())}}class nu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new nu(a,i,ze(),ze(),ze())}}class Jc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class oT{constructor(e,i){this.targetId=e,this.Ce=i}}class lT{constructor(e,i,a=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class $0{constructor(){this.ve=0,this.Fe=J0(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),a=ze();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ge(38017,{changeType:c})}})),new nu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=J0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HR{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.He=Pc(),this.Je=Pc(),this.Ze=new mt(ke)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(vm(c))if(a===0){const d=new pe(c.path);this.et(i,d,Gt.newNoDocument(d,ve.min()))}else je(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=dr(a).toUint8Array()}catch(g){if(g instanceof OE)return ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new eg(d,l,c)}catch(g){return ao(g instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&vm(y.target)){const g=new pe(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Gt.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=ze();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Mh(e,i,this.Ze,this.je,a);return this.je=_s(),this.He=Pc(),this.Je=Pc(),this.Ze=new mt(ke),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new $0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ut(ke),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ut(ke),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pc(){return new mt(pe.comparator)}function J0(){return new mt(pe.comparator)}const GR={asc:"ASCENDING",desc:"DESCENDING"},FR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QR={and:"AND",or:"OR"};class KR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Tm(s,e){return s.useProto3Json||eu(e)?e:{value:e}}function mh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function YR(s,e){return mh(s,e.toTimestamp())}function kn(s){return je(!!s,49232),ve.fromTimestamp((function(i){const a=fr(i);return new ut(a.seconds,a.nanos)})(s))}function tg(s,e){return bm(s,e).canonicalString()}function bm(s,e){const i=(function(l){return new lt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function cT(s){const e=lt.fromString(s);return je(pT(e),10190,{key:e.toString()}),e}function gh(s,e){return tg(s.databaseId,e.path)}function kl(s,e){const i=cT(e);if(i.get(1)!==s.databaseId.projectId)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(fT(i))}function hT(s,e){return tg(s.databaseId,e)}function XR(s){const e=cT(s);return e.length===4?lt.emptyPath():fT(e)}function Sm(s){return new lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fT(s){return je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Z0(s,e,i){return{name:gh(s,e),fields:i.value.mapValue.fields}}function $R(s,e){return"found"in e?(function(a,l){je(!!l.found,43571),l.found.name,l.found.updateTime;const c=kl(a,l.found.name),d=kn(l.found.updateTime),y=l.found.createTime?kn(l.found.createTime):ve.min(),g=new mn({mapValue:{fields:l.found.fields}});return Gt.newFoundDocument(c,d,y,g)})(s,e):"missing"in e?(function(a,l){je(!!l.missing,3894),je(!!l.readTime,22933);const c=kl(a,l.missing),d=kn(l.readTime);return Gt.newNoDocument(c,d)})(s,e):ge(7234,{result:e})}function JR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ge(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(je(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(je(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:aT(_.code);return new ue(b,_.message||"")})(d);i=new lT(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=kl(s,a.document.name),c=kn(a.document.updateTime),d=a.document.createTime?kn(a.document.createTime):ve.min(),y=new mn({mapValue:{fields:a.document.fields}}),g=Gt.newFoundDocument(l,c,d,y),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Jc(_,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=kl(s,a.document),c=a.readTime?kn(a.readTime):ve.min(),d=Gt.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Jc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=kl(s,a.document),c=a.removedTargetIds||[];i=new Jc([],c,l,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new jR(l,c),y=a.targetId;i=new oT(y,d)}}return i}function dT(s,e){let i;if(e instanceof tu)i={update:Z0(s,e.key,e.value)};else if(e instanceof Oh)i={delete:gh(s,e.key)};else if(e instanceof vr)i={update:Z0(s,e.key,e.data),updateMask:aI(e.fieldMask)};else{if(!(e instanceof sT))return ge(16599,{dt:e.type});i={verify:gh(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof dh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw ge(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:YR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge(27497)})(s,e.precondition)),i}function ZR(s,e){return s&&s.length>0?(je(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?kn(l.updateTime):kn(c);return d.isEqual(ve.min())&&(d=kn(c)),new kR(d,l.transformResults||[])})(i,e)))):[]}function WR(s,e){return{documents:[hT(s,e.path)]}}function eI(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=hT(s,l);const c=(function(_){if(_.length!==0)return gT(Hi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(O){return{field:Xa(O.field),direction:iI(O.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Tm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function tI(s){let e=XR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){je(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const O=mT(A);return O instanceof Hi&&qE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((O=>(function(te){return new hh($a(te.field),(function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(O)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let O;return O=typeof A=="object"?A.value:A,eu(O)?null:O})(i.limit));let g=null;i.startAt&&(g=(function(A){const O=!!A.before,F=A.values||[];return new ch(F,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const O=!A.before,F=A.values||[];return new ch(F,O)})(i.endAt)),vR(e,l,d,c,y,"F",g,_)}function nI(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function mT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=$a(i.unaryFilter.field);return Lt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return Lt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return Lt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return Lt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Lt.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Hi.create(i.compositeFilter.filters.map((a=>mT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(i.compositeFilter.op))})(s):ge(30097,{filter:s})}function iI(s){return GR[s]}function sI(s){return FR[s]}function rI(s){return QR[s]}function Xa(s){return{fieldPath:s.canonicalString()}}function $a(s){return en.fromServerFormat(s.fieldPath)}function gT(s){return s instanceof Lt?(function(i){if(i.op==="=="){if(P0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(U0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(U0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:sI(i.op),value:i.value}}})(s):s instanceof Hi?(function(i){const a=i.getFilters().map((l=>gT(l)));return a.length===1?a[0]:{compositeFilter:{op:rI(i.op),filters:a}}})(s):ge(54877,{filter:s})}function aI(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function pT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function yT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class sr{constructor(e,i,a,l,c=ve.min(),d=ve.min(),y=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oI{constructor(e){this.yt=e}}function lI(s){const e=tI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Em(e,e.limit,"L"):e}class uI{constructor(){this.Sn=new cI}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(hr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class cI{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Ut(lt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ut(lt.comparator)).toArray()}}const W0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(_T,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class ho{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ho(0)}static ar(){return new ho(-1)}}const ev="LruGarbageCollector",hI=1048576;function tv([s,e],[i,a]){const l=ke(s,i);return l===0?ke(e,a):l}class fI{constructor(e){this.Pr=e,this.buffer=new Ut(tv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dI{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vo(i)?oe(ev,"Ignoring IndexedDB error during garbage collection: ",i):await _o(i)}await this.Ar(3e5)}))}}class mI{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Ah.ce);const a=new fI(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(W0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,y,g,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,y=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Ka()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function gI(s,e){return new mI(s,e)}class pI{constructor(){this.changes=new na((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class _I{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Vl(a.mutation,l,Vn.empty(),ut.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ze()){const l=$r();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Rl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=$r();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ze())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=_s();const d=Ml(),y=(function(){return Ml()})();return i.forEach(((g,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof vr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Vl(b.mutation,_,b.mutation.getFieldMask(),ut.now())):d.set(_.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>y.set(_,new yI(b,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Ml();let l=new mt(((d,y)=>d-y)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let b=a.get(g)||Vn.empty();b=y.applyToLocalView(_,b),a.set(g,b);const A=(l.get(y.batchId)||ze()).add(g);l=l.insert(y.batchId,A)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,b=g.value,A=$E();b.forEach((O=>{if(!c.has(O)){const F=nT(i.get(O),a.get(O));F!==null&&A.set(O,F),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return ER(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):TR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve($r());let y=Ul,g=c;return d.next((_=>X.forEach(_,((b,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(e,b).next((O=>{g=g.insert(b,O)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,ze()))).next((b=>({batchId:y,changes:XE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let l=Rl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(e,c).next((y=>X.forEach(y,(g=>{const _=(function(A,O){return new Rh(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((b=>{b.forEach(((A,O)=>{d=d.insert(A,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Gt.newInvalidDocument(b)))}));let y=Rl();return d.forEach(((g,_)=>{const b=c.get(g);b!==void 0&&Vl(b.mutation,_,Vn.empty(),ut.now()),xh(i,_)&&(y=y.insert(g,_))})),y}))}}class vI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:kn(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:lI(l.bundledQuery),readTime:kn(l.readTime)}})(i)),X.resolve()}}class EI{constructor(){this.overlays=new mt(pe.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=$r();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=$r(),c=i.length+1,d=new pe(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new mt(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=$r(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const y=$r(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,b)=>y.set(_,b))),!(y.size()>=l)););return X.resolve(y)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new PR(i,a));let c=this.Lr.get(i);c===void 0&&(c=ze(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class TI{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class ng{constructor(){this.kr=new Ut(Ht.Kr),this.qr=new Ut(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Ht(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Ht(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new pe(new lt([])),a=new Ht(i,e),l=new Ht(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new lt([])),a=new Ht(i,e),l=new Ht(i,e+1);let c=ze();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ht(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ht{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||ke(e.Hr,i.Hr)}static Ur(e,i){return ke(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}class bI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Ht.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new UR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new Ht(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Km:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ht(i,0),l=new Ht(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ut(ke);return i.forEach((l=>{const c=new Ht(l,0),d=new Ht(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new Ht(new pe(c),0);let y=new Ut(ke);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){je(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Ht(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Ht(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class SI{constructor(e){this.ti=e,this.docs=(function(){return new mt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Gt.newInvalidDocument(i))}getEntries(e,i){let a=_s();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Gt.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=_s();const d=i.path,y=new pe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:b}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||$2(X2(b),a)<=0||(l.has(b.key)||xh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ge(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new AI(this)}getSize(e){return X.resolve(this.size)}}class AI extends pI{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class wI{constructor(e){this.persistence=e,this.ri=new na((i=>$m(i)),Jm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new ng,this.targetCount=0,this.oi=ho._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new ho(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class vT{constructor(e,i){this._i={},this.overlays={},this.ai=new Ah(0),this.ui=!1,this.ui=!0,this.ci=new TI,this.referenceDelegate=e(this),this.li=new wI(this),this.indexManager=new uI,this.remoteDocumentCache=(function(l){return new SI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new oI(i),this.Pi=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new EI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new bI(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const l=new RI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class RI extends Z2{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ri=new ng,this.Ai=null}static Vi(e){return new ig(e)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=pe.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,ve.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ph{constructor(e,i){this.persistence=e,this.fi=new na((a=>tR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=gI(this,i)}static Vi(e,i){return new ph(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,ve.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yc(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=ze(),l=ze();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new sg(e,i.fromCache,a,l)}}class II{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dS()?8:W2(cn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new II;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(Ka()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ka()<=Ve.DEBUG&&oe("QueryEngine","Query:",Ya(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ka()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(i))):X.resolve())}gs(e,i){if(H0(i))return X.resolve(null);let a=ji(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Em(i,null,"F"),a=ji(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=ze(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.bs(i,y);return this.Ss(i,_,d,g.readTime)?this.gs(e,Em(i,null,"F")):this.Ds(e,_,i,g)}))))})))))}ps(e,i,a,l){return H0(i)||l.isEqual(ve.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Ka()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.Ds(e,d,i,Y2(l,Ul)).next((y=>y)))}))}bs(e,i){let a=new Ut(KE(e));return i.forEach(((l,c)=>{xh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return Ka()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.fs.getDocumentsMatchingQuery(e,i,hr.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const rg="LocalStore",xI=3e8;class NI{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new mt(ke),this.Fs=new na((c=>$m(c)),Jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _I(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function DI(s,e,i,a){return new NI(s,e,i,a)}async function ET(s,e){const i=Te(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=ze();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}for(const _ of c){y.push(_.batchId);for(const b of _.mutations)g=g.add(b.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function OI(s,e){const i=Te(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,b){const A=_.batch,O=A.keys();let F=X.resolve();return O.forEach((te=>{F=F.next((()=>b.getEntry(g,te))).next((re=>{const se=_.docVersions.get(te);je(se!==null,48541),re.version.compareTo(se)<0&&(A.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),b.addEntry(re)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(g,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=ze();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function TT(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function MI(s,e){const i=Te(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];e.targetChanges.forEach(((b,A)=>{const O=l.get(A);if(!O)return;y.push(i.li.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,A))));let F=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(nn.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),l=l.insert(A,F),(function(re,se,me){return re.resumeToken.approximateByteSize()===0||se.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=xI?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(O,F,b)&&y.push(i.li.updateTargetData(c,F))}));let g=_s(),_=ze();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),y.push(VI(c,d,e.documentUpdates).next((b=>{g=b.Bs,_=b.Ls}))),!a.isEqual(ve.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(b)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.vs=l,c)))}function VI(s,e,i){let a=ze(),l=ze();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=_s();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):oe(rg,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{Bs:d,Ls:l}}))}function kI(s,e){const i=Te(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Km),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function zI(s,e){const i=Te(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new sr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Am(s,e,i){const a=Te(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!vo(d))throw d;oe(rg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function nv(s,e,i){const a=Te(s);let l=ve.min(),c=ze();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,b){const A=Te(g),O=A.Fs.get(b);return O!==void 0?X.resolve(A.vs.get(O)):A.li.getTargetData(_,b)})(a,d,ji(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:ve.min(),i?c:ze()))).next((y=>(LI(a,SR(e),y),{documents:y,ks:c})))))}function LI(s,e,i){let a=s.Ms.get(e)||ve.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class iv{constructor(){this.activeTargetIds=xR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UI{constructor(){this.vo=new iv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new iv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PI{Mo(e){}shutdown(){}}const sv="ConnectivityMonitor";class rv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(sv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function wm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const tm="RestConnection",jI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===lh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=wm(),y=this.Qo(e,i.toUriEncodedString());oe(tm,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,c);const{host:_}=new URL(y),b=mo(_);return this.zo(e,y,g,a,b).then((A=>(oe(tm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw ao(tm,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",a),A}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=jI[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class qI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",Al=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class no extends BI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!no.c_){const e=wE();Al(e,AE.STAT_EVENT,(i=>{i.stat===mm.PROXY?oe(on,"STAT_EVENT: detected buffering proxy"):i.stat===mm.NOPROXY&&oe(on,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(e,i,a,l,c){const d=wm();return new Promise(((y,g)=>{const _=new bE;_.setWithCredentials(!0),_.listenOnce(SE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Kc.NO_ERROR:const A=_.getResponseJson();oe(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case Kc.TIMEOUT:oe(on,`RPC '${e}' ${d} timed out`),g(new ue($.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const O=_.getStatus();if(oe(on,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const te=F?.error;if(te&&te.status&&te.message){const re=(function(me){const Se=me.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Se)>=0?Se:$.UNKNOWN})(te.status);g(new ue(re,te.message))}else g(new ue($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ue($.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(on,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);oe(on,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=wm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");oe(on,`Creating RPC '${e}' stream ${l}: ${_}`,y);const b=d.createWebChannel(_,y);this.I_(b);let A=!1,O=!1;const F=new qI({Ho:te=>{O?oe(on,`Not sending because RPC '${e}' stream ${l} is closed:`,te):(A||(oe(on,`Opening RPC '${e}' stream ${l} transport.`),b.open(),A=!0),oe(on,`RPC '${e}' stream ${l} sending:`,te),b.send(te))},Jo:()=>b.close()});return Al(b,wl.EventType.OPEN,(()=>{O||(oe(on,`RPC '${e}' stream ${l} transport opened.`),F.i_())})),Al(b,wl.EventType.CLOSE,(()=>{O||(O=!0,oe(on,`RPC '${e}' stream ${l} transport closed`),F.o_(),this.E_(b))})),Al(b,wl.EventType.ERROR,(te=>{O||(O=!0,ao(on,`RPC '${e}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),F.o_(new ue($.UNAVAILABLE,"The operation could not be completed")))})),Al(b,wl.EventType.MESSAGE,(te=>{if(!O){const re=te.data[0];je(!!re,16349);const se=re,me=se?.error||se[0]?.error;if(me){oe(on,`RPC '${e}' stream ${l} received error:`,me);const Se=me.status;let _e=(function(Le){const x=Mt[Le];if(x!==void 0)return aT(x)})(Se),Qe=me.message;_e===void 0&&(_e=$.INTERNAL,Qe="Unknown error status: "+Se+" with message "+me.message),O=!0,F.o_(new ue(_e,Qe)),b.close()}else oe(on,`RPC '${e}' stream ${l} received:`,re),F.__(re)}})),no.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return RE()}}function HI(s){return new no(s)}function nm(){return typeof document<"u"?document:null}function Vh(s){return new KR(s,!0)}no.c_=!1;class ag{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const av="PersistentStream";class bT{constructor(e,i,a,l,c,d,y,g){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ag(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ue($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(oe(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GI extends bT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=JR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ve.min():d.readTime?kn(d.readTime):ve.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Sm(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=vm(g)?{documents:WR(c,g)}:{query:eI(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=uT(c,d.resumeToken);const _=Tm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(ve.min())>0){y.readTime=mh(c,d.snapshotVersion.toTimestamp());const _=Tm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=nI(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Sm(this.serializer),i.removeTarget=e,this.K_(i)}}class FI extends bT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=ZR(e.writeResults,e.commitTime),a=kn(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Sm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>dT(this.serializer,a)))};this.K_(i)}}class QI{}class KI extends QI{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,bm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue($.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,bm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function YI(s,e,i,a){return new KI(s,e,i,a)}class XI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ta="RemoteStore";class $I{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ia(this)&&(oe(ta,"Restarting streams for network reachability change."),await(async function(g){const _=Te(g);_.Ea.add(4),await iu(_),_.Va.set("Unknown"),_.Ea.delete(4),await kh(_)})(this))}))})),this.Va=new XI(a,l)}}async function kh(s){if(ia(s))for(const e of s.Ra)await e(!0)}async function iu(s){for(const e of s.Ra)await e(!1)}function ST(s,e){const i=Te(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),cg(i)?ug(i):Eo(i).O_()&&lg(i,e))}function og(s,e){const i=Te(s),a=Eo(i);i.Ia.delete(e),a.O_()&&AT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ia(i)&&i.Va.set("Unknown"))}function lg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Eo(s).Z_(e)}function AT(s,e){s.da.$e(e),Eo(s).X_(e)}function ug(s){s.da=new HR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Eo(s).start(),s.Va.ua()}function cg(s){return ia(s)&&!Eo(s).x_()&&s.Ia.size>0}function ia(s){return Te(s).Ea.size===0}function wT(s){s.da=void 0}async function JI(s){s.Va.set("Online")}async function ZI(s){s.Ia.forEach(((e,i)=>{lg(s,e)}))}async function WI(s,e){wT(s),cg(s)?(s.Va.ha(e),ug(s)):s.Va.set("Unknown")}async function eC(s,e,i){if(s.Va.set("Online"),e instanceof lT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,e)}catch(a){oe(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yh(s,a)}else if(e instanceof Jc?s.da.Xe(e):e instanceof oT?s.da.st(e):s.da.tt(e),!i.isEqual(ve.min()))try{const a=await TT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const b=c.Ia.get(g);if(!b)return;c.Ia.set(g,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),AT(c,g);const A=new sr(b.target,g,_,b.sequenceNumber);lg(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){oe(ta,"Failed to raise snapshot:",a),await yh(s,a)}}async function yh(s,e,i){if(!vo(e))throw e;s.Ea.add(1),await iu(s),s.Va.set("Offline"),i||(i=()=>TT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ta,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await kh(s)}))}function RT(s,e){return e().catch((i=>yh(s,i,e)))}async function zh(s){const e=Te(s),i=gr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;tC(e);)try{const l=await kI(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,nC(e,l)}catch(l){await yh(e,l)}IT(e)&&CT(e)}function tC(s){return ia(s)&&s.Ta.length<10}function nC(s,e){s.Ta.push(e);const i=gr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function IT(s){return ia(s)&&!gr(s).x_()&&s.Ta.length>0}function CT(s){gr(s).start()}async function iC(s){gr(s).ra()}async function sC(s){const e=gr(s);for(const i of s.Ta)e.ea(i.mutations)}async function rC(s,e,i){const a=s.Ta.shift(),l=Wm.from(a,e,i);await RT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await zh(s)}async function aC(s,e){e&&gr(s).Y_&&await(async function(a,l){if((function(d){return rT(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();gr(a).B_(),await RT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await zh(a)}})(s,e),IT(s)&&CT(s)}async function ov(s,e){const i=Te(s);i.asyncQueue.verifyOperationInProgress(),oe(ta,"RemoteStore received new credentials");const a=ia(i);i.Ea.add(3),await iu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await kh(i)}async function oC(s,e){const i=Te(s);e?(i.Ea.delete(2),await kh(i)):e||(i.Ea.add(2),await iu(i),i.Va.set("Unknown"))}function Eo(s){return s.ma||(s.ma=(function(i,a,l){const c=Te(i);return c.sa(),new GI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:JI.bind(null,s),Yo:ZI.bind(null,s),t_:WI.bind(null,s),J_:eC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),cg(s)?ug(s):s.Va.set("Unknown")):(await s.ma.stop(),wT(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(i,a,l){const c=Te(i);return c.sa(),new FI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iC.bind(null,s),t_:aC.bind(null,s),ta:sC.bind(null,s),na:rC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class hg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new hg(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(s,e){if(ys("AsyncQueue",`${e}: ${s}`),vo(s))return new ue($.UNAVAILABLE,`${e}: ${s}`);throw s}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Rl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new io;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class lv{constructor(){this.ga=new mt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ge(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class fo{constructor(e,i,a,l,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new fo(e,i,io.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class lC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class uC{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Te(i),c=l.queries;l.queries=uv(),c.forEach(((d,y)=>{for(const g of y.ba)g.onError(a)}))})(this,new ue($.ABORTED,"Firestore shutting down"))}}function uv(){return new na((s=>QE(s)),Ch)}async function xT(s,e){const i=Te(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new lC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=fg(d,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&dg(i)}async function NT(s,e){const i=Te(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function cC(s,e){const i=Te(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&dg(i)}function hC(s,e,i){const a=Te(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function dg(s){s.Ca.forEach((e=>{e.next()}))}var Rm,cv;(cv=Rm||(Rm={})).Ma="default",cv.Cache="cache";class DT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new fo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rm.Cache}}class OT{constructor(e){this.key=e}}class MT{constructor(e){this.key=e}}class fC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=KE(e),this.tu=new io(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new lv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const O=l.get(b),F=xh(this.query,A)?A:null,te=!!O&&this.mutatedKeys.has(O.key),re=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let se=!1;O&&F?O.data.isEqual(F.data)?te!==re&&(a.track({type:3,doc:F}),se=!0):this.su(O,F)||(a.track({type:2,doc:F}),se=!0,(g&&this.eu(F,g)>0||_&&this.eu(F,_)<0)&&(y=!0)):!O&&F?(a.track({type:0,doc:F}),se=!0):O&&!F&&(a.track({type:1,doc:O}),se=!0,(g||_)&&(y=!0)),se&&(F?(d=d.add(F),c=re?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(F,te){const re=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:se})}};return re(F)-re(te)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,_=g!==this.Xa;return this.Xa=g,d.length!==0||_?{snapshot:new fo(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new MT(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new OT(a))})),i}cu(e){this.Za=e.ks,this.Ya=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mg="SyncEngine";class dC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class mC{constructor(e){this.key=e,this.hu=!1}}class gC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((y=>QE(y)),Ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(pe.comparator),this.Au=new Map,this.Vu=new ng,this.du={},this.mu=new Map,this.fu=ho.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pC(s,e,i=!0){const a=PT(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await VT(a,e,i,!0),l}async function yC(s,e){const i=PT(s);await VT(i,e,!0,!1)}async function VT(s,e,i,a){const l=await zI(s.localStore,ji(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await _C(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&ST(s.remoteStore,l),y}async function _C(s,e,i,a,l){s.pu=(A,O,F)=>(async function(re,se,me,Se){let _e=se.view.ru(me);_e.Ss&&(_e=await nv(re.localStore,se.query,!1).then((({documents:x})=>se.view.ru(x,_e))));const Qe=Se&&Se.targetChanges.get(se.targetId),rt=Se&&Se.targetMismatches.get(se.targetId)!=null,Le=se.view.applyChanges(_e,re.isPrimaryClient,Qe,rt);return fv(re,se.targetId,Le.au),Le.snapshot})(s,A,O,F);const c=await nv(s.localStore,e,!0),d=new fC(e,c.ks),y=d.ru(c.documents),g=nu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,g);fv(s,i,_.au);const b=new dC(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function vC(s,e,i){const a=Te(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Ch(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Am(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&og(a.remoteStore,l.targetId),Im(a,l.targetId)})).catch(_o)):(Im(a,l.targetId),await Am(a.localStore,l.targetId,!0))}async function EC(s,e){const i=Te(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),og(i.remoteStore,a.targetId))}async function TC(s,e,i){const a=CC(s);try{const l=await(function(d,y){const g=Te(d),_=ut.now(),b=y.reduce(((F,te)=>F.add(te.key)),ze());let A,O;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let te=_s(),re=ze();return g.xs.getEntries(F,b).next((se=>{te=se,te.forEach(((me,Se)=>{Se.isValidDocument()||(re=re.add(me))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,te))).next((se=>{A=se;const me=[];for(const Se of y){const _e=LR(Se,A.get(Se.key).overlayedDocument);_e!=null&&me.push(new vr(Se.key,_e,PE(_e.value.mapValue),un.exists(!0)))}return g.mutationQueue.addMutationBatch(F,_,me,y)})).next((se=>{O=se;const me=se.applyToLocalDocumentSet(A,re);return g.documentOverlayCache.saveOverlays(F,se.batchId,me)}))})).then((()=>({batchId:O.batchId,changes:XE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.du[d.currentUser.toKey()];_||(_=new mt(ke)),_=_.insert(y,g),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await su(a,l.changes),await zh(a.remoteStore)}catch(l){const c=fg(l,"Failed to persist write");i.reject(c)}}async function kT(s,e){const i=Te(s);try{const a=await MI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?je(d.hu,14607):l.removedDocuments.size>0&&(je(d.hu,42227),d.hu=!1))})),await su(i,a,e)}catch(a){await _o(a)}}function hv(s,e,i){const a=Te(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=Te(d);g.onlineState=y;let _=!1;g.queries.forEach(((b,A)=>{for(const O of A.ba)O.va(y)&&(_=!0)})),_&&dg(g)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function bC(s,e,i){const a=Te(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new mt(pe.comparator);d=d.insert(c,Gt.newNoDocument(c,ve.min()));const y=ze().add(c),g=new Mh(ve.min(),new Map,new mt(ke),d,y);await kT(a,g),a.Ru=a.Ru.remove(c),a.Au.delete(e),gg(a)}else await Am(a.localStore,e,!1).then((()=>Im(a,e,i))).catch(_o)}async function SC(s,e){const i=Te(s),a=e.batch.batchId;try{const l=await OI(i.localStore,e);LT(i,a,null),zT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await su(i,l)}catch(l){await _o(l)}}async function AC(s,e,i){const a=Te(s);try{const l=await(function(d,y){const g=Te(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return g.mutationQueue.lookupMutationBatch(_,y).next((A=>(je(A!==null,37113),b=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,b,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>g.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);LT(a,e,i),zT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await su(a,l)}catch(l){await _o(l)}}function zT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function LT(s,e,i){const a=Te(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function Im(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||UT(s,a)}))}function UT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(og(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),gg(s))}function fv(s,e,i){for(const a of i)a instanceof OT?(s.Vu.addReference(a.key,e),wC(s,a)):a instanceof MT?(oe(mg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||UT(s,a.key)):ge(19791,{wu:a})}function wC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(oe(mg,"New document in limbo: "+i),s.Eu.add(a),gg(s))}function gg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(lt.fromString(e)),a=s.fu.next();s.Au.set(a,new mC(i)),s.Ru=s.Ru.insert(i,a),ST(s.remoteStore,new sr(ji(Ih(i.path)),a,"TargetPurposeLimboResolution",Ah.ce))}}async function su(s,e,i){const a=Te(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(_){l.push(_);const b=sg.Es(g.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(g,_){const b=Te(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(O=>X.forEach(O.Ts,(F=>b.persistence.referenceDelegate.addReference(A,O.targetId,F))).next((()=>X.forEach(O.Is,(F=>b.persistence.referenceDelegate.removeReference(A,O.targetId,F)))))))))}catch(A){if(!vo(A))throw A;oe(rg,"Failed to update sequence numbers: "+A)}for(const A of _){const O=A.targetId;if(!A.fromCache){const F=b.vs.get(O),te=F.snapshotVersion,re=F.withLastLimboFreeSnapshotVersion(te);b.vs=b.vs.insert(O,re)}}})(a.localStore,c))}async function RC(s,e){const i=Te(s);if(!i.currentUser.isEqual(e)){oe(mg,"User change. New user:",e.toKey());const a=await ET(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ue($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await su(i,a.Ns)}}function IC(s,e){const i=Te(s),a=i.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let l=ze();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function PT(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=kT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bC.bind(null,e),e.Pu.J_=cC.bind(null,e.eventManager),e.Pu.yu=hC.bind(null,e.eventManager),e}function CC(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AC.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return DI(this.persistence,new CI,e.initialUser,this.serializer)}Cu(e){return new vT(ig.Vi,this.serializer)}Du(e){return new UI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class xC extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){je(this.persistence.referenceDelegate instanceof ph,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new dI(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new vT((a=>ph.Vi(a,i)),this.serializer)}}class Cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=RC.bind(null,this.syncEngine),await oC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uC})()}createDatastore(e){const i=Vh(e.databaseInfo.databaseId),a=HI(e.databaseInfo);return YI(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new $I(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>hv(this.syncEngine,i,0)),(function(){return rv.v()?new rv:new PI})())}createSyncEngine(e,i){return(function(l,c,d,y,g,_,b){const A=new gC(l,c,d,y,g,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Te(i);oe(ta,"RemoteStore shutting down."),a.Ea.add(5),await iu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class jT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}let NC=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ue($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=Te(l),y={documents:c.map((A=>gh(d.serializer,A)))},g=await d.jo("BatchGetDocuments",d.serializer.databaseId,lt.emptyPath(),y,c.length),_=new Map;g.forEach((A=>{const O=$R(d.serializer,A);_.set(O.key.toString(),O)}));const b=[];return c.forEach((A=>{const O=_.get(A.toString());je(!!O,55234,{key:A}),b.push(O)})),b})(this.datastore,e);return i.forEach((a=>this.recordVersion(a))),i}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Oh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((i=>{e.delete(i.key.toString())})),e.forEach(((i,a)=>{const l=pe.fromPath(a);this.mutations.push(new sT(l,this.precondition(l)))})),await(async function(a,l){const c=Te(a),d={writes:l.map((y=>dT(c.serializer,y)))};await c.Wo("Commit",c.serializer.databaseId,lt.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw ge(50498,{Gu:e.constructor.name});i=ve.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new ue($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(ve.min())?un.exists(!1):un.updateTime(i):un.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(ve.min()))throw new ue($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(i)}return un.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class DC{constructor(e,i,a,l,c){this.asyncQueue=e,this.datastore=i,this.options=a,this.updateFunction=l,this.deferred=c,this.zu=a.maxAttempts,this.M_=new ag(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new NC(this.datastore),i=this.Ju(e);i&&i.then((a=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(a)})).catch((l=>{this.Zu(l)}))))})).catch((a=>{this.Zu(a)}))}))}Ju(e){try{const i=this.updateFunction(e);return!eu(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const i=e.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!rT(i)}return!1}}const pr="FirestoreClient";class OC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function im(s,e){s.asyncQueue.verifyOperationInProgress(),oe(pr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ET(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function dv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await MC(s);oe(pr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>ov(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>ov(e.remoteStore,l))),s._onlineComponents=e}async function MC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(pr,"Using user provided OfflineComponentProvider");try{await im(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ao("Error using user provided cache. Falling back to memory cache: "+i),await im(s,new _h)}}else oe(pr,"Using default OfflineComponentProvider"),await im(s,new xC(void 0));return s._offlineComponents}async function pg(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(pr,"Using user provided OnlineComponentProvider"),await dv(s,s._uninitializedComponentsProvider._online)):(oe(pr,"Using default OnlineComponentProvider"),await dv(s,new Cm))),s._onlineComponents}function VC(s){return pg(s).then((e=>e.syncEngine))}function kC(s){return pg(s).then((e=>e.datastore))}async function xm(s){const e=await pg(s),i=e.eventManager;return i.onListen=pC.bind(null,e.syncEngine),i.onUnlisten=vC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=EC.bind(null,e.syncEngine),i}function zC(s,e,i,a){const l=new jT(a),c=new DT(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>xT(await xm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>NT(await xm(s),c)))}}function LC(s,e,i={}){const a=new fs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const b=new jT({next:O=>{b.Nu(),d.enqueueAndForget((()=>NT(c,A)));const F=O.docs.has(y);!F&&O.fromCache?_.reject(new ue($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&O.fromCache&&g&&g.source==="server"?_.reject(new ue($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),A=new DT(Ih(y.path),b,{includeMetadataChanges:!0,Ka:!0});return xT(c,A)})(await xm(s),s.asyncQueue,e,i,a))),a.promise}function UC(s,e){const i=new fs;return s.asyncQueue.enqueueAndForget((async()=>TC(await VC(s),e,i))),i.promise}function PC(s,e,i){const a=new fs;return s.asyncQueue.enqueueAndForget((async()=>{const l=await kC(s);new DC(s.asyncQueue,l,i,e,a).ju()})),a.promise}function BT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const jC="ComponentProvider",mv=new Map;function BC(s,e,i,a,l){return new sR(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,BT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const qT="firestore.googleapis.com",gv=!0;class pv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=gv}else this.host=e.host,this.ssl=e.ssl??gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hI)throw new ue($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yg{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new z2;switch(a.type){case"firstParty":return new j2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=mv.get(i);a&&(oe(jC,"Removing Datastore"),mv.delete(i),a.terminate())})(this),Promise.resolve()}}function qC(s,e,i,a={}){s=Jn(s,yg);const l=mo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;l&&(zv(`https://${y}`),Lv("Firestore",!0)),c.host!==qT&&c.host!==y&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!cr(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=ln.MOCK_USER;else{_=sS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ue($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ln(A)}s._authCredentials=new L2(new CE(_,b))}}class Lh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class At{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Wl(i,At._jsonSchema))return new At(e,a||null,new pe(lt.fromString(i.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Vt("string",At._jsonSchemaVersion),referencePath:Vt("string")};class Hl extends Lh{constructor(e,i,a){super(e,i,Ih(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new pe(e))}withConverter(e){return new Hl(this.firestore,e,this._path)}}function Xn(s,e,...i){if(s=tn(s),arguments.length===1&&(e=Fm.newId()),Q2("doc","path",e),s instanceof yg){const a=lt.fromString(e,...i);return N0(a),new At(s,null,new pe(a))}{if(!(s instanceof At||s instanceof Hl))throw new ue($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(lt.fromString(e,...i));return N0(a),new At(s.firestore,s instanceof Hl?s.converter:null,new pe(a))}}const yv="AsyncQueue";class _v{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ag(this,"async_queue_retry"),this._c=()=>{const a=nm();a&&oe(yv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;oe(yv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",vv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=hg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ge(47125,{Pc:vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function vv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class yr extends yg{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new _v,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _v(e),this._firestoreClient=void 0,await e}}}function HC(s,e){const i=typeof s=="object"?s:Bv(),a=typeof s=="string"?s:lh,l=km(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=nS("firestore");c&&qC(l,...c)}return l}function Uh(s){if(s._terminated)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||GC(s),s._firestoreClient}function GC(s){const e=s._freezeSettings(),i=BC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new OC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(nn.fromBase64String(e))}catch(i){throw new ue($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Vt("string",Mn._jsonSchemaVersion),bytes:Vt("string")};class Ph{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jh{constructor(e){this._methodName=e}}class Bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Vt("string",Bi._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class fi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new fi(e.vectorValues);throw new ue($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Vt("string",fi._jsonSchemaVersion),vectorValues:Vt("object")};const FC=/^__.*__$/;class QC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}class HT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new vr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function GT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{dataSource:s})}}class Bh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Bh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(GT(this.dataSource)&&FC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class KC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Vh(e)}createContext(e,i,a,l=!1){return new Bh({dataSource:e,methodName:i,targetDoc:a,path:en.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _g(s){const e=s._freezeSettings(),i=Vh(s._databaseId);return new KC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function FT(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);Eg("Data must be an object, but it was:",d,a);const y=YT(a,d);let g,_;if(c.merge)g=new Vn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const O=Gl(e,A,i);if(!d.contains(O))throw new ue($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);JT(b,O)||b.push(O)}g=new Vn(b),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new QC(new mn(y),g,_)}class qh extends jh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function YC(s,e,i){return new Bh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vg extends jh{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=YC(this,e,!0),a=this.Ac.map((c=>ru(c,i))),l=new co(a);return new MR(e.path,l)}isEqual(e){return e instanceof vg&&cr(this.Ac,e.Ac)}}function QT(s,e,i,a){const l=s.createContext(1,e,i);Eg("Data must be an object, but it was:",l,a);const c=[],d=mn.empty();_r(a,((g,_)=>{const b=$T(e,g,i);_=tn(_);const A=l.childContextForFieldPath(b);if(_ instanceof qh)c.push(b);else{const O=ru(_,A);O!=null&&(c.push(b),d.set(b,O))}}));const y=new Vn(c);return new HT(d,y,l.fieldTransforms)}function KT(s,e,i,a,l,c){const d=s.createContext(1,e,i),y=[Gl(e,a,i)],g=[l];if(c.length%2!=0)throw new ue($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)y.push(Gl(e,c[O])),g.push(c[O+1]);const _=[],b=mn.empty();for(let O=y.length-1;O>=0;--O)if(!JT(_,y[O])){const F=y[O];let te=g[O];te=tn(te);const re=d.childContextForFieldPath(F);if(te instanceof qh)_.push(F);else{const se=ru(te,re);se!=null&&(_.push(F),b.set(F,se))}}const A=new Vn(_);return new HT(b,A,d.fieldTransforms)}function ru(s,e){if(XT(s=tn(s)))return Eg("Unsupported field value:",e,s),YT(s,e);if(s instanceof jh)return(function(a,l){if(!GT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=ru(y,l.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return NR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ut.fromDate(a);return{timestampValue:mh(l.serializer,c)}}if(a instanceof ut){const c=new ut(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:mh(l.serializer,c)}}if(a instanceof Bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Mn)return{bytesValue:uT(l.serializer,a._byteString)};if(a instanceof At){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof fi)return(function(d,y){const g=d instanceof fi?d.toArray():d;return{mapValue:{fields:{[LE]:{stringValue:UE},[uh]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw y.createError("VectorValues must only contain numeric values.");return Zm(y.serializer,b)}))}}}}}})(a,l);if(yT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Qm(a)}`)})(s,e)}function YT(s,e){const i={};return DE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(s,((a,l)=>{const c=ru(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function XT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ut||s instanceof Bi||s instanceof Mn||s instanceof At||s instanceof jh||s instanceof fi||yT(s))}function Eg(s,e,i){if(!XT(i)||!xE(i)){const a=Qm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Gl(s,e,i){if((e=tn(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return $T(s,e);throw vh("Field path arguments must be of type string or ",s,!1,void 0,i)}const XC=new RegExp("[~\\*/\\[\\]]");function $T(s,e,i){if(e.search(XC)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ph(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new ue($.INVALID_ARGUMENT,y+s+g)}function JT(s,e){return s.some((i=>i.isEqual(e)))}class ZT{convertValue(e,i="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return _r(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((a=>St(a.doubleValue)));return new fi(i)}convertGeoPoint(e){return new Bi(St(e.latitude),St(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const i=fr(e);return new ut(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=lt.fromString(e);je(pT(a),9688,{name:e});const l=new jl(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return l.isEqual(i)||ys(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Tg extends ZT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,i)}}function Bc(...s){return new vg("arrayUnion",s)}const Ev="@firebase/firestore",Tv="4.10.0";function bv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Eh{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Gl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $C extends Eh{data(){return super.data()}}function JC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function WT(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class ZC extends ZT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,i)}}class Za{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ur extends Eh{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Gl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",ur._jsonSchema={type:Vt("string",ur._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Zc extends ur{data(e={}){return super.data(e)}}class so{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Za(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new Za(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Zc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Za(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Zc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Za(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),b=d.indexOf(y.doc.key)),{type:WC(y.type),doc:g,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:s})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Vt("string",so._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};const ex={maxAttempts:5};function Cl(s,e){if((s=tn(s)).firestore!==e)throw new ue($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class tx{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=_g(e)}get(e){const i=Cl(e,this._firestore),a=new ZC(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return ge(24041);const c=l[0];if(c.isFoundDocument())return new Eh(this._firestore,a,c.key,c,i.converter);if(c.isNoDocument())return new Eh(this._firestore,a,i._key,null,i.converter);throw ge(18433,{doc:c})}))}set(e,i,a){const l=Cl(e,this._firestore),c=WT(l.converter,i,a),d=FT(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,a);return this._transaction.set(l._key,d),this}update(e,i,a,...l){const c=Cl(e,this._firestore);let d;return d=typeof(i=tn(i))=="string"||i instanceof Ph?KT(this._dataReader,"Transaction.update",c._key,i,a,l):QT(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(e){const i=Cl(e,this._firestore);return this._transaction.delete(i._key),this}}class nx extends tx{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=Cl(e,this._firestore),a=new Tg(this._firestore);return super.get(e).then((l=>new ur(this._firestore,a,i._key,l._document,new Za(!1,!1),i.converter)))}}function ix(s,e,i){s=Jn(s,yr);const a={...ex,...i};(function(d){if(d.maxAttempts<1)throw new ue($.INVALID_ARGUMENT,"Max attempts must be at least 1")})(a);const l=Uh(s);return PC(l,(c=>e(new nx(s,c))),a)}function sx(s){s=Jn(s,At);const e=Jn(s.firestore,yr),i=Uh(e);return LC(i,s._key).then((a=>e1(e,s,a)))}function rx(s,e,i){s=Jn(s,At);const a=Jn(s.firestore,yr),l=WT(s.converter,e,i),c=_g(a);return bg(a,[FT(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,un.none())])}function Ws(s,e,i,...a){s=Jn(s,At);const l=Jn(s.firestore,yr),c=_g(l);let d;return d=typeof(e=tn(e))=="string"||e instanceof Ph?KT(c,"updateDoc",s._key,e,i,a):QT(c,"updateDoc",s._key,e),bg(l,[d.toMutation(s._key,un.exists(!0))])}function ax(s){return bg(Jn(s.firestore,yr),[new Oh(s._key,un.none())])}function Sv(s,...e){s=tn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||bv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(bv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof At)d=Jn(s.firestore,yr),y=Ih(s._key.path),c={next:_=>{e[a]&&e[a](e1(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Jn(s,Lh);d=Jn(_.firestore,yr),y=_._query;const b=new Tg(d);c={next:A=>{e[a]&&e[a](new so(d,b,_,A))},error:e[a+1],complete:e[a+2]},JC(s._query)}const g=Uh(d);return zC(g,y,l,c)}function bg(s,e){const i=Uh(s);return UC(i,e)}function e1(s,e,i){const a=i.docs.get(e._key),l=new Tg(s);return new ur(s,l,e._key,a,new Za(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){k2(go),ro(new Zr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new yr(new U2(a.getProvider("auth-internal")),new B2(d,a.getProvider("app-check-internal")),rR(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),or(Ev,Tv,e),or(Ev,Tv,"esm2020")})();const t1=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const ox=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const lx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Av=s=>{const e=lx(s);return e.charAt(0).toUpperCase()+e.slice(1)};var ux={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const hx=st.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>st.createElement("svg",{ref:g,...ux,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:t1("lucide",l),...!c&&!cx(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,b])=>st.createElement(_,b)),...Array.isArray(c)?c:[c]]));const ft=(s,e)=>{const i=st.forwardRef(({className:a,...l},c)=>st.createElement(hx,{ref:c,iconNode:e,className:t1(`lucide-${ox(Av(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Av(s),i};const fx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Nm=ft("book-open",fx);const dx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sm=ft("circle-check-big",dx);const mx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wv=ft("crown",mx);const gx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],px=ft("dice-1",gx);const yx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M9 15h.01",key:"fzyn71"}]],_x=ft("dice-2",yx);const vx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ex=ft("dice-3",vx);const Tx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}]],bx=ft("dice-4",Tx);const Sx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],Ax=ft("dice-5",Sx);const wx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Rx=ft("dice-6",wx);const Ix=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],Fl=ft("dices",Ix);const Cx=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],xx=ft("gavel",Cx);const Nx=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Dx=ft("ghost",Nx);const Ox=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],Mx=ft("hammer",Ox);const Vx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],n1=ft("history",Vx);const kx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],i1=ft("house",kx);const zx=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Lx=ft("loader",zx);const Ux=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dm=ft("log-out",Ux);const Px=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],jx=ft("megaphone",Px);const Bx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],s1=ft("rotate-ccw",Bx);const qx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Hx=ft("skull",qx);const Gx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fx=ft("trash-2",Gx);const Qx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Kx=ft("trophy",Qx);const Yx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rv=ft("user",Yx);const Xx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],r1=ft("x",Xx),$x={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:590c84080a05dcfd6aa637"},a1=jv($x),rm=M2(a1),On=HC(a1),ci=typeof __app_id<"u"?__app_id:"ghost-dice",Jx="7",Fa="ghost_dice_roomId",Jr={1:px,2:_x,3:Ex,4:bx,5:Ax,6:Rx},Qa=[{name:"Green",color:"text-green-400",border:"border-green-500",bg:"bg-green-900/20",shadow:"shadow-green-500/20",ring:"ring-green-500"},{name:"Orange",color:"text-orange-400",border:"border-orange-500",bg:"bg-orange-900/20",shadow:"shadow-orange-500/20",ring:"ring-orange-500"},{name:"Cyan",color:"text-cyan-400",border:"border-cyan-500",bg:"bg-cyan-900/20",shadow:"shadow-cyan-500/20",ring:"ring-cyan-500"},{name:"Yellow",color:"text-yellow-400",border:"border-yellow-500",bg:"bg-yellow-900/20",shadow:"shadow-yellow-500/20",ring:"ring-yellow-500"},{name:"Purple",color:"text-purple-400",border:"border-purple-500",bg:"bg-purple-900/20",shadow:"shadow-purple-500/20",ring:"ring-purple-500"},{name:"Rose",color:"text-rose-400",border:"border-rose-500",bg:"bg-rose-900/20",shadow:"shadow-rose-500/20",ring:"ring-rose-500"}],qc=({isShaking:s})=>w.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-900/40 via-gray-950 to-black"}),w.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(Jr),l=a[i%a.length],c=Jr[l];return w.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:w.jsx(c,{size:32})},i)})}),w.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),Iv=()=>w.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[w.jsx(Fl,{size:12,className:"text-indigo-400"}),w.jsx("span",{className:"text-[10px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),Zx=()=>w.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[w.jsx(Fl,{size:22,className:"text-indigo-400"}),w.jsx("span",{className:"text-[20px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),Cv=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:l})=>w.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:w.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[w.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Haunt?"}),w.jsx("p",{className:"text-zinc-400 mb-6 text-sm",children:l?"Leaving now will forfeit your soul (and the game).":"Leaving the lobby will disconnect you."}),w.jsxs("div",{className:"flex flex-col gap-3",children:[w.jsx("button",{onClick:i,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),l&&a&&w.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white",children:[w.jsx(i1,{size:18})," Return Group to Lobby"]}),w.jsxs("button",{onClick:s,className:"bg-red-900/80 hover:bg-red-800 text-red-200 py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 border border-red-900",children:[w.jsx(Dm,{size:18})," Leave Game"]})]})]})}),Wx=({logs:s,onClose:e})=>w.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:w.jsxs("div",{className:"bg-zinc-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-zinc-700 shadow-2xl",children:[w.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[w.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[w.jsx(n1,{size:18,className:"text-indigo-400"})," Sance Logs"]}),w.jsx("button",{onClick:e,className:"p-2 bg-zinc-800 rounded-full hover:bg-zinc-700",children:w.jsx(r1,{className:"text-zinc-400"})})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>w.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":i.type==="success"?"bg-green-900/10 border-green-500 text-green-300":i.type==="warning"?"bg-indigo-900/10 border-indigo-500 text-indigo-300":"bg-zinc-800/50 border-zinc-600 text-zinc-400"}`,children:[w.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),xv=({onClose:s})=>w.jsx("div",{className:"fixed inset-0 bg-black/95 z-100 flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:w.jsxs("div",{className:"bg-zinc-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-indigo-500/30 flex flex-col",children:[w.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[w.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[w.jsx(Nm,{className:"text-indigo-400"})," The Grimoire"]}),w.jsx("button",{onClick:s,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400",children:w.jsx(r1,{})})]}),w.jsx("div",{className:"p-6 overflow-y-auto text-zinc-300 space-y-6",children:w.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[w.jsx("h3",{className:"text-xl font-bold text-indigo-400 mb-2",children:"The Basics"}),w.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[w.jsxs("li",{children:["Everyone starts with ",w.jsx("strong",{children:"5 Dice"}),"."]}),w.jsxs("li",{children:["Only ",w.jsx("strong",{children:"you"})," can see your own dice."]}),w.jsx("li",{children:"Goal: Be the last player with dice remaining."}),w.jsxs("li",{children:[w.jsx("strong",{children:"1s (Aces) are Wild!"})," They count as any number, unless the bid is on 1s."]})]})]}),w.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[w.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Bidding & Challenging"}),w.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Bid:"})," Claim a quantity of a specific face value on the ",w.jsx("em",{children:"entire table"}),' (e.g., "Five 4s").']}),w.jsxs("li",{children:[w.jsx("strong",{children:"Raise:"})," You must bid a higher quantity OR the same quantity with a higher face value."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Liar!:"})," If you don't believe the previous bid, challenge it!"]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Result:"})," If the bid was valid, Challenger loses a die. If invalid, Bidder loses a die."]})]})]})]})})]})}),eN=({data:s,currentUserId:e,onClose:i})=>{if(!s)return null;const a=e===s.loserId,l=e===s.winnerId;let c="bg-zinc-800/95 border-zinc-500 text-white",d="animate-in fade-in zoom-in slide-in-from-bottom-10",y="bg-zinc-700 hover:bg-zinc-600 text-white border-zinc-500";l?(c="bg-green-900/95 border-green-500 text-green-100 shadow-[0_0_100px_rgba(34,197,94,0.5)]",y="bg-green-600 hover:bg-green-500 text-white border-green-400"):a&&(c="bg-red-900/95 border-red-500 text-red-100 shadow-[0_0_100px_rgba(239,68,68,0.5)]",d+=" animate-shake",y="bg-red-800 hover:bg-red-700 text-white border-red-400");const g=Jr[s.bidFace]||Fl;return w.jsxs("div",{className:"fixed inset-0 z-160 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:[a&&w.jsx("div",{className:"absolute inset-0 bg-red-500/10 z-0"}),l&&w.jsx("div",{className:"absolute inset-0 bg-green-500/10 z-0"}),w.jsxs("div",{className:`
      relative z-10 flex flex-col items-center justify-center p-8 rounded-3xl border-4 
      max-w-xl w-full text-center shadow-2xl duration-300
      ${c} ${d}
    `,children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("h2",{className:"text-3xl font-black uppercase tracking-widest mb-2",children:"LIAR CALLED!"}),w.jsxs("p",{className:"text-lg opacity-80",children:[w.jsx("span",{className:"font-bold border-b border-white/30 pb-0.5",children:s.challengerName})," ","called out"," ",w.jsx("span",{className:"font-bold border-b border-white/30 pb-0.5",children:s.bidderName})]})]}),w.jsxs("div",{className:"bg-black/30 p-6 rounded-xl w-full mb-8 border border-white/10",children:[w.jsxs("div",{className:"flex items-center justify-center gap-8 mb-4",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-xs uppercase tracking-wider opacity-70 mb-1",children:"Bid"}),w.jsxs("div",{className:"text-4xl font-black flex items-center gap-2 justify-center",children:[s.bidQuantity," ",w.jsx("span",{className:"text-sm opacity-50",children:"x"})," ",w.jsx(g,{size:32})]})]}),w.jsx("div",{className:"h-12 w-px bg-white/20"}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-xs uppercase tracking-wider opacity-70 mb-1",children:"Found"}),w.jsx("div",{className:`text-4xl font-black ${s.actualCount>=s.bidQuantity?"text-green-400":"text-red-400"}`,children:s.actualCount})]})]}),w.jsx("p",{className:"text-sm italic opacity-75",children:s.actualCount>=s.bidQuantity?"The bid was truthful!":"The bid was a lie!"})]}),w.jsxs("div",{className:"text-2xl font-bold uppercase tracking-wide bg-black/40 px-6 py-3 rounded-full border border-white/20 mb-8",children:[s.loserName," loses a die!"]}),w.jsx("button",{onClick:i,className:`
            w-full py-4 rounded-xl font-bold text-lg uppercase tracking-widest border-2 shadow-lg
            transition-all transform hover:scale-[1.02] active:scale-[0.98]
            ${y}
          `,children:"Continue"})]})]})},tN=w.jsx("style",{children:`
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
    .animate-shake {
      animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
    }
  `}),nN=({winnerName:s,onReturnToLobby:e,isHost:i})=>w.jsxs("div",{className:"fixed inset-0 z-155 bg-black/95 flex flex-col items-center justify-center animate-in fade-in duration-500",children:[w.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,var(--tw-gradient-stops))] from-indigo-900/40 via-black to-black pointer-events-none"}),w.jsxs("div",{className:"z-10 text-center space-y-8 p-8",children:[w.jsx("div",{className:"mb-4",children:w.jsx(Kx,{size:80,className:"text-yellow-400 mx-auto animate-bounce drop-shadow-[0_0_35px_rgba(250,204,21,0.6)]"})}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("h2",{className:"text-2xl text-zinc-400 font-serif tracking-widest uppercase",children:"The Deadliest Ghost"}),w.jsx("h1",{className:"text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-linear-to-b from-yellow-300 to-yellow-600 drop-shadow-2xl",children:s})]}),w.jsx("div",{className:"pt-12",children:i?w.jsx("button",{onClick:e,className:"group relative px-8 py-4 bg-zinc-100 text-black font-black text-xl rounded-full hover:bg-white hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)]",children:w.jsxs("span",{className:"flex items-center gap-3",children:[w.jsx(s1,{className:"group-hover:-rotate-180 transition-transform duration-500"}),"RETURN TO LOBBY"]})}):w.jsx("div",{className:"text-zinc-500 animate-pulse font-mono",children:"Waiting for Host to reset..."})})]})]});function iN(){const[s,e]=st.useState(null),[i,a]=st.useState("menu"),[l,c]=st.useState(()=>localStorage.getItem(Fa)||""),[d,y]=st.useState(""),[g,_]=st.useState(null),[b,A]=st.useState(!1),[O,F]=st.useState(""),[te,re]=st.useState(!1),[se,me]=st.useState(!1),[Se,_e]=st.useState(!1),[Qe,rt]=st.useState(!1),[Le,x]=st.useState(null),[S,C]=st.useState(1),[V,N]=st.useState(2),[k,R]=st.useState(()=>localStorage.getItem("gameHub_playerName")||"");st.useEffect(()=>{k&&localStorage.setItem("gameHub_playerName",k)},[k]),st.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await vw(rm,__initial_auth_token):await mw(rm))();const W=bw(rm,e);return()=>W()},[]),st.useEffect(()=>{if(!l||!s)return;const Z=Sv(Xn(On,"artifacts",ci,"public","data","rooms",l),W=>{if(W.exists()){const J=W.data();if(!J.players.some(Ce=>Ce.id===s.uid)){c(""),localStorage.removeItem(Fa),a("menu"),F("Connection Terminated.");return}_(J),J.status==="lobby"?a("lobby"):a("game"),J.feedbackTrigger?J.feedbackTrigger.id!==g?.feedbackTrigger?.id&&x(J.feedbackTrigger):x(null),J.currentBid&&!g?.currentBid&&(C(J.currentBid.quantity),N(J.currentBid.face))}else c(""),localStorage.removeItem(Fa),a("menu"),F("Room vanished into the ether.")});return()=>Z()},[l,s,g?.feedbackTrigger?.id]),st.useEffect(()=>{const Z=Sv(Xn(On,"game_hub_settings","config"),W=>{W.exists()&&W.data()[Jx]?.maintenance?re(!0):re(!1)});return()=>Z()},[]);const nt=async()=>{if(!k.trim())return F("Name required.");A(!0);const Z=Math.random().toString(36).substring(2,7).toUpperCase(),W={roomId:Z,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:k,dice:[],diceCount:5,eliminated:!1,ready:!0}],logs:[],turnIndex:0,currentBid:null,turnState:"IDLE",feedbackTrigger:null,winner:null,roundLoserId:null,revealReadyIds:[]};try{await rx(Xn(On,"artifacts",ci,"public","data","rooms",Z),W),c(Z),localStorage.setItem(Fa,Z),a("lobby")}catch{F("Network error.")}A(!1)},yt=async()=>{if(!d||!k)return F("Code and Name required.");A(!0);try{const Z=Xn(On,"artifacts",ci,"public","data","rooms",d),W=await sx(Z);if(!W.exists())throw new Error("Room not found.");const J=W.data();if(J.status!=="lobby")throw new Error("Game already in progress.");if(J.players.length>=6)throw new Error("Table full.");J.players.find(Ce=>Ce.id===s.uid)||await Ws(Z,{players:Bc({id:s.uid,name:k,dice:[],diceCount:5,eliminated:!1,ready:!0})}),c(d),localStorage.setItem(Fa,d)}catch(Z){F(Z.message)}A(!1)},H=async()=>{if(!l)return;const Z=Xn(On,"artifacts",ci,"public","data","rooms",l);if(g.hostId===s.uid)await ax(Z);else{const J=g.players.filter(Ce=>Ce.id!==s.uid);await Ws(Z,{players:J})}c(""),localStorage.removeItem(Fa),a("menu"),_e(!1)},ne=async Z=>{if(g.hostId!==s.uid)return;const W=g.players.filter(J=>J.id!==Z);await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{players:W})},he=async()=>{if(!g)return;const Z=g.players.map(W=>W.id===s.uid?{...W,ready:!W.ready}:W);await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{players:Z})},De=Z=>{const W=[];for(let J=0;J<Z;J++)W.push(Math.floor(Math.random()*6)+1);return W.sort()},Be=async()=>{if(g.players.length<2)return F("Need 2+ Players.");const Z=g.players.map(J=>({...J,diceCount:5,dice:De(5),eliminated:!1,ready:!1})),W=Math.floor(Math.random()*Z.length);await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{status:"playing",players:Z,turnIndex:W,currentBid:null,turnState:"BIDDING",feedbackTrigger:null,winner:null,revealReadyIds:[],roundLoserId:null,logs:[{id:Date.now().toString(),text:"The Haunt Begins. 5 Dice each.",type:"neutral"}]})},M=async()=>{const Z=g.currentBid,W=g.players.find(Ce=>Ce.id===s.uid);if(Z&&(S<Z.quantity||S===Z.quantity&&V<=Z.face))return;let J=(g.turnIndex+1)%g.players.length;for(;g.players[J].eliminated;)J=(J+1)%g.players.length;await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{currentBid:{quantity:S,face:V,playerId:s.uid,playerName:W.name},turnIndex:J,logs:Bc({id:Date.now().toString(),text:`${W.name} bids: ${S}x ${V}s`,type:"neutral"})})},K=async()=>{const Z=g.currentBid,W=g.players.find(Qt=>Qt.id===s.uid),J=g.players.find(Qt=>Qt.id===Z.playerId);let Ce=0,Pt=[];g.players.forEach(Qt=>{Qt.eliminated||(Pt=[...Pt,...Qt.dice],Qt.dice.forEach(it=>{(it===Z.face||it===1&&Z.face!==1)&&Ce++}))});const kt=Ce>=Z.quantity,sn=kt?W.id:J.id,Ft=kt?J.id:W.id,di=kt?W.name:J.name,et={id:Date.now(),type:"challenge_result",challengerName:W.name,bidderName:J.name,bidQuantity:Z.quantity,bidFace:Z.face,actualCount:Ce,loserId:sn,winnerId:Ft,loserName:di};let hn=[{id:Date.now().toString(),text:`${W.name} called LIAR on ${J.name}!`,type:"warning"},{id:Date.now()+1,text:`Result: ${Ce} matching dice found (Bid: ${Z.quantity}).`,type:kt?"success":"danger"},{id:Date.now()+2,text:`${di} loses a die.`,type:"danger"}];await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{turnState:"REVEAL",feedbackTrigger:et,logs:Bc(...hn),roundLoserId:sn,revealReadyIds:[]})},ie=async()=>{if(!g||!s)return;const Z=Xn(On,"artifacts",ci,"public","data","rooms",l);try{await ix(On,async W=>{const J=await W.get(Z);if(!J.exists())return;const Ce=J.data();if(Ce.revealReadyIds?.includes(s.uid))return;const Pt=[...Ce.revealReadyIds||[],s.uid],kt=Ce.players.find(et=>et.id===Ce.roundLoserId),sn=kt&&kt.diceCount<=1,di=Ce.players.filter(et=>!(et.eliminated||et.id===Ce.roundLoserId&&sn)).length;if(Pt.length>=di){const et=[...Ce.players],hn=et.findIndex(rn=>rn.id===Ce.roundLoserId);et[hn].diceCount-=1;let Qt="",it="BIDDING",dt=null,mi=null;et[hn].diceCount<=0&&(et[hn].eliminated=!0,Qt=`${et[hn].name} has run out of soul. Eliminated.`);const Er=et.filter(rn=>!rn.eliminated);Er.length===1?(it="FINISHED",dt=Er[0].name,mi=null):et.forEach(rn=>{rn.eliminated?rn.dice=[]:rn.dice=De(rn.diceCount)});let gi=hn;if(et[hn].eliminated)for(gi=(hn+1)%et.length;et[gi].eliminated&&Er.length>1;)gi=(gi+1)%et.length;const _t={players:et,turnState:it==="FINISHED"?"IDLE":"BIDDING",currentBid:null,turnIndex:gi,revealReadyIds:[],roundLoserId:null};Qt&&(_t.logs=Bc({id:Date.now().toString(),text:Qt,type:"danger"})),dt&&(_t.status="finished",_t.winner=dt,_t.feedbackTrigger=null),W.update(Z,_t)}else W.update(Z,{revealReadyIds:Pt})})}catch(W){console.error("Transaction failed: ",W)}},ae=async()=>{const Z=g.players.map(W=>({...W,dice:[],diceCount:5,eliminated:!1,ready:!0}));await Ws(Xn(On,"artifacts",ci,"public","data","rooms",l),{status:"lobby",players:Z,logs:[],currentBid:null,turnState:"IDLE",winner:null,feedbackTrigger:null,revealReadyIds:[],roundLoserId:null})},fe=g?.players.find(Z=>Z.id===s?.uid),Ae=g?.players[g?.turnIndex]?.id===s?.uid;if(te)return w.jsx("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:w.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[w.jsx(Mx,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),w.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),w.jsx("p",{className:"text-gray-400",children:"The spirits are resting. The tavern is closed until dusk."})]})});if(!s)return w.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-indigo-500 animate-pulse",children:"Summoning..."});if(l&&!g&&!O)return w.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[w.jsx(qc,{}),w.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[w.jsx(Lx,{size:48,className:"text-indigo-500 animate-spin"}),w.jsxs("div",{className:"text-center",children:[w.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),w.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming the Sance"})]})]})]});if(i==="menu")return w.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[w.jsx(qc,{}),se&&w.jsx(xv,{onClose:()=>me(!1)}),w.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[w.jsx(Fl,{size:64,className:"text-indigo-400 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(129,140,248,0.5)]"}),w.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-b from-indigo-300 to-zinc-500 font-serif tracking-widest drop-shadow-md",children:"GHOST DICE"}),w.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Dead Men Tell No Tales"})]}),w.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur border border-indigo-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[O&&w.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:O}),w.jsx("input",{className:"w-full bg-black/50 border border-zinc-600 p-3 rounded mb-4 text-white placeholder-zinc-500 focus:border-indigo-500 outline-none transition-colors",placeholder:"Soul Name",value:k,onChange:Z=>R(Z.target.value)}),w.jsxs("button",{onClick:nt,disabled:b,className:"w-full bg-linear-to-r from-indigo-700 to-zinc-600 hover:from-indigo-600 hover:to-zinc-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-indigo-500/30 shadow-[0_0_15px_rgba(99,102,241,0.2)] transition-all",children:[w.jsx(wv,{size:20})," Host Sance"]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[w.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-zinc-600 p-3 rounded text-white placeholder-zinc-500 uppercase font-mono tracking-wider focus:border-indigo-500 outline-none",placeholder:"CODE",value:d,onChange:Z=>y(Z.target.value.toUpperCase())}),w.jsx("button",{onClick:yt,disabled:b,className:"w-full sm:w-auto bg-zinc-800 hover:bg-zinc-700 border border-zinc-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),w.jsxs("button",{onClick:()=>me(!0),className:"w-full text-sm text-zinc-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[w.jsx(Nm,{size:16})," The Grimoire"]})]}),w.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Liar's Dice. A tribute game.",w.jsx("br",{}),"Developed by ",w.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",w.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-500 underline hover:text-indigo-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const Z=g.hostId===s.uid;return w.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-6 relative",children:[w.jsx(qc,{}),w.jsx(Zx,{}),Se&&w.jsx(Cv,{onConfirmLeave:H,onCancel:()=>_e(!1),isHost:Z,inGame:!1}),w.jsxs("div",{className:"z-10 w-full max-w-lg bg-zinc-900/90 backdrop-blur p-8 rounded-2xl border border-indigo-900/50 shadow-2xl mb-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-zinc-700 pb-4",children:[w.jsxs("h2",{className:"text-2xl font-serif text-indigo-400",children:["Crypt: ",w.jsx("span",{className:"text-white font-mono",children:l})]}),w.jsx("button",{onClick:()=>_e(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:w.jsx(Dm,{size:16})})]}),w.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-zinc-800",children:[w.jsx("h3",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:w.jsxs("span",{children:["Souls (",g.players.length,")"]})}),w.jsxs("div",{className:"space-y-2",children:[g.players.map((W,J)=>{const Ce=Qa[J%Qa.length];return w.jsxs("div",{className:`flex items-center justify-between p-3 rounded border ${Ce.bg} ${Ce.border}`,children:[w.jsxs("span",{className:`font-bold flex items-center gap-2 ${Ce.color}`,children:[w.jsx(Rv,{size:14})," ",W.name," ",W.id===g.hostId&&w.jsx(wv,{size:14,className:"text-yellow-500"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[w.jsx(sm,{size:12})," Present"]}),Z&&W.id!==s.uid&&w.jsx("button",{onClick:()=>ne(W.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-red-900/20 rounded-full transition-colors",title:"Kick Soul",children:w.jsx(Fx,{size:14})})]})]},W.id)}),g.players.length<2&&w.jsx("div",{className:"text-center text-zinc-500 italic text-sm py-2",children:"Waiting for more souls..."})]})]}),Z?w.jsx("button",{onClick:Be,disabled:g.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${g.players.length>=2?"bg-indigo-700 hover:bg-indigo-600 text-white shadow-indigo-900/20":"bg-zinc-800 cursor-not-allowed text-zinc-500"}`,children:g.players.length<2?"Need 2+ Players...":"Begin Haunt"}):w.jsx("div",{className:"text-center text-indigo-400/60 animate-pulse font-serif italic",children:"Waiting for Host..."})]}),w.jsx(Iv,{})]})}if(i==="game"&&g){const Z=g.players.findIndex(J=>J.id===s.uid),W=Qa[Z%Qa.length];return w.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col relative overflow-hidden font-sans",children:[tN," ",w.jsx(qc,{}),g.status==="finished"&&w.jsx(nN,{winnerName:g.winner,isHost:g.hostId===s.uid,onReturnToLobby:ae}),Le&&g.status!=="finished"&&w.jsx(eN,{data:Le,currentUserId:s.uid,onClose:()=>x(null)}),se&&w.jsx(xv,{onClose:()=>me(!1)}),Qe&&w.jsx(Wx,{logs:g.logs,onClose:()=>rt(!1)}),Se&&w.jsx(Cv,{onConfirmLeave:H,onCancel:()=>_e(!1),isHost:g.hostId===s.uid,onConfirmLobby:()=>{ae(),_e(!1)},inGame:!0}),w.jsxs("div",{className:"h-14 bg-zinc-900/80 border-b border-zinc-800 flex items-center justify-between px-4 z-160 backdrop-blur-md sticky top-0",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"font-serif text-indigo-500 font-bold tracking-wider hidden md:block",children:"GHOST DICE"}),w.jsx("span",{className:"text-xs text-zinc-500 bg-black/50 px-2 py-1 rounded",children:"Graveyard"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>me(!0),className:"p-2 hover:bg-zinc-800 rounded text-zinc-400",children:w.jsx(Nm,{size:18})}),w.jsx("button",{onClick:()=>rt(!Qe),className:`p-2 rounded-full ${Qe?"bg-indigo-900 text-indigo-400":"text-gray-400 hover:bg-gray-800"}`,children:w.jsx(n1,{size:18})}),w.jsx("button",{onClick:()=>_e(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:w.jsx(Dm,{size:18})})]})]}),w.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-6xl mx-auto w-full gap-4",children:[w.jsxs("div",{className:`w-full max-w-md ${W.bg} p-6 rounded-2xl border border-indigo-500/20 flex flex-col items-center justify-center min-h-[160px] animate-in fade-in zoom-in`,children:[w.jsx("div",{className:`text-xs ${W.color} uppercase tracking-widest mb-2`,children:"Current Bid"}),g.currentBid?w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("span",{className:"text-6xl font-black text-white drop-shadow-lg",children:g.currentBid.quantity}),w.jsx("span",{className:"text-4xl text-zinc-500",children:"x"}),Vc.createElement(Jr[g.currentBid.face],{size:64,className:`${W.color} drop-shadow-[0_0_10px_rgba(129,140,248,0.5)]`})]}),w.jsxs("div",{className:"mt-2 text-zinc-400 text-sm",children:["by"," ",w.jsx("span",{className:"text-white font-bold",children:g.currentBid.playerName})]})]}):w.jsx("div",{className:"text-zinc-600 italic",children:"No bids placed..."})]}),w.jsx("div",{className:"flex gap-4 justify-center flex-wrap w-full my-4",children:g.players.map((J,Ce)=>{if(J.id===s.uid)return null;const Pt=g.turnIndex===Ce,kt=Qa[Ce%Qa.length];return w.jsxs("div",{className:`
                                relative bg-zinc-900/90 p-4 rounded-xl border-2 w-32 md:w-40 transition-all flex flex-col items-center
                                ${Pt?`${kt.border} ${kt.shadow} scale-105`:"border-zinc-700"}
                                ${J.eliminated?"opacity-40 grayscale":""}
                            `,children:[g.turnState==="REVEAL"&&!J.eliminated&&g.revealReadyIds?.includes(J.id)&&w.jsx("div",{className:"absolute top-2 left-2",children:w.jsx(sm,{size:16,className:"text-green-500"})}),w.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5",children:[...Array(J.diceCount)].map((sn,Ft)=>w.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Pt?"bg-white":"bg-zinc-600"}`},Ft))}),J.eliminated?w.jsx(Hx,{size:32,className:"text-red-500 mb-2"}):w.jsx(Dx,{size:32,className:`${Pt?kt.color+" animate-bounce":"text-zinc-600"}`}),w.jsx("span",{className:`font-bold text-sm truncate w-full text-center ${Pt?kt.color:"text-zinc-400"}`,children:J.name}),g.turnState==="REVEAL"&&!J.eliminated&&w.jsx("div",{className:"absolute inset-0 bg-black/90 rounded-xl flex items-center justify-center z-10 p-2 flex-wrap gap-1",children:J.dice.map((sn,Ft)=>Vc.createElement(Jr[sn],{key:Ft,size:16,className:sn===g.currentBid?.face||sn===1?"text-white":"text-zinc-700"}))})]},J.id)})}),w.jsxs("div",{className:`w-full max-w-2xl bg-zinc-900/95 p-4 rounded-t-3xl border-t-4 ${W.border} backdrop-blur-md mt-auto shadow-2xl z-20 transition-all ${fe.eliminated&&g.status!=="finished"?"grayscale opacity-50 pointer-events-none":""}`,children:[(()=>{const Ce=g.roundLoserId===s.uid&&fe.diceCount<=1;return g.turnState==="REVEAL"&&!fe.eliminated&&!Ce&&g.status!=="finished"?w.jsx("div",{className:"absolute -top-16 left-0 right-0 flex justify-center z-30",children:g.revealReadyIds?.includes(s.uid)?w.jsxs("div",{className:"bg-zinc-900 px-6 py-2 rounded-full border border-green-500 text-green-500 font-bold flex items-center gap-2",children:[w.jsx(sm,{size:18})," Ready"]}):w.jsxs("button",{onClick:ie,className:`
                        px-8 py-3 rounded-full font-black text-lg shadow-xl uppercase tracking-widest flex items-center gap-2 animate-bounce
                        ${W.bg} ${W.text} ${W.border} border-2
                      `,children:[w.jsx(Fl,{size:24})," Roll Dice"]})}):null})(),w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Rv,{className:W.color}),w.jsx("span",{className:`font-bold text-xl ${W.color}`,children:fe.name}),w.jsxs("div",{className:`px-3 py-1 rounded-full text-xs border ${W.bg} ${W.color} ${W.border}`,children:[fe.diceCount," Dice Left"]})]}),w.jsx("div",{className:"flex flex-wrap justify-center gap-2 bg-black/40 p-2 rounded-xl",children:fe.dice.map((J,Ce)=>w.jsx("div",{className:`
                                    ${W.bg} rounded-lg p-1 shadow-inner
                                     ${g.currentBid&&(J===g.currentBid.face||J===1)?`ring-2 ${W.ring}`:""}
                                 `,children:Vc.createElement(Jr[J],{size:32,className:W.color})},Ce))})]}),w.jsx("div",{className:"min-h-[100px]",children:g.status==="finished"?w.jsxs("div",{className:"text-center",children:[w.jsxs("h3",{className:"text-3xl font-black text-indigo-400 mb-4",children:[g.winner," Wins!"]}),w.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:g.players.map(J=>w.jsxs("div",{className:`px-3 py-1 rounded-full text-[10px] uppercase font-bold border ${J.ready?"bg-green-900/30 border-green-500 text-green-400":"bg-zinc-800 border-zinc-600 text-zinc-500"}`,children:[J.name," ",J.ready&&""]},J.id))}),g.hostId===s.uid?w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsxs("div",{className:"flex gap-3 justify-center",children:[w.jsxs("button",{onClick:Be,disabled:!g.players.every(J=>J.ready),className:"bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[w.jsx(s1,{size:18})," Restart"]}),w.jsxs("button",{onClick:ae,disabled:!g.players.every(J=>J.ready),className:"bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[w.jsx(i1,{size:18})," Lobby"]})]}),!g.players.every(J=>J.ready)&&w.jsx("div",{className:"text-zinc-500 text-xs animate-pulse mt-2",children:"Waiting for all souls to be ready..."}),!fe.ready&&w.jsx("button",{onClick:he,className:"text-xs text-indigo-400 hover:text-indigo-300 underline mt-2",children:"Mark Self Ready"})]}):w.jsxs("div",{className:"w-full max-w-xs mx-auto",children:[w.jsx("button",{onClick:he,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg transition-all mb-2 ${fe.ready?"bg-green-900/30 border border-green-500 text-green-400":"bg-indigo-600 hover:bg-indigo-500 text-white"}`,children:fe.ready?"READY":"MARK READY"}),w.jsx("div",{className:"text-zinc-500 text-xs italic",children:"Waiting for Host..."})]})]}):Ae&&g.turnState==="BIDDING"?w.jsxs("div",{className:"flex flex-col gap-4",children:[w.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[w.jsxs("div",{className:"flex items-center bg-zinc-800 rounded-lg border border-zinc-700",children:[w.jsx("button",{onClick:()=>C(Math.max(1,S-1)),className:"p-3 hover:bg-zinc-700 text-zinc-400",children:"-"}),w.jsx("span",{className:"w-12 text-center font-bold text-xl",children:S}),w.jsx("button",{onClick:()=>C(S+1),className:"p-3 hover:bg-zinc-700 text-white",children:"+"})]}),w.jsx("span",{className:"text-zinc-500",children:"x"}),w.jsx("div",{className:"flex gap-1 bg-zinc-800 p-1 rounded-lg border border-zinc-700 overflow-x-auto",children:[1,2,3,4,5,6].map(J=>w.jsx("button",{onClick:()=>N(J),className:`p-2 rounded-md transition-all ${V===J?`${W.bg} ${W.color} shadow-lg`:"hover:bg-zinc-700 text-zinc-500"}`,children:Vc.createElement(Jr[J],{size:24})},J))})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[w.jsxs("button",{onClick:K,disabled:!g.currentBid,className:"bg-red-900/80 hover:bg-red-800 disabled:opacity-50 disabled:bg-zinc-800 text-red-200 py-4 rounded-xl font-bold text-lg shadow-lg border border-red-700 flex items-center justify-center gap-2",children:[w.jsx(xx,{size:20})," LIAR!"]}),w.jsxs("button",{onClick:M,disabled:g.currentBid&&(S<g.currentBid.quantity||S===g.currentBid.quantity&&V<=g.currentBid.face),className:`col-span-2 ${W.bg} border ${W.border} ${W.text} hover:opacity-80 disabled:opacity-50 disabled:bg-zinc-800 disabled:border-zinc-700 disabled:text-zinc-500 py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2`,children:[w.jsx(jx,{size:20})," Place Bid"]})]})]}):w.jsx("div",{className:"text-center text-zinc-500 animate-pulse py-8",children:g.turnState==="REVEAL"?"Waiting for all players to roll the dice...":`Waiting for ${g.players[g.turnIndex]?.name}...`})})]})]}),w.jsx(Iv,{})]})}return null}Kb.createRoot(document.getElementById("root")).render(w.jsx(st.StrictMode,{children:w.jsx(iN,{})}));
